<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Home</title>
    <meta name="description" content="Landing page" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <style>
      html { scroll-behavior: smooth; }
      .hero-card {
        background: none;
        border-radius: 0;
        padding: 0;
        box-shadow: none;
        backdrop-filter: none;
      }
      .hero-card h1 {
        font-family: Georgia, 'Times New Roman', serif;
        font-size: clamp(1.5rem, 5vw, 3.25rem);
      }
      .hero-visual {
        position: relative;
        width: 100%;
        height: clamp(24rem, 70vh, 48rem);
        min-height: 22rem;
        overflow: hidden;
      }
      .hero-visual img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
      }
      .hero-visual-content {
        position: absolute;
        z-index: 1;
        top: clamp(0rem, 3.5vh, 2.5rem);
        left: 0;
        right: 0;
        padding: 0 clamp(1rem, 4vw, 2.5rem);
      }
      .design-palette {
        display: grid;
        grid-template-columns: repeat(5, minmax(0, 1fr));
        gap: 0.65rem;
        justify-items: center;
      }
      .design-palette-column {
        text-align: center;
      }
      .design-feature .palette-label {
        font-size: 0.75rem;
        letter-spacing: 0.32em;
        text-transform: uppercase;
        font-weight: 600;
        color: #000 !important;
        margin-bottom: 0.75rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
      .design-feature .swatch {
        width: 40px;
        height: 40px;
        border-radius: 999px;
        border: 3px solid #fff;
        box-shadow: 0 14px 20px rgba(81, 56, 105, 0.16);
        display: inline-block;
        transform-origin: center;
      }
      .design-feature .design-palette .swatch {
        width: 40px;
        height: 40px;
        border-width: 3px;
      }
      .palette-menu {
        width: 100%;
        margin-top: 0;
      }
      .palette-menu summary {
        display: none;
        color: #000 !important;
        opacity: 1 !important;
      }
      .palette-menu summary span {
        color: #000 !important;
        opacity: 1 !important;
      }
      .palette-menu summary::-webkit-details-marker {
        display: none;
      }
      .palette-content {
        display: block;
        padding: 0;
        background: rgba(248, 245, 255, 0.9);
      }
      .swatch-slider button[data-swatch-prev],
      .swatch-slider button[data-swatch-next] {
        transition: transform 0.2s ease, opacity 0.2s ease;
      }
      .swatch-slider button[data-swatch-prev]:hover,
      .swatch-slider button[data-swatch-next]:hover {
        transform: translateY(-2px);
      }
      .swatch-slider .overflow-hidden {
        overflow: hidden !important;
        padding: 0.45rem 0.45rem;
        box-sizing: content-box;
      }
      .swatch-slider:not(.design-swatch-slider) .overflow-hidden {
        padding: 0.45rem 0.25rem !important;
        box-sizing: border-box;
      }
      .swatch.is-active {
        box-shadow: 0 0 0 3px rgba(168, 139, 208, 0.35), 0 8px 16px rgba(168, 139, 208, 0.28) !important;
        border-color: #A88BD0 !important;
        outline: 2px solid #A88BD0 !important;
        outline-offset: 2px;
        transform: translateY(-1px);
        scale: 1.08;
      }
      .swatch-slider:not(.design-swatch-slider) .swatch.is-active {
        scale: 1;
      }
      [data-swatch-window] {
        overflow: hidden !important;
        padding: 0.5rem 0;
      }
      .swatch-slider:not(.design-swatch-slider) [data-swatch-window] {
        display: flex;
        align-items: center;
        justify-content: flex-start;
      }
      .swatch-slider.is-centered [data-swatch-track] {
        justify-content: center;
        min-width: 100%;
      }
      .product-card .swatch-slider {
        width: 100%;
        justify-content: center;
      }
      .product-card .swatch-slider.ml-8 {
        margin-left: 0 !important;
      }
      .product-card > .mt-4.flex.items-center.justify-between {
        justify-content: center;
      }
      .product-card > .mt-4 > .flex.flex-col {
        width: 100%;
        align-items: center;
      }
      .swipe-cue {
        display: none;
        align-items: center;
        justify-content: center;
        width: 100%;
        gap: 0.5rem;
        font-size: 0.65rem;
        text-transform: uppercase;
        font-weight: 600;
        opacity: 0.85;
        letter-spacing: 0;
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
      }
      .swipe-cue .swipe-label {
        letter-spacing: 0.28em;
      }
      .swipe-cue .swipe-arrow {
        letter-spacing: 0;
        font-size: 0.75rem;
        line-height: 1;
      }
      .swipe-cue.is-active {
        visibility: visible;
        animation: swipeCueGlow 5.4s ease-in-out forwards;
      }
      @keyframes swipeCueGlow {
        0% { opacity: 0; text-shadow: none; transform: translateY(4px); }
        10% { opacity: 1; text-shadow: none; transform: translateY(0); }
        22% { text-shadow: 0 0 6px rgba(250, 245, 255, 0.75); }
        32% { text-shadow: none; }
        44% { text-shadow: 0 0 6px rgba(250, 245, 255, 0.75); }
        54% { text-shadow: none; }
        66% { text-shadow: 0 0 6px rgba(250, 245, 255, 0.75); }
        76% { text-shadow: none; }
        88% { text-shadow: 0 0 6px rgba(250, 245, 255, 0.75); }
        90% { opacity: 1; }
        96% { text-shadow: none; }
        100% { opacity: 0; text-shadow: none; transform: translateY(0); }
      }
      @media (max-width: 767px) {
        .palette-menu summary {
          display: flex;
        }
        .palette-content {
          display: none;
          padding: 0 1rem 1rem;
        }
        .palette-menu[open] .palette-content {
          display: block;
        }
        .palette-label--desktop {
          display: none;
        }
        .product-card .swatch-slider {
          width: 100%;
          justify-content: center;
          gap: 0.5rem;
          flex: 1 1 100%;
        }
        .product-card .swatch-slider.ml-8 {
          margin-left: 0 !important;
        }
        .product-card > .mt-4.flex.items-center.justify-between {
          justify-content: center;
        }
        .product-card > .mt-4 > .flex.flex-col {
          width: 100%;
          align-items: center;
        }
        .product-card .swatch-slider button[data-swatch-prev],
        .product-card .swatch-slider button[data-swatch-next] {
          width: 2rem;
          height: 2rem;
        }
        .product-card .swatch-slider button[data-swatch-prev] svg,
        .product-card .swatch-slider button[data-swatch-next] svg {
          width: 1.1rem;
          height: 1.1rem;
        }
        .product-card [data-swatch-track] {
          gap: 0.5rem;
        }
        .product-card .swatch.w-5,
        .product-card .swatch.h-5 {
          width: 1.35rem !important;
          height: 1.35rem !important;
        }
        .product-card > .mt-4 {
          margin-top: 0.75rem !important;
        }
        .product-card > .text-xs {
          margin-top: 0.55rem !important;
        }
        .product-card > .mt-2,
        .product-card > .tile-title {
          margin-top: 0.4rem !important;
        }
        .product-card > .text-sm {
          margin-top: 0.25rem !important;
        }
        .product-card > .rating {
          margin-top: 0.35rem !important;
        }
        .product-card > .mt-3.flex.items-center.gap-2 {
          margin-top: 0.6rem !important;
        }
        #section-2 .tumbler-carousel,
        #section-3 .cups-carousel,
        #section-accessories .accessories-carousel {
          --carousel-card-width: min(82vw, 18rem);
          --carousel-side-padding: calc((100% - var(--carousel-card-width)) / 2);
          display: flex;
          align-items: stretch;
          gap: 1rem;
          overflow-x: auto;
          scroll-snap-type: x mandatory;
          -webkit-overflow-scrolling: touch;
          padding-left: var(--carousel-side-padding);
          padding-right: var(--carousel-side-padding);
          padding-bottom: 0.75rem;
          scroll-padding-inline: var(--carousel-side-padding);
        }
        #section-2 .tumbler-carousel .product-card,
        #section-3 .cups-carousel .product-card,
        #section-accessories .accessories-carousel .product-card {
          flex: 0 0 var(--carousel-card-width);
          scroll-snap-align: center;
        }
        #section-4 [data-instagram-grid] {
          --carousel-card-width: min(82vw, 18rem);
          --carousel-side-padding: calc((100% - var(--carousel-card-width)) / 2);
          display: flex;
          align-items: stretch;
          gap: 1rem;
          overflow-x: auto;
          scroll-snap-type: x mandatory;
          -webkit-overflow-scrolling: touch;
          padding-left: var(--carousel-side-padding);
          padding-right: var(--carousel-side-padding);
          padding-bottom: 0.75rem;
          scroll-padding-inline: var(--carousel-side-padding);
        }
        #section-4 [data-instagram-grid] .insta-link {
          flex: 0 0 var(--carousel-card-width);
          scroll-snap-align: center;
        }
        #section-5 .popular-categories-carousel {
          --carousel-card-width: min(82vw, 18rem);
          --carousel-side-padding: calc((100% - var(--carousel-card-width)) / 2);
          display: flex;
          align-items: stretch;
          gap: 1rem;
          overflow-x: auto;
          scroll-snap-type: x mandatory;
          -webkit-overflow-scrolling: touch;
          padding-left: var(--carousel-side-padding);
          padding-right: var(--carousel-side-padding);
          padding-bottom: 0.75rem;
          scroll-padding-inline: var(--carousel-side-padding);
        }
        #section-5 .popular-categories-carousel > a {
          flex: 0 0 var(--carousel-card-width);
          scroll-snap-align: center;
        }
        #section-2 .swipe-cue {
          display: inline-flex;
        }
        #section-accessories .product-card > .mt-4 {
          min-height: 4.75rem;
        }
        #section-accessories .product-card > .text-xs {
          margin-top: 0.75rem !important;
          min-height: 2.4em;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        #section-accessories .product-card > .tile-title {
          margin-top: 0.45rem !important;
          min-height: 2.4em;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        #section-accessories .product-card > .text-sm {
          margin-top: 0.25rem !important;
          min-height: 1.2em;
        }
        #section-accessories .product-card > .rating {
          margin-top: 0.35rem !important;
          min-height: 1.2em;
        }
        #section-accessories .product-card > .mt-3.flex.items-center.gap-2 {
          margin-top: 0.6rem !important;
          min-height: 2.4rem;
        }
      }
      @media (min-width: 768px) {
        .palette-menu summary {
          display: none;
        }
        .palette-content {
          display: block !important;
          padding: 0;
          background: transparent;
        }
      }
      .design-card {
        border-radius: 1.75rem;
        border: 1px solid rgba(153, 40, 177, 0.15);
        background: #ffffff;
        box-shadow: 0 25px 45px rgba(112, 26, 117, 0.12);
        width: 100%;
        overflow: hidden;
      }
      .design-card-header {
        padding: 1.25rem 1.5rem;
        text-align: center;
        background: linear-gradient(135deg, #E0B0FF 0%, #D8B4FE 100%);
        color: #fff;
      }
      .design-card-header * {
        color: #fff !important;
      }
      .design-card-header h2 {
        margin: 0.25rem 0 0;
        font-size: 1.8rem;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        color: #fff;
      }
      .design-card-header .design-heading-link {
        color: inherit;
        text-decoration: none;
        transition: transform 180ms ease, color 180ms ease;
        display: inline-block;
      }
      .design-card-header .design-heading-link:hover {
        transform: scale(1.04);
        color: #fff;
      }
      .design-card-header p,
      .design-card-header span {
        color: #fff;
      }
      .design-card--full {
        max-width: min(1100px, 100%);
        margin: 0 auto;
      }
      .design-card-body {
        padding: 1.25rem;
        background: #ffffff;
      }
      .design-palette-grid {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
      }
      .design-center {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        align-items: center;
        width: 100%;
      }
      .design-card-frame {
        border-radius: 1.5rem;
        aspect-ratio: 9 / 16;
        display: flex;
        align-items: stretch;
        justify-content: center;
        border: 1px solid rgba(153, 40, 177, 0.18);
        background: rgba(248, 245, 255, 0.85);
        padding: 0.95rem;
        min-height: clamp(260px, 38vw, 360px);
        max-width: 380px;
      }
      .design-preview-row {
        width: 100%;
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        grid-template-areas:
          "preview preview"
          "color accessory";
        align-items: center;
        justify-items: center;
        gap: 1.25rem;
      }
      .design-preview-row .design-preview-frame {
        grid-area: preview;
      }
      .design-preview-row .design-preview-tile--color {
        grid-area: color;
      }
      .design-preview-row .design-preview-tile--accessory {
        grid-area: accessory;
      }
      @media (min-width: 900px) {
        .design-preview-row {
          display: flex;
          flex-direction: row;
          align-items: center;
          justify-content: center;
        }
      }
      .design-preview-tile {
        width: min(40vw, 180px);
        height: min(40vw, 180px);
        border-radius: 1.5rem;
        border: 1px solid rgba(153, 40, 177, 0.18) !important;
        background: rgba(248, 245, 255, 0.85) !important;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.2);
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        position: relative;
      }
      .design-preview-fill {
        width: 100%;
        height: 100%;
        border-radius: inherit;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(circle at 35% 35%, rgba(238, 242, 255, 0.9) 0%, rgba(148, 163, 184, 0.35) 100%);
        transition: transform 160ms ease;
        position: relative;
      }
      .design-preview-tile.has-selection .design-preview-fill {
        transform: scale(1.01);
      }
      .design-preview-placeholder {
        font-size: 0.75rem;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        color: #6b4a78 !important;
        text-align: center;
        padding: 0 1rem;
        line-height: 1.4;
      }
      @media (max-width: 899px) {
        .design-preview-tile--color .design-preview-placeholder {
          display: inline-block;
          max-width: 7rem;
        }
      }
      .design-preview-tile.has-selection .design-preview-placeholder {
        opacity: 0;
      }
      .design-preview-glyph {
        position: absolute;
        font-size: 1.8rem;
        line-height: 1;
        color: #1f0f24 !important;
      }
      .design-preview-tile:not(.has-selection) .design-preview-glyph {
        opacity: 0;
      }
      .design-preview-frame {
        position: relative;
      }
      .design-preview-clear {
        position: absolute;
        top: 0.65rem;
        right: 0.65rem;
        z-index: 3;
        border: none;
        width: 1.8rem;
        height: 1.8rem;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.92);
        color: #6B4A78 !important;
        font-size: 1.1rem;
        line-height: 1;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 10px 20px rgba(15, 23, 42, 0.18);
        opacity: 0;
        pointer-events: none;
        transition: opacity 150ms ease, transform 150ms ease, background 150ms ease;
      }
      .design-preview-clear:hover,
      .design-preview-clear:focus-visible {
        transform: translateY(-1px);
        background: #ffffff;
        color: #b05cf7 !important;
      }
      .design-preview-tile.has-selection .design-preview-clear,
      .design-preview-frame.has-image .design-preview-clear {
        opacity: 1;
        pointer-events: auto;
      }
      .design-preview-layer {
        width: 100%;
        height: 100%;
      }
      .design-preview-image {
        display: block;
        position: relative;
      }
      .design-preview-image img {
        display: none;
      }
      .design-preview-image.has-image img {
        display: block;
      }
      .design-preview-empty {
        pointer-events: none;
      }
      .design-preview-empty p {
        margin: 0;
      }
      .design-preview-frame .design-video-message-title,
      .design-preview-frame .design-video-message-body {
        color: #6B4A78 !important;
      }
      .design-preview-icon-inline {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin: 0 0.2rem;
        width: 2.25rem;
        height: 2.25rem;
        border-radius: 9999px;
        background: linear-gradient(135deg, #E0B0FF 0%, #B678F5 100%);
        color: #ffffff;
        box-shadow: 0 10px 20px rgba(153, 40, 177, 0.2);
      }
      .design-preview-icon-inline svg {
        width: 1rem;
        height: 1rem;
        color: inherit;
        fill: currentColor;
      }
      .design-preview-image.has-image .design-preview-empty {
        display: none;
      }
      .design-preview-video {
        display: none;
      }
      .design-preview-frame.is-video-active .design-preview-image {
        display: none;
      }
      .design-preview-frame.is-video-active .design-preview-video {
        display: block;
      }
      .design-preview-return {
        position: absolute;
        top: 0.65rem;
        left: 0.65rem;
        z-index: 2;
        border: none;
        background: rgba(255, 255, 255, 0.9);
        color: #6B4A78 !important;
        padding: 0.35rem 0.75rem;
        border-radius: 999px;
        font-size: 0.75rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        font-weight: 700;
        box-shadow: 0 10px 20px rgba(15, 23, 42, 0.2);
        cursor: pointer;
        opacity: 0;
        pointer-events: none;
        transition: opacity 150ms ease, transform 150ms ease;
      }
      .design-preview-frame.is-video-active .design-preview-return {
        opacity: 1;
        pointer-events: auto;
      }
      .design-preview-return:hover,
      .design-preview-return:focus-visible {
        transform: translateY(-1px);
      }
      .design-card-frame.design-video-frame {
        padding: 0;
        background: #0c0715;
        aspect-ratio: 9 / 16;
        min-height: clamp(360px, 55vw, 520px);
      }
      .design-card-frame img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .design-swatch-slider {
        justify-content: center;
      }
      .design-swatch-slider[data-swatch-align="center"] .design-swatch-track {
        justify-content: center;
        width: 100%;
      }
      .design-swatch-slider button[data-swatch-prev],
      .design-swatch-slider button[data-swatch-next] {
        width: 2.5rem !important;
        height: 2.5rem !important;
        border: 1px solid #e2e8f0 !important;
        background: #ffffff !important;
        border-radius: 9999px;
        box-shadow: 0 6px 14px rgba(31, 18, 52, 0.12) !important;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        opacity: 1 !important;
        visibility: visible !important;
      }
      .design-swatch-window {
        width: auto;
        max-width: 100%;
        overflow: visible !important;
        padding: 0.5rem 0;
      }
      @media (max-width: 900px) {
        .design-swatch-window {
          overflow: hidden !important;
          width: calc((48px * 4) + (0.5rem * 3)) !important;
          max-width: calc((48px * 4) + (0.5rem * 3)) !important;
        }
      }
      .design-swatch-track {
        gap: 0.5rem;
      }
      .design-swatch-slider .swatch {
        flex: 0 0 auto;
      }
      [data-design-colors-source] .swatch,
      [data-design-accessories-source] .swatch {
        width: 48px;
        height: 48px;
        border-width: 3px;
      }
      .design-swatch-slider button svg {
        color: #6b4a7a;
        stroke: currentColor;
      }
      .design-video-frame {
        width: 100%;
        min-height: 240px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }
      .design-video-frame video {
        width: 100%;
        height: 100%;
        border-radius: inherit;
        object-fit: contain;
        background: #000;
        transition: opacity 150ms ease, visibility 150ms ease;
      }
      .design-video-message {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1.5rem;
        text-align: center;
        background: rgba(248, 245, 255, 0.98);
        color: #1f0f24 !important;
      }
      .design-video-message-inner {
        display: flex;
        flex-direction: column;
        gap: 0.65rem;
        max-width: 320px;
      }
      .design-video-message-title {
        font-size: 1.15rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        font-weight: 600;
        color: #1f0f24 !important;
      }
      .design-video-message-body {
        font-size: 0.95rem;
        line-height: 1.5;
        color: rgba(31, 15, 36, 0.8) !important;
      }
      .design-video-message-cta {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        padding: 0.6rem 1.4rem;
        border-radius: 999px;
        background: linear-gradient(135deg, #E0B0FF 0%, #D8B4FE 100%);
        color: #1f0f24 !important;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        font-size: 0.75rem;
        text-decoration: none !important;
      }
      .design-video-message[hidden] {
        display: none;
      }
      .support-upload {
        display: grid;
        gap: 0.4rem;
        margin-top: 0.5rem;
      }
      .support-upload-trigger {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        width: 100%;
        border-radius: 0.9rem;
        padding: 0.85rem 1rem;
        border: 1px dashed rgba(153, 40, 177, 0.45);
        background: rgba(248, 245, 255, 0.75);
        color: #1f0f24;
        font-weight: 700;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        cursor: pointer;
        transition: transform 150ms ease, box-shadow 150ms ease, border-color 150ms ease;
      }
      .support-upload-trigger:hover {
        transform: translateY(-1px);
        box-shadow: 0 10px 22px rgba(17, 24, 39, 0.18);
        border-color: rgba(153, 40, 177, 0.7);
      }
      .support-upload-help {
        margin: 0;
        font-size: 0.85rem;
        opacity: 0.85;
        text-align: center;
        color: #1f0f24;
      }
      .support-upload-input {
        display: none;
      }
      .design-media-grid {
        margin-top: 1.5rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
      }
      .design-media-grid .wrap-menu {
        margin: 0;
      }
      .wrap-menu {
        margin-top: 1.25rem;
        border: 1px solid rgba(153, 40, 177, 0.2);
        border-radius: 1rem;
        overflow: hidden;
        background: rgba(248, 245, 255, 0.8);
        width: 100%;
        max-width: 720px;
        margin-left: auto;
        margin-right: auto;
      }
      .wrap-menu summary {
        list-style: none;
        cursor: pointer;
        padding: 0.9rem 1rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.18em;
        font-size: 0.75rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        color: #000 !important;
        background: rgba(248, 245, 255, 0.95);
      }
      .wrap-menu[open] summary {
        background: rgba(153, 40, 177, 0.08);
      }
      .wrap-menu summary::-webkit-details-marker {
        display: none;
      }
      .wrap-menu summary svg {
        width: 1rem;
        height: 1rem;
        transition: transform 200ms ease;
        color: #000 !important;
        stroke: currentColor;
      }
      .wrap-menu[open] summary svg {
        transform: rotate(180deg);
      }
      .wrap-menu ul {
        margin: 0;
        padding: 0.25rem 0 0.75rem;
        list-style: none;
        display: grid;
        gap: 0.35rem;
        background: rgba(248, 245, 255, 0.9);
      }
      .wrap-menu li {
        padding: 0.4rem 1rem;
        font-size: 0.85rem;
        color: #000 !important;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .wrap-menu li span,
      .wrap-menu li small {
        font-weight: 600;
        color: #000 !important;
      }
      .design-notes-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 1rem;
      }
      .design-notes-grid > div {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.75rem;
      }
      .design-notes-grid .wrap-field {
        grid-column: 1 / -1;
        align-items: center;
      }
      .design-notes-grid .wrap-field .design-selection-target--wrap {
        margin: 0 auto;
      }
      .design-notes-grid > div .design-selection-target {
        width: 100%;
      }
      .design-notes {
        margin-top: 1rem;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        color: #000;
        align-items: center;
      }
      .design-notes-field {
        display: inline-flex;
        align-items: stretch;
        justify-content: center;
        padding: 0.35rem 0.5rem;
        width: auto;
        max-width: 100%;
        margin: 0 auto;
        border-radius: 0.85rem;
        border: 1px dashed rgba(153, 40, 177, 0.35);
        background: rgba(255, 255, 255, 0.75);
        overflow: hidden;
        box-sizing: border-box;
      }
      .design-notes-field:focus-within {
        outline: 2px solid rgba(153, 40, 177, 0.35);
        outline-offset: 2px;
      }
      .design-notes label {
        font-size: 0.75rem;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        font-weight: 600;
        color: #000 !important;
      }
      .design-notes-label {
        align-self: center;
        text-align: center;
      }
      .design-notes textarea {
        display: block;
        flex: 0 1 auto;
        width: clamp(280px, 90vw, 820px);
        max-width: 100%;
        box-sizing: border-box;
        border: none;
        background: rgba(255, 255, 255, 0.9);
        padding: 1rem 1.25rem;
        min-height: 140px;
        height: auto;
        resize: none;
        overflow: hidden;
        font-size: 0.9rem;
        font-family: inherit;
        color: #000 !important;
        opacity: 1 !important;
        height: 100%;
      }
      .design-notes textarea::placeholder {
        color: #6b7280 !important;
        opacity: 1 !important;
      }
      .design-notes textarea:focus {
        outline: none;
      }
      /* Force homepage notes textarea to the same color as customization */
      #design-notes-home {
        color: #000 !important;
      }
      #design-notes-home::placeholder {
        color: #6b7280 !important;
      }
      .design-notes-panel {
        margin-top: 1.25rem;
        border-radius: 1.5rem;
        border: 1px solid rgba(153, 40, 177, 0.18);
        background: rgba(248, 245, 255, 0.9);
        padding: 0.75rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.75rem;
        color: #1f0f24;
        width: 100%;
        max-width: 720px;
        margin-left: auto;
        margin-right: auto;
      }
      .design-notes-panel p,
      .design-notes-panel span,
      .design-notes-panel label {
        color: #1f0f24 !important;
        opacity: 1 !important;
      }
      .design-notes-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 0.65rem;
        width: 100%;
        justify-items: center;
      }
      .design-selection-target {
        border-radius: 1rem;
        border: 1px dashed rgba(153, 40, 177, 0.35);
        background: rgba(255, 255, 255, 0.75);
        padding: 0.6rem;
        display: grid;
        grid-template-columns: auto minmax(0, 1fr) auto;
        align-items: center;
        gap: 0.65rem;
        min-height: 56px;
        transition: border-color 150ms ease, background 150ms ease;
        color: #1f0f24;
      }
      .design-selection-target.has-selection {
        border-style: solid;
        border-color: rgba(153, 40, 177, 0.65);
        background: #ffffff;
      }
      .design-selection-target span {
        color: #1f0f24 !important;
        opacity: 1 !important;
      }
      .design-palette-title,
      .design-notes-label {
        color: #1f0f24 !important;
        opacity: 1 !important;
      }
      .design-palette-title--bar {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.9rem 1rem;
        border-radius: 1rem;
        background: rgba(248, 245, 255, 0.9);
        border: 1px solid rgba(153, 40, 177, 0.2);
        font-size: 0.75rem;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        font-weight: 600;
        color: #000 !important;
        width: 100%;
        max-width: 720px;
        margin: 0 auto 0.5rem;
      }
      .design-selection-swatch {
        width: 36px;
        height: 36px;
        border-radius: 999px;
        border: 1px solid rgba(15, 23, 42, 0.08);
        background: rgba(241, 245, 249, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        color: #0f172a;
      }
      .design-selection-target.has-selection .design-selection-swatch {
        border-color: transparent;
      }
      .design-selection-target--wrap {
        width: 100%;
        max-width: 520px;
        margin: 0 auto;
      }
      .design-selection-label {
        font-size: 0.85rem;
        color: rgba(31, 15, 36, 0.85);
        letter-spacing: 0.04em;
        text-align: left;
      }
      @media (max-width: 767px) {
        .design-selection-label {
          line-height: 1.2;
          min-height: 2.4em;
          display: flex;
          align-items: center;
        }
      }
      .design-price-wrapper {
        display: flex;
        justify-content: center;
        margin-top: 1rem;
        margin-bottom: 0.25rem;
      }
      .design-price-bubble {
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.95);
        border: 1px solid rgba(153, 40, 177, 0.25);
        padding: 0.35rem 0.9rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
      .design-cta {
        margin-top: 0;
      }
      .design-price-value {
        font-size: 1.05rem;
        font-weight: 700;
        letter-spacing: 0.05em;
        color: #15803d !important;
      }
      /* Ensure price text overrides panel span color */
      .design-notes-panel .design-price-value {
        color: #15803d !important;
      }
      .design-notes-panel .cta-wrap {
        margin-top: 0.75rem;
        text-align: center;
      }
      .design-selection-clear {
        border: none;
        background: transparent;
        font-size: 1.1rem;
        color: rgba(15, 15, 36, 0.4);
        cursor: pointer;
        padding: 0.25rem 0.4rem;
        border-radius: 999px;
        transition: color 150ms ease, background 150ms ease;
        display: none;
      }
      .design-selection-target.has-selection .design-selection-clear {
        color: rgba(15, 15, 36, 0.75);
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
      .design-selection-clear:hover,
      .design-selection-clear:focus-visible {
        color: rgba(153, 40, 177, 0.85);
        background: rgba(153, 40, 177, 0.1);
      }
      .align-bottom {
        margin-top: 4.5rem;
      }
      .cta-wrap {
        margin-top: 0.75rem;
        text-align: center;
      }
      .design-feature .cta-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.55rem;
        padding: 0.95rem 1.85rem;
        border-radius: 999px;
        text-transform: uppercase;
        letter-spacing: 0.2em;
        font-size: 0.8rem;
        font-weight: 600;
        border: none;
        background: linear-gradient(135deg, #ffd166 0%, #f97316 100%);
        color: #000 !important;
        text-decoration: none !important;
        transition: transform 160ms ease, box-shadow 160ms ease;
      }
      .design-feature .cta-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 18px 36px rgba(249, 115, 22, 0.25);
      }
      .header-menu {
        display: none;
        position: relative;
      }
      .header-menu-toggle {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 2.25rem;
        height: 2.25rem;
        border: none;
        background: none;
        color: #B678F5;
        border-radius: 9999px;
        transition: color 160ms ease, transform 160ms ease;
      }
      .header-menu-toggle:hover {
        transform: translateY(-1px);
        color: rgba(182, 120, 245, 0.85);
      }
      .header-menu-toggle:focus-visible {
        outline: 2px solid rgba(182, 120, 245, 0.45);
        outline-offset: 2px;
      }
      .header-menu-panel {
        position: absolute;
        top: calc(100% + 0.75rem);
        left: 0;
        width: min(18rem, calc(100vw - 1.5rem));
        padding: 0.75rem;
        border-radius: 1rem;
        background: rgba(255, 255, 255, 0.98);
        border: 1px solid rgba(226, 215, 255, 0.8);
        box-shadow: 0 18px 40px rgba(20, 0, 45, 0.28);
        z-index: 40;
        backdrop-filter: blur(6px);
      }
      .header-menu-panel a {
        text-decoration: none;
      }
      .header-menu-collapsible {
        border-bottom: 1px solid rgba(182, 120, 245, 0.18);
        padding-bottom: 0.35rem;
        margin-bottom: 0.35rem;
      }
      .header-menu-collapsible:last-of-type {
        border-bottom: none;
        margin-bottom: 0;
        padding-bottom: 0;
      }
      .header-menu-toggle-link {
        width: 100%;
        border: none;
        background: none;
        padding: 0.35rem 0.25rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.75rem;
        color: #6B4A78 !important;
        font-size: 0.95rem;
        font-weight: 600;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        cursor: pointer;
      }
      .header-menu-toggle-link svg {
        width: 1.1rem;
        height: 1.1rem;
        transition: transform 200ms ease;
      }
      .header-menu-collapsible.is-open .header-menu-toggle-link {
        color: #6B4A78 !important;
      }
      .header-menu-collapsible.is-open .header-menu-toggle-link svg {
        transform: rotate(180deg);
      }
      /* Give swatch sliders a consistent 4-slot footprint */
      .swatch-slider[data-visible="4"] .swatch-slider-window {
        min-width: calc((1.25rem * 4) + (0.5rem * 3));
        margin: 0 auto;
      }
      .header-menu-submenu {
        margin-top: 0.25rem;
        padding-left: 0.1rem;
      }
      .header-menu-submenu[hidden] {
        display: none !important;
      }
      .header-menu-submenu,
      .header-menu-submenu a {
        color: #6B4A78 !important;
      }
      .header-menu-panel,
      .header-menu-panel * {
        color: #6B4A78 !important;
      }
      .header-menu-panel .tile-title {
        color: #6B4A78 !important;
      }
      .header-menu-panel .tile-title:hover {
        color: #6B4A78 !important;
      }
      .mauve-mode .header-menu-panel a.tile-title {
        color: #6B4A78 !important;
      }
      .mauve-mode .header-menu-panel a.tile-title:hover {
        color: #6B4A78 !important;
      }
      .header-menu-panel[hidden] {
        display: none !important;
      }
      .header-menu.is-open .header-menu-toggle {
        color: #9928B1;
      }
      @media (max-width: 640px) {
        .header-menu-panel {
          left: 0;
          right: auto;
          min-width: min(18rem, calc(100vw - 2rem));
        }
      }
      @media (max-width: 1024px) {
        .hero-visual {
          height: clamp(20rem, 60vh, 40rem);
        }
      }
      @media (max-width: 640px) {
        .hero-visual {
          height: clamp(14rem, 52vh, 20rem);
          min-height: 13rem;
        }
        .hero-visual img {
          position: absolute;
          inset: 0;
          width: 100%;
          height: 100%;
          object-fit: cover;
          object-position: center 55%;
        }
        .hero-visual-content {
          top: clamp(0.25rem, 8vw, 1.5rem);
          bottom: auto;
          padding: 0 1rem;
        }
      }
      @media (max-width: 767px) {
        .primary-nav {
          display: none;
        }
        .header-menu {
          display: inline-flex;
          align-items: center;
        }
      }
      .icon-button {
        border: none;
        background: linear-gradient(135deg, #E0B0FF 0%, #B678F5 100%);
        color: #ffffff;
        border-radius: 9999px;
        box-shadow: 0 10px 20px rgba(153, 40, 177, 0.2);
        transition: transform 200ms ease, box-shadow 200ms ease;
      }
      .header-main {
        display: grid;
        grid-template-columns: minmax(0, 1fr) auto minmax(0, 1fr);
        align-items: center;
        column-gap: clamp(1.5rem, 4vw, 3.5rem);
      }
      .header-main .header-start {
        grid-column: 1;
        justify-self: start;
      }
      .header-main .primary-nav {
        grid-column: 2;
      }
      .header-main .header-end {
        grid-column: 3;
        justify-self: end;
        display: flex;
        align-items: center;
        justify-content: flex-end;
      }
      .header-main .primary-nav {
        justify-self: center;
      }
      .primary-nav {
        gap: clamp(2rem, 6vw, 4rem);
      }
      .search-controls {
        display: flex;
        align-items: center;
        gap: 0;
        margin-right: 0;
        margin-left: clamp(1.5rem, 4vw, 3rem);
      }
      .search-actions {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        margin-left: clamp(1rem, 2.5vw, 1.75rem);
      }
      .search-field {
        width: 13.25rem;
      }
      @media (min-width: 768px) {
        .primary-nav {
          display: flex;
          align-items: center;
          justify-content: center;
          flex-wrap: wrap;
        }
        .search-field {
          width: 17.25rem;
        }
      }
      @media (min-width: 1024px) {
        .search-field {
          width: 18.25rem;
        }
      }
      @media (min-width: 768px) and (max-width: 1099px) {
        .primary-nav {
          gap: 1.5rem;
        }
        .search-controls {
          margin-left: 1.25rem;
        }
        .search-field {
          width: 15rem;
        }
      }
      @media (max-width: 1580px) {
        .search-controls .search-field {
          display: none;
        }
      }
      .icon-button svg {
        color: inherit;
        fill: currentColor;
      }
      .icon-button:hover {
        transform: translateY(-1px);
        box-shadow: 0 14px 28px rgba(153, 40, 177, 0.28);
      }
      .icon-button:focus-visible {
        outline: 2px solid #F7EEFF;
        outline-offset: 2px;
      }
      .header-search-trigger {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 2.25rem;
        height: 2.25rem;
        border: none;
        background: none;
        color: #B678F5;
        padding: 0;
        border-radius: 9999px;
        transition: color 160ms ease, transform 160ms ease;
      }
      .header-search-trigger:hover {
        transform: translateY(-1px);
        color: rgba(182, 120, 245, 0.85);
      }
      .header-search-trigger:focus-visible {
        outline: 2px solid rgba(182, 120, 245, 0.45);
        outline-offset: 2px;
      }
      .icon-button.favorites-active {
        color: #ff5ca8;
        box-shadow: 0 12px 28px rgba(255, 92, 168, 0.25);
      }
      .icon-button.favorites-active svg {
        color: #ff5ca8;
        fill: currentColor;
      }
      .icon-badge {
        position: absolute;
        top: -0.4rem;
        right: -0.25rem;
        min-width: 1.25rem;
        height: 1.25rem;
        padding: 0 0.35rem;
        border-radius: 9999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 0.68rem;
        font-weight: 600;
        background: linear-gradient(135deg, #FF7EC8 0%, #FF417E 100%);
        color: #fff;
        box-shadow: 0 6px 12px rgba(255, 65, 126, 0.32);
      }
      .tile-actions {
        min-width: 5.5rem;
      }
      .tile-actions .icon-button {
        width: 2.5rem;
        height: 2.5rem;
        box-shadow: 0 8px 16px rgba(153, 40, 177, 0.16);
      }
      .badge-stack {
        position: absolute;
        top: 0.55rem;
        right: 0.85rem;
        display: inline-flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 0.25rem;
        z-index: 6;
        pointer-events: none;
      }
      .badge-stack span,
      .badge-stack .inline-block {
        transform: scale(0.9);
        transform-origin: top right;
      }
      .group .aspect-[4/5] {
        position: relative;
      }
      @media (max-width: 640px) {
        .badge-stack {
          top: 0.25rem;
          right: 0.5rem;
        }
        .badge-stack span,
        .badge-stack .inline-block {
          transform: scale(0.7);
        }
      }
      .rating {
        margin-bottom: 1.25rem;
      }
      .best-sellers-nav-inline {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.35rem 0.85rem;
        border-radius: 999px;
        background: transparent;
        color: #000000;
        font-size: 0.65rem;
        font-weight: 700;
        letter-spacing: 0.14em;
        text-transform: uppercase;
        transition: transform 160ms ease, box-shadow 160ms ease, background 160ms ease;
      }
      .best-sellers-nav-inline:visited {
        color: #000000;
      }
      .best-sellers-nav-inline:hover {
        transform: translateY(-1px);
        box-shadow: 0 14px 26px rgba(249, 115, 22, 0.26);
        background: linear-gradient(135deg, #ffd166 0%, #f97316 100%);
        color: #ffffff;
      }
      .best-sellers-nav-inline svg {
        width: 0.78rem;
        height: 0.78rem;
      }
      .best-sellers-nav-inline span {
        white-space: nowrap;
      }
      .best-sellers-nav-inline.is-active {
        box-shadow: 0 16px 30px rgba(249, 115, 22, 0.32);
      }
      .best-sellers-nav-inline-mobile {
        width: 100%;
        justify-content: center;
      }
      .customization-card,
      .customization-card:hover,
      .customization-card *:not(.customization-title-link) {
        transform: none !important;
        transition: none !important;
      }
      .customization-title-link,
      .customization-title-link:visited {
        text-decoration: none !important;
        color: inherit;
        display: inline-block;
        transition: transform 220ms ease, text-shadow 220ms ease;
      }
      .customization-title-link:hover,
      .customization-title-link:focus-visible {
        transform: translateY(-0.35rem);
        text-shadow: 0 16px 28px rgba(153, 40, 177, 0.35);
        text-decoration: none !important;
        color: inherit;
      }
      body.signin-open,
      body.signup-open,
      body.support-open {
        overflow: hidden;
      }
      .signin-overlay,
      .signup-overlay,
      .support-overlay {
        position: fixed;
        inset: 0;
        z-index: 90;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1.5rem;
        background: rgba(15, 23, 42, 0.55);
        opacity: 0;
        pointer-events: none;
        transition: opacity 220ms ease;
      }
      .signin-overlay.is-open,
      .signup-overlay.is-open,
      .support-overlay.is-open {
        opacity: 1;
        pointer-events: auto;
      }
.signin-card,
.signup-card,
.support-card {
  position: relative;
  width: min(420px, 100%);
  border-radius: 1.75rem;
  overflow: hidden;
  background: linear-gradient(135deg, #E0B0FF 0%, #B678F5 100%);
  box-shadow: 0 30px 60px rgba(79, 70, 229, 0.3);
  color: #ffffff;
}
.signin-card::before,
.signup-card::before,
.support-card::before {
  content: none;
}
      .signin-card-content,
      .signup-card-content,
      .support-card-content {
        position: relative;
        padding: 2.5rem 2.5rem 2.75rem;
        display: grid;
        gap: 1.75rem;
      }
      .signin-close-btn,
      .signup-close-btn,
      .support-close-btn {
        position: absolute;
        top: 1rem;
        right: 1rem;
        border: none;
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.12);
        color: #ffffff;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: background 180ms ease, transform 180ms ease;
        z-index: 1;
      }
      .signin-close-btn:hover,
      .signup-close-btn:hover,
      .support-close-btn:hover {
        background: rgba(255, 255, 255, 0.22);
        transform: translateY(-1px);
      }
      .signin-eyebrow,
      .signup-eyebrow,
      .support-eyebrow {
        font-size: 0.7rem;
        letter-spacing: 0.32em;
        text-transform: uppercase;
        font-weight: 600;
        opacity: 0.85;
        text-align: center;
      }
.signin-title,
.signup-title,
.support-title {
        font-family: Georgia, 'Times New Roman', serif;
        font-size: clamp(2rem, 5vw, 2.75rem);
        text-transform: uppercase;
        letter-spacing: 0.18em;
        margin: 0;
        text-align: center;
      }
      .signin-subtitle,
      .signup-subtitle,
      .support-subtitle {
        margin: 0;
        text-align: center;
        font-size: 0.95rem;
        opacity: 0.85;
        line-height: 1.6;
      }
      .signin-form,
      .signup-form,
      .support-form {
        display: grid;
        gap: 1rem;
      }
      .signin-field,
      .signup-field,
      .support-field {
        display: grid;
        gap: 0.35rem;
        font-size: 0.8rem;
        letter-spacing: 0.12em;
        text-transform: uppercase;
      }
      .signin-input,
      .signup-input,
      .support-input,
      .signin-submit,
      .signup-submit,
      .support-submit {
        font: inherit;
      }
      .signin-input,
      .signup-input,
      .support-input,
      textarea.support-input {
        width: 100%;
        border-radius: 0.9rem;
        border: none;
        padding: 0.85rem 1rem;
        background: rgba(255, 255, 255, 0.95);
        color: #1f0f24;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.24);
      }
.signin-input:focus,
.signup-input:focus,
.support-input:focus,
      textarea.support-input:focus {
        outline: 2px solid rgba(153, 40, 177, 0.65);
        outline-offset: 2px;
      }
.header-search-input {
  color: #1f2937;
}
.header-search-input::placeholder {
  color: rgba(100, 116, 139, 0.85);
}
.header-search-input:focus {
  border-color: rgba(153, 40, 177, 0.85) !important;
  box-shadow: 0 0 0 0.18rem rgba(153, 40, 177, 0.28);
}
      .signin-footer,
      .signup-footer,
      .support-footer {
        text-align: center;
        font-size: 0.85rem;
        opacity: 0.9;
      }
      .signin-footer a,
      .signup-footer a,
      .support-footer a {
        text-decoration: underline;
      }
      .signin-submit,
      .signup-submit,
      .support-submit {
        border: none;
        border-radius: 999px;
        padding: 0.95rem 1.5rem;
        text-transform: uppercase;
        letter-spacing: 0.22em;
        font-weight: 600;
        background: linear-gradient(135deg, #ffd166 0%, #f97316 100%);
        color: #1f0f24;
        transition: transform 180ms ease, box-shadow 180ms ease;
      }
      .signin-submit:hover,
      .signup-submit:hover,
      .support-submit:hover {
        transform: translateY(-2px);
        box-shadow: 0 16px 32px rgba(249, 115, 22, 0.28);
      }
      :root {
        --tile-mauve-bg: linear-gradient(135deg, #E0B0FF 0%, #D8B4FE 100%);
        --tile-cream-text: #fff7e6;
      }
      .tile-mauve {
        background: var(--tile-mauve-bg);
      }
      .product-card {
        background: var(--tile-mauve-bg);
        border: 1px solid rgba(226, 232, 240, 0.9);
        border-radius: 1.25rem;
        box-shadow: 0 12px 24px rgba(94, 62, 138, 0.12);
        padding: 1.25rem;
      }
      .product-card,
      .product-card * {
        color: var(--tile-cream-text) !important;
      }
      .tile-action-favorite.is-active {
        background: linear-gradient(135deg, #FF9AED 0%, #FF5CA8 100%);
        box-shadow: 0 10px 24px rgba(255, 92, 168, 0.32);
      }
      .tile-action-design {
        background: linear-gradient(135deg, #E0B0FF 0%, #B678F5 100%);
        box-shadow: 0 10px 20px rgba(153, 40, 177, 0.2);
        color: #ffffff;
      }
      .tile-action-design svg {
        color: inherit;
        fill: currentColor;
      }
      .tile-action-design:hover {
        box-shadow: 0 14px 28px rgba(153, 40, 177, 0.28);
      }
      .cart-drawer {
        position: fixed;
        inset: 0;
        z-index: 60;
        pointer-events: none;
      }
      .cart-drawer.is-open {
        pointer-events: auto;
      }
      .cart-overlay {
        position: absolute;
        inset: 0;
        background: rgba(15, 23, 42, 0.55);
        opacity: 0;
        transition: opacity 240ms ease;
      }
      .cart-drawer.is-open .cart-overlay {
        opacity: 1;
      }
      .mobile-search {
        position: fixed;
        top: calc(2.25rem + 5.5rem);
        left: 0;
        right: 0;
        z-index: 35;
        background: rgba(255, 255, 255, 0.95);
        border-bottom: 1px solid rgba(148, 163, 184, 0.35);
        backdrop-filter: blur(12px);
        box-shadow: 0 20px 40px rgba(15, 23, 42, 0.2);
      }
      .mobile-search[hidden] {
        display: none;
      }
      .mobile-search-inner {
        padding: 0.9rem 1.5rem 1.2rem;
        width: min(640px, 100%);
        margin: 0 auto;
      }
      .mobile-search-form {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }
      .mobile-search-label {
        position: relative;
        flex: 1 1 auto;
      }
      .mobile-search-input {
        width: 100%;
        height: 2.8rem;
        border-radius: 999px;
        border: none;
        padding: 0 2.75rem 0 2.5rem;
        background: rgba(248, 250, 252, 0.95);
        color: #1f2937;
        font-size: 0.95rem;
        box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.3);
      }
      .mobile-search-input:focus {
        outline: 2px solid rgba(153, 40, 177, 0.6);
        outline-offset: 2px;
      }
      .mobile-search-icon {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        width: 1.2rem;
        height: 1.2rem;
        color: #64748b;
      }
      .mobile-search-close {
        border: none;
        background: rgba(148, 163, 184, 0.15);
        color: #1f2937;
        border-radius: 999px;
        width: 2.4rem;
        height: 2.4rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: background 160ms ease;
      }
      .mobile-search-close:hover {
        background: rgba(148, 163, 184, 0.3);
      }
      @media (min-width: 768px) {
        .mobile-search {
          display: none !important;
        }
      }
      .cart-panel {
        position: absolute;
        top: 0;
        right: 0;
        height: 100%;
        width: min(384px, 92vw);
        background: linear-gradient(135deg, #E0B0FF 0%, #B678F5 100%);
        color: var(--tile-cream-text);
        display: flex;
        flex-direction: column;
        transform: translateX(100%);
        transition: transform 260ms cubic-bezier(0.22, 1, 0.36, 1);
        box-shadow: -12px 0 32px rgba(15, 23, 42, 0.25);
      }
      .cart-drawer.is-open .cart-panel {
        transform: translateX(0);
      }
      .cart-header {
        padding: 1.5rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.18);
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
      }
      .cart-title {
        font-family: inherit;
        font-size: 1.125rem;
        font-weight: 600;
        color: var(--tile-cream-text);
      }
      .cart-close-btn {
        border: none;
        background: transparent;
        width: 2.25rem;
        height: 2.25rem;
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        color: var(--tile-cream-text);
        transition: background-color 200ms ease;
      }
      .cart-close-btn:hover {
        background-color: rgba(255, 255, 255, 0.18);
        color: var(--tile-cream-text);
      }
      .cart-body {
        flex: 1 1 auto;
        overflow-y: auto;
        padding: 1.25rem 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      .cart-empty {
        text-align: center;
        color: var(--tile-cream-text);
        font-size: 0.95rem;
        margin-top: 2rem;
      }
      .cart-item {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.75rem;
        padding: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.18);
        border-radius: 1rem;
        background: rgba(255, 255, 255, 0.12);
        box-shadow: 0 8px 18px rgba(15, 23, 42, 0.18);
      }
      .cart-item-main {
        display: flex;
        gap: 0.85rem;
        align-items: flex-start;
        flex: 1 1 auto;
      }
      .cart-item-preview {
        width: 3.1rem;
        height: 3.1rem;
        border-radius: 0.9rem;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        flex-shrink: 0;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.28), 0 6px 16px rgba(15, 23, 42, 0.25);
      }
      .cart-item-info {
        display: flex;
        flex-direction: column;
        gap: 0.45rem;
      }
      .cart-item-name {
        font-weight: 700;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--tile-cream-text);
      }
      .cart-item-price {
        font-size: 0.85rem;
        font-weight: 600;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        color: var(--tile-cream-text);
      }
      .cart-item-options {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 0.35rem;
        font-size: 0.75rem;
        letter-spacing: 0.14em;
        text-transform: uppercase;
        color: var(--tile-cream-text);
      }
      .cart-item-option {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
      }
      .cart-item-option .label {
        font-weight: 600;
      }
      .cart-item-swatch {
        width: 1.25rem !important;
        height: 1.25rem !important;
        border-radius: 50% !important;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-left: 0.28rem;
        vertical-align: middle;
        transform: translateY(-1px);
        border: 1px solid rgba(15, 23, 42, 0.25);
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.65);
        flex: 0 0 auto;
        aspect-ratio: 1 / 1;
        overflow: hidden;
        clip-path: circle(50% at 50% 50%);
      }
      .cart-item-swatch.is-text {
        width: auto !important;
        min-width: 2.75rem;
        height: auto !important;
        padding: 0.15rem 0.45rem;
        border-radius: 999px !important;
        aspect-ratio: auto;
        clip-path: none;
        overflow: visible;
        line-height: 1;
      }
      .cart-item-quantity {
        display: inline-flex;
        align-items: center;
        gap: 0.45rem;
        font-size: 0.78rem;
        font-weight: 600;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        color: var(--tile-cream-text);
      }
      .cart-item-quantity span {
        letter-spacing: 0;
        font-size: 0.95rem;
        font-weight: 700;
        color: var(--tile-cream-text);
      }
      .cart-qty-btn {
        width: 2rem;
        height: 2rem;
        border-radius: 999px;
        border: none;
        background: rgba(255, 255, 255, 0.18);
        color: var(--tile-cream-text);
        font-size: 1.1rem;
        font-weight: 600;
        line-height: 1;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
      .cart-qty-btn:hover {
        background: rgba(255, 255, 255, 0.3);
      }
      .cart-remove-btn {
        border: none;
        background: transparent;
        color: var(--tile-cream-text);
        font-size: 1.25rem;
        line-height: 1;
        padding: 0.25rem;
        border-radius: 999px;
      }
      .cart-remove-btn:hover {
        background: rgba(255, 255, 255, 0.22);
        color: var(--tile-cream-text);
      }
      .cart-footer {
        padding: 1.5rem;
        border-top: 1px solid rgba(255, 255, 255, 0.18);
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      .cart-summary {
        display: flex;
        align-items: center;
        justify-content: space-between;
        color: var(--tile-cream-text);
        font-weight: 600;
      }
      .checkout-btn {
        border: none;
        border-radius: 999px;
        height: 2.75rem;
        background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
        color: var(--tile-cream-text);
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 160ms ease, box-shadow 160ms ease;
        width: 100%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
      }
      .cart-reset-btn {
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.28) 0%, rgba(255, 255, 255, 0.08) 100%);
        border: 1px solid rgba(255, 255, 255, 0.5);
        color: var(--tile-cream-text);
      }
      .checkout-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 12px 24px rgba(168, 85, 247, 0.25);
      }
      .cart-reset-btn:hover {
        box-shadow: 0 10px 18px rgba(226, 232, 240, 0.25);
      }
      .checkout-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        box-shadow: none;
        transform: none;
      }
      body.cart-open {
        overflow: hidden;
      }
      .favorites-drawer {
        position: fixed;
        inset: 0;
        z-index: 55;
        pointer-events: none;
      }
      .favorites-drawer.is-open {
        pointer-events: auto;
      }
      .favorites-overlay {
        position: absolute;
        inset: 0;
        background: rgba(15, 23, 42, 0.55);
        opacity: 0;
        transition: opacity 240ms ease;
      }
      .favorites-drawer.is-open .favorites-overlay {
        opacity: 1;
      }
      .favorites-panel {
        position: absolute;
        top: 0;
        right: 0;
        height: 100%;
        width: min(360px, 92vw);
        background: linear-gradient(135deg, #ff9aed 0%, #ff5ca8 100%);
        color: var(--tile-cream-text) !important;
        display: flex;
        flex-direction: column;
        transform: translateX(100%);
        transition: transform 260ms cubic-bezier(0.22, 1, 0.36, 1);
        box-shadow: -12px 0 32px rgba(15, 23, 42, 0.25);
      }
      .favorites-panel * {
        color: var(--tile-cream-text) !important;
      }
      .favorites-drawer.is-open .favorites-panel {
        transform: translateX(0);
      }
      .favorites-header {
        padding: 1.5rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.22);
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
      }
      .favorites-title {
        font-size: 1.125rem;
        font-weight: 700;
        letter-spacing: 0.14em;
        text-transform: uppercase;
        color: var(--tile-cream-text) !important;
      }
      .favorites-close-btn {
        border: none;
        background: transparent;
        width: 2.25rem;
        height: 2.25rem;
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        color: var(--tile-cream-text) !important;
        transition: background-color 200ms ease;
      }
      .favorites-close-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        color: var(--tile-cream-text) !important;
      }
      .favorites-body {
        flex: 1 1 auto;
        overflow-y: auto;
        padding: 1.25rem 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      .favorites-footer {
        padding: 1.5rem;
        border-top: 1px solid rgba(255, 255, 255, 0.22);
      }
      .favorites-btn {
        border: 1px solid rgba(255, 255, 255, 0.22);
        width: 100%;
        border-radius: 999px;
        height: 2.75rem;
        background: rgba(255, 255, 255, 0.14);
        color: var(--tile-cream-text) !important;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        transition: none;
        box-shadow: 0 10px 20px rgba(15, 23, 42, 0.2);
      }
      .favorites-btn:hover,
      .favorites-btn:focus-visible {
        transform: none;
        box-shadow: 0 10px 20px rgba(15, 23, 42, 0.2);
        background: rgba(255, 255, 255, 0.14);
      }
      .favorites-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        box-shadow: none;
      }
      .favorites-empty {
        text-align: center;
        color: var(--tile-cream-text) !important;
        font-size: 0.95rem;
        margin-top: 2rem;
        text-transform: uppercase;
        letter-spacing: 0.14em;
      }
      .favorites-item {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 0.75rem;
        padding: 1rem;
        border: 1px solid rgba(255, 255, 255, 0.22);
        border-radius: 1rem;
        background: rgba(255, 255, 255, 0.14);
        box-shadow: 0 10px 20px rgba(15, 23, 42, 0.2);
      }
      .favorites-item-main {
        display: flex;
        gap: 0.85rem;
        align-items: flex-start;
        flex: 1 1 auto;
        min-width: 0;
      }
      .favorites-item-preview {
        width: 3.1rem;
        height: 3.1rem;
        border-radius: 0.9rem;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        flex-shrink: 0;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.28), 0 6px 18px rgba(15, 23, 42, 0.25);
      }
      .favorites-item-info {
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
        min-width: 0;
      }
      .favorites-item-name {
        font-weight: 700;
        letter-spacing: 0.12em;
        text-transform: uppercase;
        color: var(--tile-cream-text) !important;
        white-space: normal;
        overflow-wrap: anywhere;
      }
      .favorites-item-price {
        font-size: 0.85rem;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        color: var(--tile-cream-text) !important;
      }
      .favorites-item-options {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 0.35rem;
        font-size: 0.7rem;
        letter-spacing: 0.14em;
        text-transform: uppercase;
        color: var(--tile-cream-text) !important;
      }
      .favorites-item-option {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
      }
      .favorites-item-option .label {
        font-weight: 600;
      }
      .favorites-item-option .value {
        letter-spacing: 0.12em;
      }
      .favorites-item-swatch {
        width: 1.25rem;
        height: 1.25rem;
        border-radius: 50% !important;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-left: 0.2rem;
        margin-right: 0.1rem;
        border: 1px solid rgba(15, 23, 42, 0.25);
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.65);
        font-size: 0.6rem;
        line-height: 1;
        flex: 0 0 auto;
        aspect-ratio: 1 / 1;
        overflow: hidden;
        clip-path: circle(50% at 50% 50%);
      }
      .favorites-item-swatch.is-text {
        width: auto !important;
        min-width: 2.75rem;
        height: auto !important;
        padding: 0.15rem 0.45rem;
        border-radius: 999px !important;
        aspect-ratio: auto;
        clip-path: none;
        overflow: visible;
        line-height: 1;
      }
      .favorites-actions {
        display: flex;
        align-items: center;
        gap: 0.35rem;
      }
      .favorites-add-cart {
        border: none;
        background: linear-gradient(135deg, #E0B0FF 0%, #B678F5 100%);
        color: #ffffff;
        width: 2.4rem;
        height: 2.4rem;
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 10px 20px rgba(153, 40, 177, 0.2);
        cursor: pointer;
        transition: transform 150ms ease, box-shadow 150ms ease;
      }
      .favorites-add-cart:hover {
        transform: translateY(-1px);
        box-shadow: 0 14px 28px rgba(153, 40, 177, 0.28);
      }
      .favorites-remove-btn {
        border: none;
        background: transparent;
        color: var(--tile-cream-text) !important;
        font-size: 1.25rem;
        line-height: 1;
        padding: 0.25rem;
        border-radius: 999px;
        transition: background-color 200ms ease;
      }
      .favorites-remove-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        color: #ffffff;
      }
      body.favorites-open {
        overflow: hidden;
      }
      @media (min-width: 1024px) {
        /* add extra spacing from swatches to descriptions on desktop */
        .group .mt-1.text-xs {
          margin-top: 1.75rem;
        }
      }
    </style>
  </head>
  <body class="min-h-screen bg-thistle-dark mauve-mode" data-cloudflare-account="https://customer-3ptq6xbmg2sfpv29.cloudflarestream.com" data-medusa-enabled="true" data-medusa-backend="https://api.lovettsldc.com" data-medusa-publishable-key="pk_427f7900e23e30a0e18feaf0604aa9caaa9d0cb21571889081d2cb93fb13ffb0">
    <a href="#main" class="sr-only focus:not-sr-only focus:fixed focus:top-3 focus:left-3 focus:bg-white focus:text-slate-900 focus:px-3 focus:py-2 focus:rounded focus:shadow">Skip to content</a>
    <!-- Announcement bar (fixed; links to Facebook) -->
    <div class="fixed top-0 left-0 right-0 z-50 bg-slate-900 text-white text-xs">
      <a class="facebook-link announce-link block" aria-label="Visit our Facebook">
        <div class="container h-9 flex items-center justify-center gap-2 hover:underline">
          <span class="uppercase tracking-wider glow-text">Lovett's Designs and Crafts</span>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
        </div>
      </a>
    </div>
    <header class="fixed top-9 left-0 right-0 z-40 bg-thistle-dark">
      <!-- Utility bar -->
      <div class="bg-thistle-dark">
        <div class="container px-4 py-2 flex items-center justify-center gap-2 text-xs text-slate-600 md:hidden">
          <div class="flex items-center gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11c1.657 0 3-1.343 3-3S13.657 5 12 5 9 6.343 9 8s1.343 3 3 3zm0 0c-4.418 0-8 2.239-8 5v3h16v-3c0-2.761-3.582-5-8-5z"/></svg>
          </div>
          <span aria-hidden="true">|</span>
          <a href="#" class="hover:text-slate-900" data-signin-open>Sign In</a>
          <span aria-hidden="true">|</span>
          <a href="#" class="hover:text-slate-900" data-signup-open>Sign Up</a>
          <span aria-hidden="true">|</span>
          <a href="account.html" class="hover:text-slate-900">Account</a>
          <span aria-hidden="true">|</span>
          <a href="#" class="hover:text-slate-900" data-support-open>Support</a>
        </div>
        <div class="hidden md:flex container px-6 md:px-8 py-2 items-center justify-end gap-4 text-xs text-slate-600">
          <div class="flex items-center gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11c1.657 0 3-1.343 3-3S13.657 5 12 5 9 6.343 9 8s1.343 3 3 3zm0 0c-4.418 0-8 2.239-8 5v3h16v-3c0-2.761-3.582-5-8-5z"/></svg>
          </div>
          <span aria-hidden="true">|</span>
          <a href="#" class="hover:text-slate-900" data-signin-open>Sign In</a>
          <span aria-hidden="true">|</span>
          <a href="#" class="hover:text-slate-900" data-signup-open>Sign Up</a>
          <span aria-hidden="true">|</span>
          <a href="account.html" class="hover:text-slate-900">Account</a>
          <span aria-hidden="true">|</span>
          <a href="#" class="hover:text-slate-900" data-support-open>Support</a>
        </div>
      </div>
      <!-- Main nav -->
      <div class="relative">
        <div class="container px-6 md:px-8">
          <div class="header-main flex items-center h-16 gap-4">
            <div class="header-start flex items-center gap-3">
              <a href="index.html#top" class="relative inline-flex items-center justify-center w-8 h-8 lg:w-10 lg:h-10 icon-button cart-btn" aria-label="Home">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                  <path d="M12 3.172 3.172 12H6v8a1 1 0 0 0 1 1h4v-5h2v5h4a1 1 0 0 0 1-1v-8h2.828L12 3.172Z" />
                </svg>
              </a>
              <div class="header-menu" data-menu>
                <button type="button" class="header-menu-toggle" data-menu-toggle aria-expanded="false" aria-controls="headerMenuPanel" aria-label="Open navigation menu">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5" stroke-width="2">
                    <path stroke-linecap="round" d="M4 7h16" />
                    <path stroke-linecap="round" d="M7 12h13" />
                    <path stroke-linecap="round" d="M10 17h10" />
                  </svg>
                </button>
                <div class="header-menu-panel dropdown-panel transform" id="headerMenuPanel" data-menu-panel hidden>
                  <div class="space-y-3 text-sm text-slate-700">
                    <div class="header-menu-collapsible" data-menu-collapsible>
                      <button type="button" class="header-menu-toggle-link tile-title" data-menu-collapsible-toggle="shop">
                        <span>Shop</span>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m6 9 6 6 6-6"/></svg>
                      </button>
                      <div class="header-menu-submenu space-y-1" data-menu-submenu="shop" hidden>
                        <a href="tumblers.html" class="block px-3 py-2 rounded hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-200 no-underline">Tumblers</a>
                        <a href="cups.html" class="block px-3 py-2 rounded hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-200 no-underline">Cups &amp; Mugs</a>
                        <a href="accessories.html" class="block px-3 py-2 rounded hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-200 no-underline">Accessories</a>
                        <a href="attire.html" class="block px-3 py-2 rounded hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-200 no-underline">Attire</a>
                        <a href="doormats.html" class="block px-3 py-2 rounded hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-200 no-underline">Doormats</a>
                      </div>
                    </div>
                    <div class="header-menu-collapsible" data-menu-collapsible>
                      <button type="button" class="header-menu-toggle-link tile-title" data-menu-collapsible-toggle="trending">
                        <span>Trending</span>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m6 9 6 6 6-6"/></svg>
                      </button>
                      <div class="header-menu-submenu space-y-1" data-menu-submenu="trending" hidden>
                        <a href="new-arrivals.html" class="block px-3 py-2 rounded hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-200 no-underline">New Arrivals</a>
                        <a href="best-sellers.html" class="block px-3 py-2 rounded hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-200 no-underline">Best Sellers</a>
                        <a href="restock.html" class="block px-3 py-2 rounded hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-200 no-underline">Restock</a>
                      </div>
                    </div>
                    <div class="header-menu-collapsible" data-menu-collapsible>
                      <a href="customization.html" class="header-menu-toggle-link tile-title no-underline">Design</a>
                    </div>
                    <div class="header-menu-collapsible" data-menu-collapsible>
                      <button type="button" class="header-menu-toggle-link tile-title" data-menu-collapsible-toggle="sale">
                        <span>Sale</span>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m6 9 6 6 6-6"/></svg>
                      </button>
                      <div class="header-menu-submenu space-y-1" data-menu-submenu="sale" hidden>
                        <a href="sale.html" class="block px-3 py-2 rounded hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-200 no-underline">Deals for the Steal</a>
                        <a href="under-25.html" class="block px-3 py-2 rounded hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-200 no-underline">Under $25 Items</a>
                        <a href="last-chance.html" class="block px-3 py-2 rounded hover:bg-white focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-200 no-underline">Last Chance - Seasonal</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <nav class="primary-nav flex flex-wrap items-center justify-center gap-4 text-xs sm:gap-6 sm:text-sm lg:gap-8">
              <div class="group relative">
                <a href="#section-1" class="inline-flex items-center tile-title hover:text-brand-700 focus:outline-none">Shop</a>
                <div class="invisible opacity-0 translate-y-1 origin-top scale-95 hover:visible hover:opacity-100 hover:translate-y-0 hover:scale-100 group-hover:visible group-hover:opacity-100 group-hover:translate-y-0 group-hover:scale-100 group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-0 group-focus-within:scale-100 transition ease-out duration-700 absolute left-1/2 -translate-x-1/2 top-full mt-0 w-56 rounded-2xl border border-slate-200 bg-white shadow-xl dropdown-panel transform">
                  <div class="p-2 space-y-2">
                    <a href="tumblers.html" class="block px-3 py-2 rounded hover:bg-white">Tumblers</a>
                    <a href="cups.html" class="block px-3 py-2 rounded hover:bg-white">Cups &amp; Mugs</a>
                    <a href="accessories.html" class="block px-3 py-2 rounded hover:bg-white">Accessories</a>
                    <a href="attire.html" class="block px-3 py-2 rounded hover:bg-white">Attire</a>
                    <a href="doormats.html" class="block px-3 py-2 rounded hover:bg-white">Doormats</a>
                  </div>
                </div>
              </div>
              <div class="group relative">
                <a href="#section-2" class="inline-flex items-center tile-title hover:text-brand-700 focus:outline-none">Trending</a>
                <div class="invisible opacity-0 translate-y-1 origin-top scale-95 hover:visible hover:opacity-100 hover:translate-y-0 hover:scale-100 group-hover:visible group-hover:opacity-100 group-hover:translate-y-0 group-hover:scale-100 group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-0 group-focus-within:scale-100 transition ease-out duration-700 absolute left-1/2 -translate-x-1/2 top-full mt-0 w-56 rounded-2xl border border-slate-200 bg-white shadow-xl dropdown-panel transform">
                  <div class="p-2 space-y-2">
                    <a href="new-arrivals.html" class="best-sellers-nav-inline">New Arrivals</a>
                    <a href="best-sellers.html" class="best-sellers-nav-inline">Best Sellers</a>
                    <a href="restock.html" class="best-sellers-nav-inline">Restock</a>
                  </div>
                </div>
              </div>
              <a href="customization.html" class="inline-flex items-center tile-title hover:text-brand-700 focus:outline-none">Design</a>
              <div class="group relative">
                <a href="#" class="inline-flex items-center tile-title hover:text-brand-700 focus:outline-none">Sale</a>
                <div class="invisible opacity-0 translate-y-1 origin-top scale-95 hover:visible hover:opacity-100 hover:translate-y-0 hover:scale-100 group-hover:visible group-hover:opacity-100 group-hover:translate-y-0 group-hover:scale-100 group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-0 group-focus-within:scale-100 transition ease-out duration-700 absolute left-1/2 -translate-x-1/2 top-full mt-0 w-56 rounded-2xl border border-slate-200 bg-white shadow-xl dropdown-panel transform">
                  <div class="p-2 space-y-2">
                    <a href="sale.html" class="block px-3 py-2 rounded hover:bg-white">Deals for the Steal</a>
                    <a href="under-25.html" class="block px-3 py-2 rounded hover:bg-white">Under $25 Items</a>
                    <a href="last-chance.html" class="block px-3 py-2 rounded hover:bg-white">Last Chance - Seasonal</a>
                  </div>
                </div>
              </div>
            </nav>
            <div class="header-end flex items-center justify-end gap-3 text-white">
              <div class="flex items-center search-controls">
                <button type="button" class="header-search-trigger" data-search-toggle aria-label="Open search">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="7" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-4.35-4.35" />
                  </svg>
                </button>
                <label class="relative hidden md:block search-field flex-shrink-0" data-search-field>
                  <span class="sr-only">Search</span>
                  <input type="search" placeholder="What are you looking for?" class="header-search-input w-full h-9 pl-10 pr-4 rounded-md border border-slate-300 bg-white/80 placeholder-mauve focus:outline-none" />
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M10 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></svg>
                </label>
                <div class="flex items-center gap-2 search-actions">
                  <a href="#" class="relative inline-flex items-center justify-center w-8 h-8 lg:w-10 lg:h-10 icon-button cart-btn" aria-label="Favorites" data-favorites-open>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                      <path fill-rule="evenodd" d="M11.998 21.003 5.155 14.16a5.25 5.25 0 0 1 7.425-7.425l.42.42.42-.42a5.25 5.25 0 0 1 7.425 7.425l-6.843 6.843a1.5 1.5 0 0 1-2.122 0Z" clip-rule="evenodd" />
                    </svg>
                    <span class="icon-badge" data-favorites-count hidden></span>
                  </a>
                  <a href="#" class="relative inline-flex items-center justify-center w-8 h-8 lg:w-10 lg:h-10 icon-button cart-btn" aria-label="Cart" data-cart-open>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                      <path d="M2.25 2.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .728.568l.432 1.864h13.134a.75.75 0 0 1 .732.928l-1.5 6a.75.75 0 0 1-.732.572H8.715l.3 1.5H18a.75.75 0 1 1 0 1.5H8.25a.75.75 0 0 1-.732-.568L5.4 3.75H3a.75.75 0 0 1-.75-.75Zm4.5 16.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm9 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z" />
                    </svg>
                    <span class="icon-badge" data-cart-count hidden></span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <div class="mobile-search" data-search-panel hidden aria-hidden="true">
      <div class="mobile-search-inner">
        <form class="mobile-search-form" role="search">
          <label class="mobile-search-label">
            <span class="sr-only">Search</span>
            <input type="search" class="mobile-search-input" placeholder="Search Lovett's..." />
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="mobile-search-icon"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M10 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></svg>
          </label>
          <button type="button" class="mobile-search-close" data-search-close>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
            <span class="sr-only">Close search</span>
          </button>
        </form>
      </div>
    </div>
    <div class="signin-overlay" data-signin-overlay aria-hidden="true">
      <div class="signin-card" data-signin-card role="dialog" aria-modal="true" aria-labelledby="signInTitle">
        <button type="button" class="signin-close-btn" data-signin-close aria-label="Close sign in">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
        <div class="signin-card-content">
          <p class="signin-eyebrow">Welcome Back</p>
          <h2 class="signin-title" id="signInTitle">Sign In to Lovett's</h2>
          <p class="signin-subtitle">Access your saved carts, favorites, and exclusive member offers.</p>
          <form class="signin-form" data-signin-form>
            <label class="signin-field" for="signInEmail">
              <span>Email</span>
              <input type="email" id="signInEmail" class="signin-input" placeholder="you@example.com" autocomplete="email" required />
            </label>
            <label class="signin-field" for="signInPassword">
              <span>Password</span>
              <input type="password" id="signInPassword" class="signin-input" placeholder="Enter your password" autocomplete="current-password" required />
            </label>
            <div class="signin-footer">
              <a href="#">Forgot password?</a>
            </div>
            <button type="submit" class="signin-submit" data-signin-submit>Sign In</button>
          </form>
          <div class="signin-footer">
            New here? <a href="#" data-signin-to-signup>Join the Lovett's Club</a>
          </div>
        </div>
      </div>
    </div>
    <div class="signup-overlay" data-signup-overlay aria-hidden="true">
      <div class="signup-card" data-signup-card role="dialog" aria-modal="true" aria-labelledby="signUpTitle">
        <button type="button" class="signup-close-btn" data-signup-close aria-label="Close sign up">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
        <div class="signup-card-content">
          <p class="signup-eyebrow">Join the Club</p>
          <h2 class="signup-title" id="signUpTitle">Create Your Account</h2>
          <p class="signup-subtitle">Unlock exclusive savings, track orders, and save your favorite Lovetts creations.</p>
          <form class="signup-form" data-signup-form>
            <label class="signup-field" for="signUpName">
              <span>Full Name</span>
              <input type="text" id="signUpName" class="signup-input" placeholder="Your name" autocomplete="name" required />
            </label>
            <label class="signup-field" for="signUpEmail">
              <span>Email</span>
              <input type="email" id="signUpEmail" class="signup-input" placeholder="you@example.com" autocomplete="email" required />
            </label>
            <label class="signup-field" for="signUpPassword">
              <span>Password</span>
              <input type="password" id="signUpPassword" class="signup-input" placeholder="Create a password" autocomplete="new-password" required />
            </label>
            <label class="signup-field" for="signUpConfirm">
              <span>Confirm Password</span>
              <input type="password" id="signUpConfirm" class="signup-input" placeholder="Re-enter password" autocomplete="new-password" required />
            </label>
            <button type="submit" class="signup-submit" data-signup-submit>Create Account</button>
          </form>
          <div class="signup-footer">
            Already have an account? <a href="#" data-signup-to-signin>Sign in instead</a>
          </div>
          <div class="signup-footer">
            <small>By continuing you agree to our <a href="#">Terms</a> &amp; <a href="#">Privacy Policy</a>.</small>
          </div>
        </div>
      </div>
    </div>
    <div class="support-overlay" data-support-overlay aria-hidden="true">
      <div class="support-card" data-support-card role="dialog" aria-modal="true" aria-labelledby="supportTitle">
        <button type="button" class="support-close-btn" data-support-close aria-label="Close support">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
        <div class="support-card-content">
          <p class="support-eyebrow">Need a hand?</p>
          <h2 class="support-title" id="supportTitle">Lovett's Support</h2>
          <p class="support-subtitle">Send us a message and our customer care team will reply within 1 business day.</p>
          <form class="support-form" data-support-form>
            <label class="support-field" for="supportName">
              <span>Full Name</span>
              <input type="text" id="supportName" class="support-input" placeholder="Your name" autocomplete="name" required />
            </label>
            <label class="support-field" for="supportEmail">
              <span>Email</span>
              <input type="email" id="supportEmail" class="support-input" placeholder="you@example.com" autocomplete="email" required />
            </label>
            <label class="support-field" for="supportOrder">
              <span>Order Number (optional)</span>
              <input type="text" id="supportOrder" class="support-input" placeholder="#LDC12345" />
            </label>
            <label class="support-field" for="supportTopic">
              <span>Topic</span>
              <select id="supportTopic" class="support-input" required>
                <option value="" disabled selected>Select a topic</option>
                <option>Order Status</option>
                <option>Product Question</option>
                <option>Customization Help</option>
                <option>Other</option>
              </select>
            </label>
            <label class="support-field" for="supportMessage">
              <span>Message</span>
              <textarea id="supportMessage" class="support-input" rows="4" placeholder="How can we help?" required></textarea>
            </label>
            <button type="submit" class="support-submit" data-support-submit>Send Message</button>
          </form>
          <div class="support-footer">
            Prefer direct contact? Email <a href="mailto:lovettsdandc@gmail.com">lovettsdandc@gmail.com</a> or call <a href="tel:+17067220845">(706) 722-0845</a>.
          </div>
        </div>
      </div>
    </div>
    <main id="main" class="pt-[10rem] md:pt-[9rem]">
      <section id="section-1" class="relative">
        <div class="hero-visual">
          <img src="assets/hero-ldc.png" alt="Lovett Design Company drinkware display" loading="eager" />
          <div class="hero-visual-content">
            <div class="container pb-10 flex justify-start pl-0 pr-4 md:pr-8 md:pl-0">
              <div class="max-w-xl">
                <div class="hero-card text-left">
                  <h1 class="font-heading text-3xl md:text-5xl font-extrabold tracking-tight" style="color: #9928B1 !important;">You love it, we make it at LDC.</h1>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="section-2" class="">
        <div class="container py-12 md:py-16">
          <div class="mb-6">
            <h2 class="font-heading text-2xl md:text-3xl font-semibold tracking-tight">Tumblers</h2>
            <div class="mt-2 text-sm text-slate-600">8 Products</div>
          </div>
          <div class="flex items-center justify-center mb-6">
            <span class="swipe-cue">
              <span class="swipe-arrow" aria-hidden="true">&larr;</span>
              <span class="swipe-label">Swipe</span>
              <span class="swipe-arrow" aria-hidden="true">&rarr;</span>
            </span>
          </div>
          <div class="product-loading" data-products-loading data-loading-for="home-tumblers" aria-live="polite">LDC Loading...</div>
          <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 tumbler-carousel product-grid" data-medusa-collection="tumblers" data-section-key="home-tumblers" data-grid-limit="8">
            <template data-card-template>
<div class="group relative product-card">
              <div class="aspect-[4/5] w-full rounded-lg tile-mauve border border-slate-200 flex items-center justify-center relative">
                <div class="badge-stack">
                  <span class="inline-block rounded bg-emerald-600 text-white px-3 py-0.5">New Arrival</span>
                  <span id="slimLimitedBadge" class="inline-block rounded px-3 py-0.5" style="background:#fbbf24;color:#78350f;display:none;">Limited Edition</span>
                </div>
                <img id="slimProductImage" src="assets/sublimination.jpeg" alt="Slim tumbler product photo" class="h-full w-full object-contain" />
              </div>
              <div class="mt-4 flex items-center justify-between gap-2">
                <div class="flex items-center gap-1 swatch-slider" data-swatch-slider data-visible="4">
                  <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-prev aria-label="Previous color">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 19-7-7 7-7"/></svg>
                  </button>
                  <div class="relative overflow-hidden" data-swatch-window style="width:4.5rem; overflow:hidden !important;">
                    <div class="flex items-center gap-2 transition-transform duration-200" data-swatch-track>
                      <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background: radial-gradient(circle, #ffffff 0%, #f7f7f7 55%, #d9d9d9 100%); box-shadow: 0 0 6px rgba(217, 217, 217, 0.6);" role="button" tabindex="0" aria-label="View white option" data-color-label="White" data-image-target="slimProductImage" data-image-src="assets/sublimination.jpeg" data-image-alt="Slim tumbler - white" data-price-target="slimProductPrice" data-price="25.00" data-limited-target="slimLimitedBadge" data-limited="false"></span>
                      <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background: radial-gradient(circle, #ccff88 0%, #8dff3a 65%, #48ff5b 100%); box-shadow: 0 0 8px rgba(141, 255, 58, 0.65);" role="button" tabindex="0" aria-label="View glow in the dark option" data-color-label="Glow in the Dark" data-image-target="slimProductImage" data-image-src="assets/sublimination-glow-in-the-dark.jpeg" data-image-alt="Slim tumbler - glow in the dark" data-price-target="slimProductPrice" data-price="35.00" data-limited-target="slimLimitedBadge" data-limited="true"></span>
                      <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background: radial-gradient(circle, #ffe9c7 0%, #ffc17a 55%, #ffad55 100%); box-shadow: 0 0 6px rgba(255, 193, 122, 0.6);" role="button" tabindex="0" aria-label="View light orange option" data-color-label="Light Orange" data-image-target="slimProductImage" data-image-src="assets/Sublimination - 25.png" data-image-alt="Slim tumbler - light orange" data-price-target="slimProductPrice" data-price="25.00" data-limited-target="slimLimitedBadge" data-limited="false"></span>
                      <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background: radial-gradient(circle, #ffbb66 0%, #ff931e 60%, #ff7b00 100%); box-shadow: 0 0 8px rgba(255, 147, 30, 0.65);" role="button" tabindex="0" aria-label="View orange option" data-color-label="Orange" data-image-target="slimProductImage" data-image-src="assets/Sublimination - 25.png" data-image-alt="Slim tumbler - orange" data-price-target="slimProductPrice" data-price="25.00" data-limited-target="slimLimitedBadge" data-limited="true"></span>
                      <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background: radial-gradient(circle, #d8ecff 0%, #8fc7ff 55%, #4da3ff 100%); box-shadow: 0 0 8px rgba(79, 163, 255, 0.6);" role="button" tabindex="0" aria-label="View blue option" data-color-label="Blue" data-image-target="slimProductImage" data-image-src="assets/Sublimination - 25.png" data-image-alt="Slim tumbler - blue" data-price-target="slimProductPrice" data-price="25.00" data-limited-target="slimLimitedBadge" data-limited="false"></span>
                    </div>
                  </div>
                  <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-next aria-label="Next color">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/></svg>
                  </button>
                </div>
              </div>
              <div class="mt-1 text-xs text-slate-600">20oz | Slim Stainless Steel</div>
              <div class="mt-2 flex items-center justify-between gap-3">
                <a href="#" class="block font-semibold tile-title">Sublimation</a>
              </div>
              <div id="slimProductPrice" class="text-sm text-slate-700">$25.00</div>
              <div class="mt-1 flex items-center gap-1 text-slate-700 rating">
                <!-- rating: 0.0 -->
                <span class="star text-slate-300"></span><span class="star text-slate-300"></span><span class="star text-slate-300"></span><span class="star text-slate-300"></span><span class="star text-slate-300"></span>
                <span class="text-xs text-slate-600">0.0 (0)</span>
              </div>
              <div class="mt-3 flex items-center gap-2">
                <a href="#section-customization" class="icon-button tile-action-design inline-flex items-center justify-center w-9 h-9" aria-label="Explore design options" title="Explore design options" data-design-source="slimProductImage">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                    <path fill-rule="evenodd" d="M16.862 2.487a2.25 2.25 0 0 1 3.182 0l1.11 1.11a3.75 3.75 0 0 1 0 5.303l-8.92 8.92a4.5 4.5 0 0 1-2.038 1.159l-3.026.757a.75.75 0 0 1-.908-.908l.757-3.026a4.5 4.5 0 0 1 1.159-2.038l8.92-8.92a2.25 2.25 0 0 0 0-3.182l-1.11-1.11a.75.75 0 0 1 1.06-1.06Z" clip-rule="evenodd" />
                    <path d="M4.5 17.25c.414 0 .75.336.75.75a1.5 1.5 0 0 1-1.5 1.5H3a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 0 .75-.75Z" />
                  </svg>
                </a>
                <button type="button" class="icon-button tile-action-favorite inline-flex items-center justify-center w-9 h-9" aria-label="Add to favorites">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                    <path fill-rule="evenodd" d="M11.998 21.003 5.155 14.16a5.25 5.25 0 0 1 7.425-7.425l.42.42.42-.42a5.25 5.25 0 0 1 7.425 7.425l-6.843 6.843a1.5 1.5 0 0 1-2.122 0Z" clip-rule="evenodd" />
                  </svg>
                </button>
                <button type="button" class="icon-button tile-action-cart inline-flex items-center justify-center w-9 h-9" aria-label="Add to cart" data-add-to-cart data-product-key="tumbler-sublimation">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                    <path d="M2.25 2.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .728.568l.432 1.864h13.134a.75.75 0 0 1 .732.928l-1.5 6a.75.75 0 0 1-.732.572H8.715l.3 1.5H18a.75.75 0 1 1 0 1.5H8.25a.75.75 0 0 1-.732-.568L5.4 3.75H3a.75.75 0 0 1-.75-.75Zm4.5 16.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm9 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z" />
                  </svg>
                </button>
              </div>
            </div>
            </template>
</div>
        </div>
      </section>

      <section id="section-3" class="">
        <div class="container py-12 md:py-16">
          <div class="mb-6">
            <h2 class="font-heading text-2xl md:text-3xl font-semibold tracking-tight">Cups &amp; Mugs</h2>
            <div class="mt-2 text-sm text-slate-600">8 Products</div>
          </div>
          <div class="mb-6"></div>
          <div class="product-loading" data-products-loading data-loading-for="home-cups" aria-live="polite">LDC Loading...</div>
          <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 cups-carousel product-grid" data-medusa-collection="cups" data-section-key="home-cups" data-grid-limit="8">
            <template data-card-template>
<div class="group relative product-card">
              <div class="aspect-[4/5] w-full rounded-lg tile-mauve border border-slate-200 flex items-center justify-center overflow-hidden">
                <img id="cupsAcrylicImage" src="assets/acrylic.png" alt="LDC Cup 1 product photo" class="h-full w-full object-cover" loading="lazy" />
              </div>
              <div class="mt-4 flex items-center justify-between gap-2">
                <div class="flex items-center gap-1 swatch-slider" data-swatch-slider data-visible="4">
                  <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-prev aria-label="Previous color">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 19-7-7 7-7"/></svg>
                  </button>
                  <div class="relative overflow-hidden" data-swatch-window style="width:calc((1.25rem * 3) + (0.5rem * 2));">
                    <div class="flex items-center gap-2 transition-transform duration-200" data-swatch-track>
                      <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer is-active" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#2563eb;" aria-label="Blue swatch" role="button" tabindex="0"></span>
                      <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#8b5cf6;" aria-label="Purple swatch" role="button" tabindex="0"></span>
                      <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#0d9488;" aria-label="Teal swatch" role="button" tabindex="0"></span>
                      <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#ec4899;" aria-label="Pink swatch" role="button" tabindex="0"></span>
                    </div>
                  </div>
                  <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-next aria-label="Next color">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/></svg>
                  </button>
                </div>
              </div>
              <div class="mt-1 text-xs text-slate-600">
                16oz | Glass
              </div>
              <div class="mt-2 flex items-center justify-between gap-3">
                <a class="block font-semibold tile-title">Acrylic</a>
              </div>
              <div class="text-sm text-slate-700"><span class="text-rose-600">$25.00</span></div>
              <div class="mt-1 flex items-center gap-1 text-slate-700 rating">
                <!-- rating: 0.0 -->
                <span class="star text-slate-300"></span><span class="star text-slate-300"></span><span class="star text-slate-300"></span><span class="star text-slate-300"></span><span class="star text-slate-300"></span>
                <span class="text-xs text-slate-600">0.0 (0)</span>
              </div>
              <div class="mt-3 flex items-center gap-2">
                <a href="#section-customization" class="icon-button tile-action-design inline-flex items-center justify-center w-9 h-9" aria-label="Explore design options" title="Explore design options" data-design-source="cupsAcrylicImage">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                    <path fill-rule="evenodd" d="M16.862 2.487a2.25 2.25 0 0 1 3.182 0l1.11 1.11a3.75 3.75 0 0 1 0 5.303l-8.92 8.92a4.5 4.5 0 0 1-2.038 1.159l-3.026.757a.75.75 0 0 1-.908-.908l.757-3.026a4.5 4.5 0 0 1 1.159-2.038l8.92-8.92a2.25 2.25 0 0 0 0-3.182l-1.11-1.11a.75.75 0 0 1 1.06-1.06Z" clip-rule="evenodd" />
                    <path d="M4.5 17.25c.414 0 .75.336.75.75a1.5 1.5 0 0 1-1.5 1.5H3a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 0 .75-.75Z" />
                  </svg>
                </a>
                <button type="button" class="icon-button tile-action-favorite inline-flex items-center justify-center w-9 h-9" aria-label="Add to favorites">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                    <path fill-rule="evenodd" d="M11.998 21.003 5.155 14.16a5.25 5.25 0 0 1 7.425-7.425l.42.42.42-.42a5.25 5.25 0 0 1 7.425 7.425l-6.843 6.843a1.5 1.5 0 0 1-2.122 0Z" clip-rule="evenodd" />
                  </svg>
                </button>
                <button type="button" class="icon-button tile-action-cart inline-flex items-center justify-center w-9 h-9" aria-label="Add to cart" data-add-to-cart data-product-key="cup-acrylic">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                    <path d="M2.25 2.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .728.568l.432 1.864h13.134a.75.75 0 0 1 .732.928l-1.5 6a.75.75 0 0 1-.732.572H8.715l.3 1.5H18a.75.75 0 1 1 0 1.5H8.25a.75.75 0 0 1-.732-.568L5.4 3.75H3a.75.75 0 0 1-.75-.75Zm4.5 16.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm9 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z" />
                  </svg>
                </button>
              </div>
            </div>
            </template>
</div>
        </div>
      </section>
      <!-- Accessories Section -->
      <section id="section-accessories" class="">
        <div class="container py-12 md:py-16">
          <div class="mb-6">
            <h2 class="font-heading text-2xl md:text-3xl font-semibold tracking-tight">Accessories</h2>
            <div class="mt-2 text-sm text-slate-600">8 Products</div>
          </div>
          <div class="mb-6"></div>
          <div class="product-loading" data-products-loading data-loading-for="home-accessories" aria-live="polite">LDC Loading...</div>
          <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 accessories-carousel product-grid" data-medusa-collection="accessories" data-section-key="home-accessories" data-grid-limit="8">
            <template data-card-template>
<div class="group relative product-card">
              <div class="aspect-[4/5] w-full rounded-lg tile-mauve border border-slate-200 flex items-center justify-center">
                <img src="assets/rhinestone-lids-5.png" alt="LDC accessory rhinestone tumbler lids" class="h-full w-full object-contain" />
              </div>
              <div class="mt-4 flex items-center justify-between gap-2">
                <div class="flex flex-col gap-2">
                  <div class="flex items-center gap-1 swatch-slider" data-swatch-slider data-visible="4">
                    <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-prev aria-label="Previous color">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 19-7-7 7-7"/></svg>
                    </button>
                    <div class="relative overflow-hidden" data-swatch-window style="width:calc((1.25rem * 3) + (0.5rem * 2));">
                      <div class="flex items-center gap-2 transition-transform duration-200" data-swatch-track>
                        <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#ff78c4;" title="Pink"></span>
                        <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#ff1493;" title="Hot Pink"></span>
                        <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#ff4d4f;" title="Red"></span>
                        <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#1f2937;" title="Black"></span>
                        <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#add8e6;" title="Light Blue"></span>
                        <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#a855f7;" title="Purple"></span>
                        <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300 cursor-pointer" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#fb923c;" title="Orange"></span>
                      </div>
                    </div>
                    <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-next aria-label="Next color">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/></svg>
                    </button>
                  </div>
                  <div class="flex items-center gap-1 swatch-slider ml-8 mt-1" data-swatch-slider data-visible="4">
                    <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-prev aria-label="Previous accessory">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 19-7-7 7-7"/></svg>
                    </button>
                    <div class="relative overflow-hidden" data-swatch-window style="width:1.25rem;">
                      <div class="flex items-center gap-2 transition-transform duration-200" data-swatch-track>
                        <span class="swatch w-5 h-5 rounded-full ring-1 ring-slate-300" aria-label="Rhinestone" data-swatch-type="accessory" style="flex:0 0 auto; width:1.25rem; height:1.25rem; border-radius:9999px; background:#e0f2fe; display:flex; align-items:center; justify-content:center; color:#1f2937; font-size:0.6rem; line-height:1;"></span>
                      </div>
                    </div>
                    <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-next aria-label="Next accessory">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/></svg>
                    </button>
                  </div>
                </div>
              </div>
              <div class="mt-3 text-xs text-slate-600">Limited | Lids</div>
              <a class="block mt-2 font-semibold tile-title">Rinestone Lids</a>
              <div class="text-sm text-slate-700">$5.00</div>
              <div class="mt-1 flex items-center gap-1 text-slate-700 rating">
                <!-- rating: 0.0 -->
                <span class="star text-slate-300"></span><span class="star text-slate-300"></span><span class="star text-slate-300"></span><span class="star text-slate-300"></span><span class="star text-slate-300"></span>
                <span class="text-xs text-slate-600">0.0 (0)</span>
              </div>
              <div class="mt-3 flex items-center gap-2">
                <button type="button" class="icon-button tile-action-favorite inline-flex items-center justify-center w-9 h-9" aria-label="Add to favorites">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                    <path fill-rule="evenodd" d="M11.998 21.003 5.155 14.16a5.25 5.25 0 0 1 7.425-7.425l.42.42.42-.42a5.25 5.25 0 0 1 7.425 7.425l-6.843 6.843a1.5 1.5 0 0 1-2.122 0Z" clip-rule="evenodd" />
                  </svg>
                </button>
                <button type="button" class="icon-button tile-action-cart inline-flex items-center justify-center w-9 h-9" aria-label="Add to cart" data-add-to-cart data-product-key="accessory-rhinestone-lids">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                    <path d="M2.25 2.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .728.568l.432 1.864h13.134a.75.75 0 0 1 .732.928l-1.5 6a.75.75 0 0 1-.732.572H8.715l.3 1.5H18a.75.75 0 1 1 0 1.5H8.25a.75.75 0 0 1-.732-.568L5.4 3.75H3a.75.75 0 0 1-.75-.75Zm4.5 16.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm9 0a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z" />
                  </svg>
                </button>
              </div>
            </div>
            </template>
</div>
        </div>
      </section>
      <section id="section-customization" class="design-feature">
          <div class="container py-12 md:py-16">
            <div class="design-card design-card--full">
              <div class="design-card-header">
                <p class="text-xs font-semibold uppercase tracking-[0.35em]" style="color:#ffffff;opacity:1;">Design Studio</p>
                <h2>
                  <a href="customization.html" class="design-heading-link" aria-label="Visit the design customization page">Design</a>
                </h2>
                <p class="mt-2 text-sm" style="color:#ffffff;opacity:1;">Bring your Lovett's concepts to life.</p>
              </div>
              <div class="design-card-body">
                  <div class="design-palette-grid">
                  <div class="design-center">
                    <div class="design-preview-row">
                      <div class="design-preview-tile design-preview-tile--color" aria-live="polite">
                        <button type="button" class="design-preview-clear" data-clear-preview-color aria-label="Clear color preview">&times;</button>
                        <div class="design-preview-fill" data-color-preview>
                          <span class="design-preview-placeholder">Color preview</span>
                          <span class="design-preview-glyph" aria-hidden="true"></span>
                        </div>
                      </div>
                      <div class="design-card-frame design-video-frame design-preview-frame" data-design-frame>
                        <button type="button" class="design-preview-return" data-design-back aria-label="Return to image" hidden>Return</button>
                        <button type="button" class="design-preview-clear" data-clear-preview-image aria-label="Clear image preview">&times;</button>
                        <div class="design-preview-layer design-preview-image" data-design-image-wrap>
                          <div class="design-video-message design-preview-empty" data-design-placeholder>
                            <div class="design-video-message-inner">
                              <p class="design-video-message-title">Start Your Design</p>
                              <p class="design-video-message-body">
                                Click the
                                <span class="design-preview-icon-inline icon-button tile-action-design" aria-hidden="true">
                                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path fill-rule="evenodd" d="M16.862 2.487a2.25 2.25 0 0 1 3.182 0l1.11 1.11a3.75 3.75 0 0 1 0 5.303l-8.92 8.92a4.5 4.5 0 0 1-2.038 1.159l-3.026.757a.75.75 0 0 1-.908-.908l.757-3.026a4.5 4.5 0 0 1 1.159-2.038l8.92-8.92a2.25 2.25 0 0 0 0-3.182l-1.11-1.11a.75.75 0 0 1 1.06-1.06Z" clip-rule="evenodd" />
                                    <path d="M4.5 17.25c.414 0 .75.336.75.75a1.5 1.5 0 0 1-1.5 1.5H3a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 0 .75-.75Z" />
                                  </svg>
                                </span>
                                icon on your item to begin designing!
                              </p>
                            </div>
                          </div>
                          <img id="homeDesignPreview" data-design-image alt="Custom design preview" />
                        </div>
                        <div class="design-preview-layer design-preview-video" aria-live="polite">
                          <div class="design-video-message" data-design-video-prompt hidden aria-hidden="true">
                            <div class="design-video-message-inner">
                              <p class="design-video-message-title" data-prompt-title>Need a Special Character or Designer Wrap?</p>
                              <p class="design-video-message-body" data-prompt-body>Share your character or designer theme with us and we will send next steps.</p>
                              <a class="design-video-message-cta" data-prompt-cta href="mailto:lovettsdandc@gmail.com">Request Custom Wrap</a>
                            </div>
                          </div>
                          <video id="designWrapVideo" data-design-video controls muted playsinline>
                            <source data-source="hls" src="" type="application/x-mpegURL" />
                          </video>
                        </div>
                      </div>
                      <div class="design-preview-tile design-preview-tile--accessory" aria-live="polite">
                        <button type="button" class="design-preview-clear" data-clear-preview-accessory aria-label="Clear accessory preview">&times;</button>
                        <div class="design-preview-fill" data-accessory-preview>
                          <span class="design-preview-placeholder">Accessory preview</span>
                          <span class="design-preview-glyph" aria-hidden="true"></span>
                        </div>
                      </div>
                    </div>
                    <div class="w-full flex justify-center">
                      <p class="design-palette-title design-palette-title--center design-palette-title--bar">Colors</p>
                    </div>
                    <div class="design-swatch-slider swatch-slider flex items-center gap-2" data-swatch-slider data-visible="7" data-visible-mobile="4">
                      <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-prev aria-label="Previous color">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 19-7-7 7-7"/></svg>
                      </button>
                      <div class="relative overflow-hidden design-swatch-window" data-swatch-window>
                        <div class="flex items-center design-swatch-track transition-transform duration-200" data-swatch-track data-design-colors-source>
                            <span class="swatch" aria-label="View white option" style="background: radial-gradient(circle, #ffffff 0%, #f7f7f7 55%, #d9d9d9 100%);"></span>
                            <span class="swatch" aria-label="View glow in the dark option" style="background: radial-gradient(circle, #ccff88 0%, #8dff3a 65%, #48ff5b 100%);"></span>
                            <span class="swatch" aria-label="Glass finish swatch" style="background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0) 60%), linear-gradient(135deg, rgba(226,232,240,0.7) 0%, rgba(148,163,184,0.4) 100%);"></span>
                            <!-- Removed white swatch that blended with background -->
                            <span class="swatch" aria-label="Black swatch" style="background: #1f2937;"></span>
                            <span class="swatch" aria-label="Hot pink swatch" style="background: radial-gradient(circle at 30% 30%, #ffd1e8 0%, #ff4ba5 45%, #d9048e 100%);"></span>
                            <span class="swatch" aria-label="Two-tone pink swatch" style="background: linear-gradient(135deg, #ff6fb7 0%, #ffa8df 50%, #ffd1f1 100%);"></span>
                            <span class="swatch" aria-label="Pumpkin orange swatch" style="background: radial-gradient(circle at 30% 30%, #ffd7a3 0%, #ff8b0f 50%, #b45309 100%);"></span>
                            <span class="swatch" aria-label="Light orange swatch" style="background: radial-gradient(circle, #ffe9c7 0%, #ffc17a 55%, #ffad55 100%);"></span>
                            <span class="swatch" aria-label="Orange swatch" style="background: radial-gradient(circle, #ffbb66 0%, #ff931e 60%, #ff7b00 100%);"></span>
                            <span class="swatch" aria-label="Blue swatch" style="background: radial-gradient(circle, #d8ecff 0%, #8fc7ff 55%, #4da3ff 100%);"></span>
                            <span class="swatch" aria-label="Green swatch" style="background: radial-gradient(circle, #e3fcec 0%, #6ee7b7 55%, #22c55e 100%);"></span>
                            <span class="swatch" aria-label="Pink swatch" style="background: radial-gradient(circle, #ffd6e8 0%, #f9a8d4 55%, #ec4899 100%);"></span>
                            <span class="swatch" aria-label="Red swatch" style="background: radial-gradient(circle, #ffd1d1 0%, #f87171 55%, #dc2626 100%);"></span>
                            <span class="swatch" aria-label="Glass swatch" style="background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0) 60%), linear-gradient(135deg, rgba(238,242,255,0.65) 0%, rgba(148,163,184,0.35) 100%);"></span>
                            <span class="swatch" aria-label="Chocolate brown swatch" style="background: radial-gradient(circle at 30% 30%, #fbd5a8 0%, #8b4513 55%, #4a2505 100%);"></span>
                            <span class="swatch" aria-label="Blue swatch" style="background: #2563eb;"></span>
                            <span class="swatch" aria-label="Purple swatch" style="background: #8b5cf6;"></span>
                            <span class="swatch" aria-label="Teal swatch" style="background: #0d9488;"></span>
                            <span class="swatch" aria-label="Pink swatch" style="background: #ec4899;"></span>
                            <span class="swatch" aria-label="White swatch" style="background: #ffffff;"></span>
                            <span class="swatch" aria-label="Hot pink swatch" style="background: #db2777;"></span>
                            <span class="swatch" aria-label="Black swatch" style="background: #000000;"></span>
                            <span class="swatch" aria-label="Navy blue swatch" style="background: #1e3a8a;"></span>
                            <span class="swatch" aria-label="Red swatch" style="background: #ef4444;"></span>
                            <span class="swatch" aria-label="Orange swatch" style="background: #f97316;"></span>
                            <span class="swatch" aria-label="Yellow swatch" style="background: #facc15;"></span>
                            <span class="swatch" aria-label="Pink swatch" style="background: #ff78c4;"></span>
                            <span class="swatch" aria-label="Hot pink swatch" style="background: #ff1493;"></span>
                            <span class="swatch" aria-label="Red swatch" style="background: #ff4d4f;"></span>
                            <span class="swatch" aria-label="Light blue swatch" style="background: #add8e6;"></span>
                            <span class="swatch" aria-label="Purple swatch" style="background: #a855f7;"></span>
                            <span class="swatch" aria-label="Orange swatch" style="background: #fb923c;"></span>
                            <span class="swatch" aria-label="Pink swatch" style="background: #ff6ec7;"></span>
                            <span class="swatch" aria-label="Glass swatch" style="background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0) 60%), linear-gradient(135deg, rgba(238,242,255,0.65) 0%, rgba(148,163,184,0.35) 100%);"></span>
                            <span class="swatch" aria-label="Coffee color swatch" style="background: radial-gradient(circle at 35% 35%, #f3e2c5 0%, #c58d5a 55%, #8b5a2b 100%); box-shadow: 0 0 8px rgba(139,90,43,0.4); border-color: rgba(139,90,43,0.35);"></span>
                            <span class="swatch" aria-label="White cream swatch" style="background: radial-gradient(circle, #fff9f0 0%, #f5e6d2 55%, #e7caa1 100%); box-shadow: 0 0 6px rgba(231,202,161,0.5); border-color: rgba(231,202,161,0.45);"></span>
                            <span class="swatch" aria-label="Light pink swatch" style="background: radial-gradient(circle, #ffe6f2 0%, #fbcfe8 55%, #f472b6 100%); box-shadow: 0 0 6px rgba(244,114,182,0.45); border-color: rgba(244,114,182,0.35);"></span>
                            <span class="swatch" aria-label="Light teal swatch" style="background: radial-gradient(circle, #e0fffb 0%, #a5f3fc 55%, #38bdf8 100%); box-shadow: 0 0 6px rgba(56,189,248,0.45); border-color: rgba(56,189,248,0.35);"></span>
                            <span class="swatch" aria-label="Lavender swatch" style="background: radial-gradient(circle, #f3e8ff 0%, #d8b4fe 55%, #a855f7 100%); box-shadow: 0 0 6px rgba(168,85,247,0.45); border-color: rgba(168,85,247,0.35);"></span>
                            <span class="swatch" aria-label="Lime green swatch" style="background: radial-gradient(circle, #e4fbd2 0%, #c7f26b 55%, #7ecb21 100%); box-shadow: 0 0 6px rgba(126,203,33,0.45); border-color: rgba(126,203,33,0.35);"></span>
                            <span class="swatch" aria-label="Green swatch" style="background: #22c55e;"></span>
                            <span class="swatch" aria-label="Forest green swatch" style="background: #14532d;"></span>
                            <span class="swatch" aria-label="Clear swatch" style="background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.95) 0%, rgba(148,163,184,0.3) 65%);"></span>
                            <span class="swatch" aria-label="Light pink swatch" style="background: #f9a8d4;"></span>
                            <span class="swatch" aria-label="Royal blue swatch" style="background: #1d4ed8;"></span>
                            <span class="swatch" aria-label="Black swatch" style="background: #111827;"></span>
                        </div>
                      </div>
                      <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-next aria-label="Next color">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/></svg>
                      </button>
                    </div>
                    <div class="w-full flex justify-center">
                      <p class="design-palette-title design-palette-title--center design-palette-title--bar">Accessories</p>
                    </div>
                    <div class="design-swatch-slider swatch-slider flex items-center gap-2 mt-2" data-swatch-slider data-visible="7" data-visible-mobile="4">
                      <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-prev aria-label="Previous accessory">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 19-7-7 7-7"/></svg>
                      </button>
                      <div class="relative overflow-hidden design-swatch-window" data-swatch-window>
                        <div class="flex items-center design-swatch-track transition-transform duration-200" data-swatch-track data-design-accessories-source>
                            <span class="swatch" style="background:#e0f2fe; display:flex; align-items:center; justify-content:center; color:#1f2937; font-size:0.6rem; line-height:1;" aria-label="Rhinestone accessory accent" data-price="5" data-image-src="assets/rhinestone-lids-5.png" data-image-alt="Rhinestone lids"></span>
                            <span class="swatch" style="background:#5eead4; display:flex; align-items:center; justify-content:center; color:#0f172a; font-size:0.7rem; line-height:1;" aria-label="Jelly accessory accent" data-price="3" data-image-src="assets/Jelly Lids - 33.png" data-image-alt="Jelly lids"></span>
                            <span class="swatch" style="background: radial-gradient(circle at 35% 35%, rgba(224,242,255,0.95) 0%, rgba(96,165,250,0.35) 65%); box-shadow: inset 0 0 0 1px rgba(148,163,184,0.4); display:flex; align-items:center; justify-content:center; color:#1f2937; font-size:0.7rem; line-height:1;" aria-label="Glass accessory accent" data-price="3" data-image-src="assets/Glass-Bow-Straws.png" data-image-alt="Glass bow straws"></span>
                            <span class="swatch" style="background:#a7f3d0; display:flex; align-items:center; justify-content:center; color:#ffffff; font-size:0.7rem; line-height:1;" aria-label="Bow accent" data-price="3" data-image-src="assets/Glass-Bow-Straws.png" data-image-alt="Bow straws"></span>
                            <span class="swatch" style="background:#dbeafe; display:flex; align-items:center; justify-content:center; color:#1d4ed8; font-size:0.7rem; line-height:1;" aria-label="Swirl accent" data-price="3" data-image-src="assets/Glass Twist Straws - 3.png" data-image-alt="Twist straws"></span>
                            <span class="swatch" style="background:#fda4af; display:flex; align-items:center; justify-content:center; color:#7e3030; font-size:0.7rem; line-height:1;" aria-label="Cafe accent" data-price="1" data-image-src="assets/Straw Toppers - cafe - 1.jpeg" data-image-alt="Cafe straw toppers"></span>
                            <span class="swatch" style="background:#f9a8d4; display:flex; align-items:center; justify-content:center; color:#7f1d1d; font-size:0.7rem; line-height:1;" aria-label="Christmas accent" data-price="1" data-image-src="assets/Straw Toppers - Christmas - 1.jpeg" data-image-alt="Christmas straw toppers"></span>
                            <span class="swatch" style="background:#fda4af; display:flex; align-items:center; justify-content:center; color:#7e3030; font-size:0.7rem; line-height:1;" aria-label="Cat accent" data-price="1" data-image-src="assets/Straw Topper - Cats - 1.jpeg" data-image-alt="Cat straw toppers"></span>
                            <span class="swatch" style="background:#86efac; display:flex; align-items:center; justify-content:center; color:#14532d; font-size:0.7rem; line-height:1;" aria-label="Cactus accent" data-price="1" data-image-src="assets/Straw Toppers - Cactus - 1.png" data-image-alt="Cactus straw toppers"></span>
                            <span class="swatch" style="background:#93c5fd; display:flex; align-items:center; justify-content:center; color:#1d4ed8; font-size:0.7rem; line-height:1;" aria-label="Beach cup accent" data-price="1" data-image-src="assets/straw toppers - beach cup -1.png" data-image-alt="Beach cup straw toppers"></span>
                            <span class="swatch" style="background:#fef3c7; display:flex; align-items:center; justify-content:center; color:#92400e; font-size:0.7rem; line-height:1;" aria-label="Football accent" data-price="1" data-image-src="assets/straw toppers - sports - 1.png" data-image-alt="Sports straw toppers"></span>
                            <span class="swatch" style="background: radial-gradient(circle at 40% 40%, #fdf6e3 0%, #f3d9a6 55%, #d3a464 100%); box-shadow: inset 0 0 0 1px rgba(128,82,29,0.25); display:flex; align-items:center; justify-content:center; color:#2f2414; font-size:0.8rem; line-height:1;" aria-label="Cowboy hat accessory" data-price="3" data-image-src="assets/Cowboy Glass Straws - 3.jpg" data-image-alt="Cowboy hat straw"></span>
                        </div>
                      </div>
                      <button type="button" class="w-8 h-8 inline-flex items-center justify-center" style="background:transparent;border:none;box-shadow:none;padding:0;color:inherit;" data-swatch-next aria-label="Next accessory">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/></svg>
                      </button>
                    </div>
                    <div class="wrap-menu" style="margin-top:0.75rem;" >
                      <details>
                        <summary style="color:#000;">
                          Explore wrap templates
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" d="m6 9 6 6 6-6"/></svg>
                        </summary>
                        <ul>
                          <li data-wrap-option="seasonal-holiday" data-wrap-default="true" data-video-id="de65351aa0c825fa0c3d3a71ea6db687"><span>Seasonal / Holiday</span><small>cups &middot; mugs &middot; tumblers</small></li>
                          <li data-wrap-option="women" data-video-id="281dfbc0a9072b1ee25b87ccc9d016b6"><span>Women</span><small>cups &middot; mugs &middot; tumblers</small></li>
                          <li
                            data-wrap-option="special-designers"
                            data-video-prompt-title="Need a Special Character or Designer Wrap?"
                            data-video-prompt="Share your character or designer theme with us and we will send next steps."
                            data-video-prompt-cta-label="Request Custom Wrap"
                            data-video-prompt-cta-href="mailto:lovettsdandc@gmail.com"
                          >
                            <span>Special Characters &amp; Designers </span><small>email for custom details</small>
                          </li>
                          <li><span>Drinks</span><small>cups &middot; mugs &middot; tumblers</small></li>
                          <li data-wrap-option="boys-girls" data-video-id="4e6abab155e7cf1cd2810b095e8ac5db"><span>Boys &amp; Girls</span><small>cups &middot; mugs &middot; tumblers</small></li>
                          <li data-wrap-option="supporting-causes" data-video-id="d9c0f246f9b66240d23e875a2ddcce99"><span>Supporting Causes</span><small>cups &middot; mugs &middot; tumblers</small></li>
                          <li data-wrap-option="men" data-video-id="3b6e9b07e55512bf69b1f4bcd59489b1"><span>Men</span><small>cups &middot; mugs &middot; tumblers</small></li>
                          <li data-wrap-option="careers-hobbies" data-video-id="f003a3be6d1efc71dfd7a1051ae931c1"><span>Careers &amp; Hobbies</span><small>cups &middot; mugs &middot; tumblers</small></li>
                          <li data-wrap-option="sports" data-video-id="b256183a06842b86d88c6cbfb1de0225"><span>Sports</span><small>cups &middot; mugs &middot; tumblers</small></li>
                          <li data-wrap-option="religion" data-video-id="9bcf826bc7560dfa80644d3f4bc37f00"><span>Religion</span><small>cups &middot; mugs &middot; tumblers</small></li>
                        </ul>
                      </details>
                    </div>
                    <div class="design-notes-panel">
                      <div class="design-notes-grid">
                        <div>
                          <p class="design-palette-title design-palette-title--center design-palette-title--highlight">Color</p>
                          <div class="design-selection-target" data-selected-color>
                            <div class="design-selection-swatch" aria-hidden="true"></div>
                            <span class="design-selection-label">Select a color</span>
                            <button type="button" class="design-selection-clear" data-clear-color aria-label="Clear color selection">&times;</button>
                          </div>
                        </div>
                        <div>
                          <p class="design-palette-title design-palette-title--center design-palette-title--highlight">Accessory</p>
                          <div class="design-selection-target" data-selected-accessory>
                            <div class="design-selection-swatch" aria-hidden="true"></div>
                            <span class="design-selection-label">Select an accessory</span>
                            <button type="button" class="design-selection-clear" data-clear-accessory aria-label="Clear accessory selection">&times;</button>
                          </div>
                        </div>
                        <div class="wrap-field">
                          <p class="design-palette-title design-palette-title--center design-palette-title--highlight">Wrap Template</p>
                          <div class="design-selection-target design-selection-target--wrap" data-selected-wrap>
                            <div class="design-selection-swatch" aria-hidden="true"></div>
                            <span class="design-selection-label">Select a wrap template</span>
                            <button type="button" class="design-selection-clear" data-clear-wrap aria-label="Clear wrap selection">&times;</button>
                          </div>
                        </div>
                      </div>
                      <label class="design-notes-label" for="design-notes-home" style="color:#000;">Customer Notes</label>
                      <div class="design-notes-field">
                        <textarea id="design-notes-home" name="design-notes" placeholder="Share favorite color combos, accessory ideas, or special instructions..." style="color:#000 !important;"></textarea>
                      </div>
                      <div class="support-upload">
                        <input type="file" id="designUploadHome" class="support-upload-input" accept="image/*,.pdf,.ai,.psd" />
                        <label for="designUploadHome" class="support-upload-trigger">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15.172 7.757-6.364 6.364a2.5 2.5 0 1 0 3.536 3.536l6.364-6.364a4.5 4.5 0 0 0-6.364-6.364l-6.364 6.364a6.5 6.5 0 1 0 9.192 9.192l5.657-5.657"/></svg>
                          <span>Upload Inspiration</span>
                        </label>
                        <p class="support-upload-help">Optional: include an image or PDF for your design.</p>
                      </div>
                      <div class="design-price-wrapper">
                        <div class="design-price-bubble" data-design-price>
                          <span class="design-price-value">$0.00</span>
                        </div>
                      </div>
                    </div>
                  </div>
                <div class="cta-wrap">
                  <a href="checkout.html" class="cta-btn" data-design-submit>
                    Submit Your Design
                  </a>
                </div>
              </div>
            </div>
          </div>
        </section>
      <section id="section-4" class="">
        <div class="container py-12 md:py-16">
          <div class="max-w-2xl mx-auto text-center mb-8 md:mb-12">
            <h2 class="font-heading text-2xl md:text-3xl font-semibold tracking-tight">Follow Us on Instagram</h2>
            <p class="text-slate-600 mt-2">Tag your photos for a chance to be featured. Tap any tile to visit our Instagram.</p>
          </div>
          <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-5 md:gap-8" data-instagram-grid>
            <!-- Instagram tiles hydrate via assets/instagram-feed.json; first tile shows a local video preview -->
            <a class="insta-link relative block aspect-[4/5] rounded-md bg-gradient-to-br from-[#E0B0FF] to-[#D8B4FE] group" data-instagram-card data-instagram-index="0" href="https://instagram.com/lovetts._ldc" target="_blank" rel="noopener" aria-label="View on Instagram">
              <video class="absolute inset-0 w-full h-full object-cover" autoplay muted loop playsinline preload="auto" aria-hidden="true">
                <source src="assets/instagramtile11.mp4" type="video/mp4" />
              </video>
              <div class="absolute inset-0 bg-[#E0B0FF]/0 group-hover:bg-[#E0B0FF]/30 transition-colors"></div>
              <div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center text-white gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5H7zm0 2h10c1.654 0 3 1.346 3 3v10c0 1.654-1.346 3-3 3H7c-1.654 0-3-1.346-3-3V7c0-1.654 1.346-3 3-3zm5 3a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6zm5.5-.75a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z"/></svg>
                <span class="text-xs md:text-sm font-medium">@lovetts._ldc</span>
              </div>
            </a>
            <a class="insta-link relative block aspect-[4/5] rounded-md bg-gradient-to-br from-[#E0B0FF] to-[#D8B4FE] group" data-instagram-card data-instagram-index="1" href="https://instagram.com/lovetts._ldc" target="_blank" rel="noopener" aria-label="View on Instagram">
              <img src="assets/instagram-tile-2.png" loading="lazy" alt="Instagram tile 2" class="absolute inset-0 w-full h-full object-cover" data-instagram-image onerror="this.style.display='none'" />
              <div class="absolute inset-0 bg-[#E0B0FF]/0 group-hover:bg-[#E0B0FF]/30 transition-colors"></div>
              <div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center text-white gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5H7zm0 2h10c1.654 0 3 1.346 3 3v10c0 1.654-1.346 3-3 3H7c-1.654 0-3-1.346-3-3V7c0-1.654 1.346-3 3-3zm5 3a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6zm5.5-.75a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z"/></svg>
                <span class="text-xs md:text-sm font-medium">@lovetts._ldc</span>
              </div>
            </a>
            <a class="insta-link relative block aspect-[4/5] rounded-md bg-gradient-to-br from-[#E0B0FF] to-[#D8B4FE] group" data-instagram-card data-instagram-index="2" href="https://instagram.com/lovetts._ldc" target="_blank" rel="noopener" aria-label="View on Instagram">
              <div class="absolute inset-0 overflow-hidden">
                <video
  class="absolute inset-0 w-full h-full object-cover"
  style="border: 0; left: 0; top: 0; width: 100%; height: 100%; object-fit: cover; object-position: center;"
  autoplay
  muted
  loop
  playsinline
  preload="auto"
  disablepictureinpicture
  data-hls-src="https://customer-3ptq6xbmg2sfpv29.cloudflarestream.com/ca20fc32e887e4482686ce8154fd5224/manifest/video.m3u8"
></video>
              </div>
              <div class="absolute inset-0 bg-[#E0B0FF]/0 group-hover:bg-[#E0B0FF]/30 transition-colors pointer-events-none"></div>
              <div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center text-white gap-2 pointer-events-none">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5H7zm0 2h10c1.654 0 3 1.346 3 3v10c0 1.654-1.346 3-3 3H7c-1.654 0-3-1.346-3-3V7c0-1.654 1.346-3 3-3zm5 3a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6zm5.5-.75a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z"/></svg>
                <span class="text-xs md:text-sm font-medium">@lovetts._ldc</span>
              </div>
            </a>
          </div>
        </div>
      </section>
      <section id="section-5" class="">
        <div class="container py-12 md:py-16">
          <!-- FAQ -->
          <h2 class="font-heading text-2xl md:text-3xl font-extrabold tracking-tight">Common Questions</h2>
          <div class="mt-6 divide-y divide-slate-200 border-y border-slate-200">
            <!-- Item 1 (open) -->
            <div>
              <h3>
                <button class="faq-toggle w-full flex items-center justify-between py-5 text-left font-semibold" aria-expanded="true" aria-controls="faq-1">
                  <span>How long before I receive my product(s)?</span>
                  <svg class="w-5 h-5 transition-transform" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 15l6-6 6 6"/></svg>
                </button>
              </h3>
              <div id="faq-1" class="pb-5 text-slate-700">
                Once you approve the designs for your custom order and payment is received, it can take 7-10 business days. We will always attempt to get your order as soon as possible.
              </div>
            </div>
            <!-- Item 2 (closed) -->
            <div>
              <h3>
                <button class="faq-toggle w-full flex items-center justify-between py-5 text-left font-semibold" aria-expanded="false" aria-controls="faq-2">
                  <span>Can I get my order expedited?</span>
                  <svg class="w-5 h-5 transition-transform" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 9l6 6 6-6"/></svg>
                </button>
              </h3>
              <div id="faq-2" class="hidden pb-5 text-slate-700">
                Yes you can always request for an order to be expedited for an additional charge.
              </div>
            </div>
            <!-- Item 3 (closed) -->
            <div>
              <h3>
                <button class="faq-toggle w-full flex items-center justify-between py-5 text-left font-semibold" aria-expanded="false" aria-controls="faq-3">
                  <span>Can I request something that I do not see on your website?</span>
                  <svg class="w-5 h-5 transition-transform" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 9l6 6 6-6"/></svg>
                </button>
              </h3>
              <div id="faq-3" class="hidden pb-5 text-slate-700">
                Yes, you can always send us a message or fill out the custom order form if found on one of the pages and ask to have a custom design created.
              </div>
            </div>
            <!-- Item 4 (closed) -->
            <div>
              <h3>
                <button class="faq-toggle w-full flex items-center justify-between py-5 text-left font-semibold" aria-expanded="false" aria-controls="faq-4">
                  <span>If I do not see a design on your website, does this mean it is not available, or you do not carry it?</span>
                  <svg class="w-5 h-5 transition-transform" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 9l6 6 6-6"/></svg>
                </button>
              </h3>
              <div id="faq-4" class="hidden pb-5 text-slate-700">
                No, please always send us an email inquiring about specific characters or designs. We more than likely have it and it has not been updated on the website.
              </div>
            </div>
            <!-- Item 5 (closed) -->
            <div>
              <h3>
                <button class="faq-toggle w-full flex items-center justify-between py-5 text-left font-semibold" aria-expanded="false" aria-controls="faq-5">
                  <span>Can I get a refund on custom orders?</span>
                  <svg class="w-5 h-5 transition-transform" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 9l6 6 6-6"/></svg>
                </button>
              </h3>
              <div id="faq-5" class="hidden pb-5 text-slate-700">
                No, unfortunately we do not do refunds for custom orders.
              </div>
            </div>
            <!-- Item 6 (closed) -->
            <div>
              <h3>
                <button class="faq-toggle w-full flex items-center justify-between py-5 text-left font-semibold" aria-expanded="false" aria-controls="faq-6">
                  <span>What if my order arrives to me broken or it is not on time?</span>
                  <svg class="w-5 h-5 transition-transform" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 9l6 6 6-6"/></svg>
                </button>
              </h3>
              <div id="faq-6" class="hidden pb-5 text-slate-700">
                Unfortunately, we cannot control the postal services, that includes all of them. We ask that you submit a claim with that specific postal office, UPS, FEDEX, etc. You will have the tracking number and you can use that to start a claim with them.
              </div>
            </div>
          </div>
          <!-- Popular categories -->
          <div class="mt-16">
            <h3 class="font-heading text-xl md:text-2xl font-semibold tracking-tight">Popular Categories</h3>
            <div class="mt-6 grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6 popular-categories-carousel">
              <a href="tumblers.html" class="flex items-center justify-between rounded-lg border border-slate-200 tile-mauve transition-colors p-5 text-white no-underline hover:no-underline">
                <span class="font-medium text-white no-underline hover:no-underline">Tumblers</span>
                <div class="flex items-center gap-3">
                  <img src="assets/water-bottle-tumbler.jpeg" alt="Water Bottle Tumbler thumbnail" class="w-10 h-10 rounded-md object-cover" />
                </div>
              </a>
              <a href="cups.html" class="flex items-center justify-between rounded-lg border border-slate-200 tile-mauve transition-colors p-5 text-white no-underline hover:no-underline">
                <span class="font-medium text-white no-underline hover:no-underline">Cups &amp; Mugs</span>
                <div class="flex items-center gap-3">
                  <img src="assets/porcelain-sublimination.png" alt="Bamboo Lid Mug thumbnail" class="w-10 h-10 rounded-md object-cover" />
                </div>
              </a>
              <a href="attire.html" class="flex items-center justify-between rounded-lg border border-slate-200 tile-mauve transition-colors p-5 text-white no-underline hover:no-underline">
                <span class="font-medium text-white no-underline hover:no-underline">Attire</span>
                <div class="flex items-center gap-3">
                  <img src="assets/LAW attire 1.png" alt="Attire preview" class="w-10 h-10 rounded-md object-cover" />
                </div>
              </a>
            </div>
          </div>
        </div>
      </section>
    </main>
    <footer>
        <div class="container py-10 flex flex-col md:flex-row items-center justify-between gap-4 text-sm text-slate-600">
        <div class="flex items-center gap-3 -ml-6">
          <span> <span id="year"></span> Brand. All rights reserved.</span>
        </div>
      </div>
    </footer>
    <!-- Section 6: Newsletter + footer prelude -->
    <section id="section-6" class="tile-mauve text-white">
      <div class="container py-14 md:py-20">
        <div class="grid md:grid-cols-2 gap-10 md:gap-16 items-start">
          <!-- Left: subscribe + links -->
          <div>
            <h2 class="font-heading text-2xl md:text-3xl font-extrabold tracking-tight">Be the first to know</h2>
            <p class="mt-2 text-sm md:text-base text-slate-300">Hear about new arrivals, sales, and other news.</p>
            <form class="mt-6" onsubmit="event.preventDefault();">
              <label class="block text-sm text-slate-300 mb-2" for="nl-email">Your Email Address</label>
              <div class="relative">
                <input id="nl-email" type="email" required placeholder=""
                  class="w-full bg-transparent border-b border-slate-600 focus:border-white focus:outline-none h-12 pr-10" />
                <button aria-label="Subscribe" class="absolute right-0 top-1/2 -translate-y-1/2 inline-flex items-center justify-center w-8 h-8 rounded hover:bg-white/10">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M13 5l7 7-7 7"/></svg>
                </button>
              </div>
            </form>
            <div class="mt-10 grid sm:grid-cols-1 gap-8 text-sm">
              <div>
                <div class="font-semibold text-white mb-3">Support</div>
                <ul class="space-y-2 text-slate-300">
                  <li><a href="#" class="hover:text-white">FAQ</a></li>
                  <li><a href="mailto:lovettsdandc@gmail.com" class="hover:text-white">Email Us</a></li>
                  <li><a href="#" class="hover:text-white">Returns</a></li>
                  <li><a href="#" class="hover:text-white">Warranty Policy</a></li>
                </ul>
              </div>
            </div>
          </div>
          <!-- Right: image with CTA -->
          <div>
            <div class="relative rounded-xl ring-1 ring-white/10 bg-slate-800">
              <img src="assets/section6-hero.jpg" alt="Beach picnic" class="w-full h-[360px] md:h-[520px] object-cover" loading="lazy" onerror="this.style.display='none'" />
            </div>
          </div>
        </div>
      </div>
    </section>

  <div class="favorites-drawer" data-favorites-drawer>
    <div class="favorites-overlay" data-favorites-overlay></div>
    <aside class="favorites-panel" data-favorites-panel role="dialog" aria-modal="true" aria-label="Favorites list">
      <div class="favorites-header">
        <h2 class="favorites-title">Your Favorites</h2>
        <button type="button" class="favorites-close-btn" data-favorites-close aria-label="Close favorites">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="favorites-body" data-favorites-items>
        <div class="favorites-empty">No favorites yet.</div>
      </div>
      <div class="favorites-footer">
        <button type="button" class="favorites-btn" data-favorites-cta>Favorites</button>
      </div>
    </aside>
  </div>

  <div class="cart-drawer" data-cart-drawer>
    <div class="cart-overlay" data-cart-overlay></div>
    <aside class="cart-panel" data-cart-panel role="dialog" aria-modal="true" aria-label="Shopping cart">
      <div class="cart-header">
        <h2 class="cart-title">Your Cart</h2>
        <button type="button" class="cart-close-btn" data-cart-close aria-label="Close cart">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="cart-body" data-cart-items>
        <div class="cart-empty">Your cart is empty.</div>
      </div>
      <div class="cart-footer">
        <div class="cart-summary">
          <span>Subtotal</span>
          <span data-cart-total>$0.00</span>
        </div>
        <button type="button" class="checkout-btn cart-reset-btn" data-cart-reset>Reset Cart</button>
        <button type="button" class="checkout-btn" data-cart-checkout>Proceed to Checkout</button>
      </div>
    </aside>
  </div>

    <script src="scripts/wrap-videos.js"></script>
    <script>
      const y = document.getElementById('year');
      if (y) y.textContent = new Date().getFullYear();
      // Instagram links: set your profile once here
      const FACEBOOK_URL = 'https://m.facebook.com/61573758803089/';
      document.querySelectorAll('.facebook-link').forEach(a => {
        a.setAttribute('href', FACEBOOK_URL);
        a.setAttribute('target', '_blank');
        a.setAttribute('rel', 'noopener');
        a.setAttribute('aria-label', "Visit Lovett's Designs and Crafts on Facebook");
      });

      const INSTAGRAM_URL = 'https://instagram.com/lovetts._ldc';
      const INSTAGRAM_FEED_URL = 'assets/instagram-feed.json';
      const instagramCards = document.querySelectorAll('[data-instagram-card]');
      instagramCards.forEach(card => {
        card.setAttribute('href', INSTAGRAM_URL);
        card.setAttribute('target', '_blank');
        card.setAttribute('rel', 'noopener');
        card.setAttribute('aria-label', 'View on Instagram');
      });

      const hydrateInstagramFeed = async () => {
        if (!instagramCards.length) return;
        try {
          const response = await fetch(INSTAGRAM_FEED_URL, { cache: 'no-store' });
          if (!response.ok) {
            throw new Error(`Feed request returned ${response.status}`);
          }
          const payload = await response.json();
          const items = Array.isArray(payload?.data) ? payload.data : [];
          const profileLink = payload?.profile || INSTAGRAM_URL;

          items.slice(0, instagramCards.length).forEach((item, index) => {
            const card = instagramCards[index];
            if (!card) return;
            const image = card.querySelector('[data-instagram-image]');
            if (item.imageUrl && image) {
              image.src = item.imageUrl;
              image.alt = item.caption
                ? `Instagram: ${item.caption}`
                : `Instagram post ${index + 1}`;
              image.style.removeProperty('display');
            }
            if (item.permalink) {
              card.setAttribute('href', item.permalink);
            } else {
              card.setAttribute('href', profileLink);
            }
          });
        } catch (error) {
          console.warn('Instagram feed fallback in use:', error);
        }
      };
      hydrateInstagramFeed();
      const signInOverlay = document.querySelector('[data-signin-overlay]');
      const signUpOverlay = document.querySelector('[data-signup-overlay]');
      const supportOverlay = document.querySelector('[data-support-overlay]');
      let openSignIn = () => {};
      let closeSignIn = () => {};
      let openSignUp = () => {};
      let closeSignUp = () => {};
      let openSupport = () => {};
      let closeSupport = () => {};
      if (signInOverlay) {
        const signInOpeners = document.querySelectorAll('[data-signin-open]');
        const signInClosers = signInOverlay.querySelectorAll('[data-signin-close]');
        const signInForm = signInOverlay.querySelector('[data-signin-form]');
        const signInEmail = document.getElementById('signInEmail');
        const signInToSignUp = signInOverlay.querySelector('[data-signin-to-signup]');
        const setSignInState = isOpen => {
          signInOverlay.classList.toggle('is-open', isOpen);
          signInOverlay.setAttribute('aria-hidden', String(!isOpen));
          document.body.classList.toggle('signin-open', isOpen);
          if (isOpen && signInEmail) {
            requestAnimationFrame(() => signInEmail.focus());
          }
        };
        closeSignIn = () => setSignInState(false);
        openSignIn = () => {
          if (signUpOverlay?.classList.contains('is-open')) {
            closeSignUp();
          }
          if (supportOverlay?.classList.contains('is-open')) {
            closeSupport();
          }
          if (searchPanel && !searchPanel.hidden) {
            toggleSearchPanel(false);
          }
          setSignInState(true);
        };
        signInOpeners.forEach(trigger => {
          trigger.addEventListener('click', event => {
            event.preventDefault();
            openSignIn();
          });
        });
        signInClosers.forEach(trigger => {
          trigger.addEventListener('click', event => {
            event.preventDefault();
            closeSignIn();
          });
        });
        signInOverlay.addEventListener('click', event => {
          if (event.target === signInOverlay) {
            closeSignIn();
          }
        });
        document.addEventListener('keydown', event => {
          if (event.key === 'Escape' && signInOverlay.classList.contains('is-open')) {
            closeSignIn();
          }
        });
        signInForm?.addEventListener('submit', event => {
          event.preventDefault();
          closeSignIn();
        });
        signInToSignUp?.addEventListener('click', event => {
          event.preventDefault();
          closeSignIn();
          openSignUp();
        });
      }
      if (signUpOverlay) {
        const signUpOpeners = document.querySelectorAll('[data-signup-open]');
        const signUpClosers = signUpOverlay.querySelectorAll('[data-signup-close]');
        const signUpForm = signUpOverlay.querySelector('[data-signup-form]');
        const signUpName = document.getElementById('signUpName');
        const signUpToSignIn = signUpOverlay.querySelector('[data-signup-to-signin]');
        const setSignUpState = isOpen => {
          signUpOverlay.classList.toggle('is-open', isOpen);
          signUpOverlay.setAttribute('aria-hidden', String(!isOpen));
          document.body.classList.toggle('signup-open', isOpen);
          if (isOpen && signUpName) {
            requestAnimationFrame(() => signUpName.focus());
          }
        };
        closeSignUp = () => setSignUpState(false);
        openSignUp = () => {
          if (signInOverlay?.classList.contains('is-open')) {
            closeSignIn();
          }
          if (supportOverlay?.classList.contains('is-open')) {
            closeSupport();
          }
          if (searchPanel && !searchPanel.hidden) {
            toggleSearchPanel(false);
          }
          setSignUpState(true);
        };
        signUpOpeners.forEach(trigger => {
          trigger.addEventListener('click', event => {
            event.preventDefault();
            openSignUp();
          });
        });
        signUpClosers.forEach(trigger => {
          trigger.addEventListener('click', event => {
            event.preventDefault();
            closeSignUp();
          });
        });
        signUpOverlay.addEventListener('click', event => {
          if (event.target === signUpOverlay) {
            closeSignUp();
          }
        });
        document.addEventListener('keydown', event => {
          if (event.key === 'Escape' && signUpOverlay.classList.contains('is-open')) {
            closeSignUp();
          }
        });
        signUpForm?.addEventListener('submit', event => {
          event.preventDefault();
          closeSignUp();
        });
        signUpToSignIn?.addEventListener('click', event => {
          event.preventDefault();
          closeSignUp();
          openSignIn();
        });
      }
      const searchToggle = document.querySelector('[data-search-toggle]');
      const searchField = document.querySelector('[data-search-field]');
      const searchPanel = document.querySelector('[data-search-panel]');
      const searchClose = document.querySelector('[data-search-close]');
      const searchFormMobile = searchPanel?.querySelector('form');
      const searchInputMobile = searchPanel?.querySelector('input[type="search"]');
      const searchInputDesktop = searchField?.querySelector('input[type="search"]');
      const headerMenu = document.querySelector('[data-menu]');
      const menuToggle = document.querySelector('[data-menu-toggle]');
      const menuPanel = document.querySelector('[data-menu-panel]');
      const menuLinks = menuPanel?.querySelectorAll('a');
      const submenuPanels = menuPanel?.querySelectorAll('[data-menu-submenu]');
      const submenuToggles = menuPanel?.querySelectorAll('[data-menu-collapsible-toggle]');
      const MENU_BREAKPOINT = 768;
      let menuIsOpen = false;
      const isDesktopSearchVisible = () => {
        if (!searchField) return false;
        if (searchField.offsetParent === null) return false;
        return window.getComputedStyle(searchField).display !== 'none';
      };
      const toggleSearchPanel = isOpen => {
        if (!searchPanel) return;
        searchPanel.hidden = !isOpen;
        searchPanel.setAttribute('aria-hidden', String(!isOpen));
        if (isOpen && searchInputMobile) {
          requestAnimationFrame(() => searchInputMobile.focus());
        }
      };
      const setMenuState = isOpen => {
        menuIsOpen = isOpen;
        if (!menuPanel || !menuToggle) return;
        menuPanel.hidden = !isOpen;
        menuToggle.setAttribute('aria-expanded', String(isOpen));
        menuToggle.setAttribute('aria-label', isOpen ? 'Close navigation menu' : 'Open navigation menu');
        headerMenu?.classList.toggle('is-open', isOpen);
        if (isOpen && searchPanel && !searchPanel.hidden) {
          toggleSearchPanel(false);
        }
      };
      searchToggle?.addEventListener('click', event => {
        event.preventDefault();
        if (isDesktopSearchVisible()) {
          searchInputDesktop?.focus();
        } else {
          const isOpen = searchPanel && !searchPanel.hidden;
          toggleSearchPanel(!isOpen);
        }
      });
      searchClose?.addEventListener('click', event => {
        event.preventDefault();
        toggleSearchPanel(false);
      });
      searchFormMobile?.addEventListener('submit', event => {
        event.preventDefault();
        toggleSearchPanel(false);
      });
      menuToggle?.addEventListener('click', event => {
        event.preventDefault();
        setMenuState(!menuIsOpen);
      });
      menuLinks?.forEach(link => {
        link.addEventListener('click', () => closeMenu());
      });
      const closeAllSubmenus = () => {
        submenuPanels?.forEach(panel => {
          panel.setAttribute('hidden', '');
          const group = panel.closest('[data-menu-collapsible]');
          group?.classList.remove('is-open');
        });
      };
      const closeMenu = () => {
        setMenuState(false);
        closeAllSubmenus();
      };
      submenuToggles?.forEach(toggle => {
        toggle.addEventListener('click', event => {
          event.preventDefault();
          const id = toggle.getAttribute('data-menu-collapsible-toggle');
          if (!id) return;
          const panel = menuPanel?.querySelector(`[data-menu-submenu="${id}"]`);
          if (!panel) return;
          const group = toggle.closest('[data-menu-collapsible]');
          const isOpen = !panel.hasAttribute('hidden');
          closeAllSubmenus();
          if (!isOpen) {
            panel.removeAttribute('hidden');
            group?.classList.add('is-open');
          }
        });
      });
      document.addEventListener('click', event => {
        if (!menuIsOpen) return;
        const target = event.target;
        if (headerMenu && target instanceof Node && !headerMenu.contains(target)) {
          closeMenu();
        }
      });
      document.addEventListener('keydown', event => {
        if (event.key === 'Escape') {
          let handled = false;
          if (searchPanel && !searchPanel.hidden) {
            toggleSearchPanel(false);
            handled = true;
          }
          if (menuIsOpen) {
            closeMenu();
            if (menuToggle && menuToggle.offsetParent !== null) {
              menuToggle.focus();
            }
            handled = true;
          }
          if (handled) {
            event.preventDefault();
          }
        } else if (event.key === 'Tab' && menuIsOpen && menuPanel && !menuPanel.hidden) {
          const focusable = menuLinks ? Array.from(menuLinks) : [];
          if (!focusable.length) return;
          const first = focusable[0];
          const last = focusable[focusable.length - 1];
          if (event.shiftKey && document.activeElement === first) {
            event.preventDefault();
            last.focus();
          } else if (!event.shiftKey && document.activeElement === last) {
            event.preventDefault();
            first.focus();
          }
        }
      });
      window.addEventListener('resize', () => {
        if (isDesktopSearchVisible() && searchPanel && !searchPanel.hidden) {
          toggleSearchPanel(false);
        }
        if (window.innerWidth > MENU_BREAKPOINT && menuIsOpen) {
          closeMenu();
        }
      });
      window.addEventListener('orientationchange', () => {
        if (menuIsOpen) {
          closeMenu();
        }
      });
      if (supportOverlay) {
        const supportOpeners = document.querySelectorAll('[data-support-open]');
        const supportClosers = supportOverlay.querySelectorAll('[data-support-close]');
        const supportForm = supportOverlay.querySelector('[data-support-form]');
        const supportName = document.getElementById('supportName');
        const setSupportState = isOpen => {
          supportOverlay.classList.toggle('is-open', isOpen);
          supportOverlay.setAttribute('aria-hidden', String(!isOpen));
          document.body.classList.toggle('support-open', isOpen);
          if (isOpen && supportName) {
            requestAnimationFrame(() => supportName.focus());
          }
        };
        closeSupport = () => setSupportState(false);
        openSupport = () => {
          if (signInOverlay?.classList.contains('is-open')) {
            closeSignIn();
          }
          if (signUpOverlay?.classList.contains('is-open')) {
            closeSignUp();
          }
          if (searchPanel && !searchPanel.hidden) {
            toggleSearchPanel(false);
          }
          setSupportState(true);
        };
        supportOpeners.forEach(trigger => {
          trigger.addEventListener('click', event => {
            event.preventDefault();
            openSupport();
          });
        });
        supportClosers.forEach(trigger => {
          trigger.addEventListener('click', event => {
            event.preventDefault();
            closeSupport();
          });
        });
        supportOverlay.addEventListener('click', event => {
          if (event.target === supportOverlay) {
            closeSupport();
          }
        });
        document.addEventListener('keydown', event => {
          if (event.key === 'Escape' && supportOverlay.classList.contains('is-open')) {
            closeSupport();
          }
        });
        supportForm?.addEventListener('submit', event => {
          event.preventDefault();
          closeSupport();
        });
      }
      // FAQ toggle behavior
      document.querySelectorAll('.faq-toggle').forEach(btn => {
        btn.addEventListener('click', () => {
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          const panel = document.getElementById(btn.getAttribute('aria-controls'));
          btn.setAttribute('aria-expanded', String(!expanded));
          if (panel) panel.classList.toggle('hidden');
          const icon = btn.querySelector('svg');
          if (icon) icon.classList.toggle('rotate-180');
        });
      });
      // Cart drawer + persistence
      const cartBadge = document.querySelector('[data-cart-count]');
      const cartDrawer = document.querySelector('[data-cart-drawer]');
      const cartPanel = cartDrawer?.querySelector('[data-cart-panel]');
      const cartOverlay = cartDrawer?.querySelector('[data-cart-overlay]');
      const cartCloseBtn = cartDrawer?.querySelector('[data-cart-close]');
      const cartItemsContainer = cartDrawer?.querySelector('[data-cart-items]');
      const cartTotalEl = cartDrawer?.querySelector('[data-cart-total]');
      const cartCheckoutBtn = cartDrawer?.querySelector('[data-cart-checkout]');
      const cartResetBtn = cartDrawer?.querySelector('[data-cart-reset]');
      const cartOpeners = document.querySelectorAll('[data-cart-open]');

      if (cartPanel) {
        cartPanel.setAttribute('aria-hidden', 'true');
      }

      const CART_STORAGE_KEY = 'ldc:cart';
      const storage = (() => {
        const tryStore = store => {
          if (!store) return null;
          const testKey = '__ldc_test__';
          try {
            store.setItem(testKey, '1');
            store.removeItem(testKey);
            return store;
          } catch (error) {
            return null;
          }
        };
        return tryStore(window.localStorage) || tryStore(window.sessionStorage);
      })();

      const formatCurrency = value => new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD'
      }).format(value ?? 0);

        const loadCartState = () => {
          if (!storage) return { items: [] };
          const raw = storage.getItem(CART_STORAGE_KEY);
          if (!raw) return { items: [] };
          try {
            const parsed = JSON.parse(raw);
          if (parsed && Array.isArray(parsed.items)) {
            return {
              items: parsed.items
                .map(item => ({
                  id: String(item.id ?? ''),
                  name: String(item.name ?? 'Item'),
                  price: Number(item.price ?? 0),
                  quantity: Math.max(1, Number(item.quantity ?? 1)),
                  previewStyle: typeof item.previewStyle === 'string' ? item.previewStyle.trim() : '',
                  accessoryOnly: Boolean(item.accessoryOnly) || /straw toppers/i.test(String(item.name ?? '')),
                  options: Array.isArray(item.options)
                    ? item.options
                        .map(opt => ({
                          label: String(opt?.label ?? '').trim(),
                          value: String(opt?.value ?? '').trim(),
                          swatchStyle: typeof opt?.swatchStyle === 'string' ? opt.swatchStyle.trim() : '',
                          swatchGlyph: typeof opt?.swatchGlyph === 'string' ? opt.swatchGlyph : ''
                        }))
                        .filter(opt => opt.label || opt.value)
                    : [],
          notes: typeof item.notes === 'string' ? item.notes : ''
                }))
                .filter(item => item.id && item.quantity > 0)
            };
          }
        } catch (error) {
          console.warn('Unable to parse saved cart:', error);
        }
        return { items: [] };
      };

      let cartState = loadCartState();
      cartState.items = cartState.items.filter(item => item.quantity > 0);

      const saveCart = () => {
        if (storage) {
          storage.setItem(CART_STORAGE_KEY, JSON.stringify(cartState));
        }
      };
      saveCart();

      const getCartCount = () => cartState.items.reduce((sum, item) => sum + item.quantity, 0);

      const syncBadge = () => {
        if (!cartBadge) return;
        const count = getCartCount();
        if (count > 0) {
          cartBadge.textContent = count;
          cartBadge.removeAttribute('hidden');
        } else {
          cartBadge.textContent = '';
          cartBadge.setAttribute('hidden', '');
        }
      };

      const renderCart = () => {
        if (!cartItemsContainer || !cartTotalEl) return;
        if (!cartState.items.length) {
          cartItemsContainer.innerHTML = '<div class="cart-empty">Your cart is empty.</div>';
          cartTotalEl.textContent = formatCurrency(0);
          if (cartCheckoutBtn) {
            cartCheckoutBtn.setAttribute('disabled', 'true');
            cartCheckoutBtn.textContent = 'Cart is empty';
          }
          return;
        }

        const itemsMarkup = cartState.items.map(item => {
          const fallbackPreview = 'background: linear-gradient(135deg, #d8b4fe 0%, #a855f7 100%);';
          const previewStyle = (item.previewStyle && item.previewStyle.trim()) ? item.previewStyle : fallbackPreview;
          const safePreviewStyle = previewStyle.replace(/"/g, '&quot;');
          const isAccessoryOnly = item.accessoryOnly || /straw toppers/i.test(item.name || '');
          const isPackageItem = /^(christmas diamond|flower premium|flower deluxe)$/i.test(String(item.name || item.title || '').trim());
          const options = Array.isArray(item.options)
            ? item.options.filter(opt => {
                if (!opt) return false;
                if (isAccessoryOnly && (opt.label || '').toLowerCase() === 'color') return false;
                return opt.label || opt.value;
              })
            : [];
          const notesRow = item.notes
            ? `<div class="cart-item-option"><span class="label">Notes:</span> <span class="value">${item.notes}</span></div>`
            : '';
          const optionsMarkup = options.length
            ? `<div class="cart-item-options">${options.map(opt => {
                const normalizedLabel = (opt.label || '').toLowerCase();
                const isColor = normalizedLabel === 'color';
                const isAccessory = normalizedLabel === 'accessory';
                const isAttachment = normalizedLabel === 'attachment';
                const swatchGlyph = opt.swatchGlyph || '';
                const isTextSwatch = /[A-Za-z]/.test(swatchGlyph);
                const baseSwatchStyle = opt.swatchStyle && opt.swatchStyle.trim()
                  ? opt.swatchStyle.trim()
                  : (isAccessory ? 'background:#d8b4fe;' : 'background:#e2e8f0;');
                const swatch = baseSwatchStyle && !isAttachment
                  ? `<span class="cart-item-swatch${isTextSwatch ? ' is-text' : ''}" style="${baseSwatchStyle.replace(/"/g, '&quot;')};">${swatchGlyph}</span>`
                  : '';
                if (isColor) {
                  return `<span class="cart-item-option">${swatch} <span class="value">${opt.value || ''}</span></span>`;
                }
                if (isAccessory) {
                  return `<span class="cart-item-option"><span class="label">Accessory:</span>${swatch} <span class="value">${opt.value || ''}</span></span>`;
                }
                if (isAttachment) {
                  const badge = opt.attachmentData ? ' (attached)' : '';
                  const viewLink = opt.attachmentData ? `<a href="${opt.attachmentData.replace(/"/g, '&quot;')}" target="_blank" rel="noopener" class="cart-attachment-link">View</a>` : '';
                  return `<span class="cart-item-option"><span class="label">Attachment:</span> <span class="value">${opt.value || 'Attached file'}${badge}</span> ${viewLink}</span>`;
                }
                return `<span class="cart-item-option"><span class="label">${opt.label}:</span> <span class="value">${opt.value}</span>${swatch}</span>`;
              }).join('')}${notesRow}</div>`
            : notesRow
              ? `<div class="cart-item-options">${notesRow}</div>`
              : '';
          return `
          <div class="cart-item" data-cart-item="${item.id}">
            <div class="cart-item-main">
              <div class="cart-item-preview" style="${safePreviewStyle}"></div>
              <div class="cart-item-info">
                <div class="cart-item-name">${item.name}</div>
                <div class="cart-item-price">${formatCurrency(item.price)}</div>
                ${optionsMarkup}
                <div class="cart-item-quantity">
                  <button type="button" class="cart-qty-btn" data-cart-decrease aria-label="Decrease quantity"></button>
                  <span>${item.quantity}</span>
                  <button type="button" class="cart-qty-btn" data-cart-increase aria-label="Increase quantity">+</button>
                </div>
              </div>
            </div>
            <button type="button" class="cart-remove-btn" data-cart-remove aria-label="Remove ${item.name}"></button>
          </div>`;
        }).join('');

        cartItemsContainer.innerHTML = itemsMarkup;
        const total = cartState.items.reduce((sum, item) => sum + item.price * item.quantity, 0);
        cartTotalEl.textContent = formatCurrency(total);
        if (cartCheckoutBtn) {
          cartCheckoutBtn.removeAttribute('disabled');
          cartCheckoutBtn.textContent = 'Proceed to Checkout';
        }
      };

      const openCart = () => {
        if (!cartDrawer) return;
        if (typeof favoritesDrawer !== 'undefined' && favoritesDrawer) {
          favoritesDrawer.classList.remove('is-open');
        }
        document.body.classList.remove('favorites-open');
        favoritesPanel?.setAttribute('aria-hidden', 'true');
        cartDrawer.classList.add('is-open');
        document.body.classList.add('cart-open');
        cartPanel?.setAttribute('aria-hidden', 'false');
      };

      const closeCart = () => {
        if (!cartDrawer) return;
        cartDrawer.classList.remove('is-open');
        document.body.classList.remove('cart-open');
        cartPanel?.setAttribute('aria-hidden', 'true');
      };

      cartOverlay?.addEventListener('click', closeCart);
      cartCloseBtn?.addEventListener('click', closeCart);
      document.addEventListener('keydown', event => {
        if (event.key === 'Escape' && cartDrawer?.classList.contains('is-open')) {
          closeCart();
        }
      });

      cartOpeners.forEach(trigger => {
        trigger.addEventListener('click', event => {
          event.preventDefault();
          openCart();
        });
      });
      cartCheckoutBtn?.addEventListener('click', () => {
        if (!cartState.items.length) return;
        closeCart();
        const encodedCart = encodeCartState({ items: cartState.items });
        const targetHref = encodedCart ? `checkout.html?cart=${encodedCart}` : 'checkout.html';
        window.location.href = targetHref;
      });
      cartResetBtn?.addEventListener('click', () => {
        const medusaCart = window.LDCCommerce;
        if (medusaCart?.resetCart) {
          medusaCart.resetCart();
          return;
        }
        cartState.items = [];
        saveCart();
        syncBadge();
        renderCart();
      });

      if (cartItemsContainer) {
        cartItemsContainer.addEventListener('click', event => {
          const target = event.target;
          const itemRow = target.closest('[data-cart-item]');
          if (!itemRow) return;
          const itemId = itemRow.getAttribute('data-cart-item');
          if (!itemId) return;

          const medusaCart = window.LDCCommerce;
          if (medusaCart?.enabled) {
            if (target.closest('[data-cart-remove]')) {
              medusaCart.removeLineItem?.(itemId);
              return;
            }
            if (target.closest('[data-cart-increase]')) {
              medusaCart.changeLineItemQuantity?.(itemId, 1);
              return;
            }
            if (target.closest('[data-cart-decrease]')) {
              medusaCart.changeLineItemQuantity?.(itemId, -1);
              return;
            }
          }

          if (target.closest('[data-cart-remove]')) {
            cartApi.removeItem(itemId);
          } else if (target.closest('[data-cart-increase]')) {
            cartApi.changeQuantity(itemId, 1);
          } else if (target.closest('[data-cart-decrease]')) {
            cartApi.changeQuantity(itemId, -1);
          }
        });
      }

      const normalizeProduct = product => {
        if (!product) return null;
        const name = String(product.name ?? '').trim() || 'Product';
        const accessoryOnly = Boolean(product.accessoryOnly) || /straw toppers/i.test(name);
        const price = Number(product.price ?? 0);
        const id = product.id ? String(product.id) : `${name}|${price}`;
        const quantity = Math.max(1, Number(product.quantity ?? 1));
        const previewStyle = typeof product.previewStyle === 'string' ? product.previewStyle.trim() : '';
        const options = Array.isArray(product.options)
          ? product.options
              .map(opt => ({
                label: String(opt?.label ?? '').trim(),
                value: String(opt?.value ?? '').trim(),
                swatchStyle: typeof opt?.swatchStyle === 'string' ? opt.swatchStyle.trim() : '',
                swatchGlyph: typeof opt?.swatchGlyph === 'string' ? opt.swatchGlyph : '',
                attachmentData: typeof opt?.attachmentData === 'string' ? opt.attachmentData : ''
              }))
              .filter(opt => opt.label || opt.value)
          : [];
        const notes = typeof product.notes === 'string' ? product.notes : '';
        return { id, name, price, quantity, previewStyle, options, notes, accessoryOnly };
      };

      const cartApi = {
        add(amount = 1) {
          const quantity = Math.max(1, Number(amount || 1));
          this.addProduct({ id: 'manual', name: 'Cart Item', price: 0, quantity, previewStyle: '' });
        },
        remove(amount = 1) {
          const existing = cartState.items.find(item => item.id === 'manual');
          if (!existing) return;
          existing.quantity = Math.max(0, existing.quantity - Math.max(1, Number(amount || 1)));
          if (existing.quantity === 0) {
            cartState.items = cartState.items.filter(item => item.id !== 'manual');
          }
          saveCart();
          syncBadge();
          renderCart();
        },
        set(amount = 0) {
          const qty = Math.max(0, Number(amount || 0));
          const existing = cartState.items.find(item => item.id === 'manual');
          if (!existing && qty > 0) {
            cartState.items.push({ id: 'manual', name: 'Cart Item', price: 0, quantity: qty, previewStyle: '' });
          } else if (existing) {
            existing.quantity = qty;
            if (qty === 0) {
              cartState.items = cartState.items.filter(item => item.id !== 'manual');
            }
          }
          saveCart();
          syncBadge();
          renderCart();
        },
        get() {
          return { ...cartState };
        },
        addProduct(rawProduct) {
          const product = normalizeProduct(rawProduct);
          if (!product) return;
          const existing = cartState.items.find(item => item.id === product.id);
          if (existing) {
            existing.name = product.name;
            existing.price = product.price;
            existing.quantity = Math.max(1, existing.quantity + Math.max(1, product.quantity || 1));
            existing.previewStyle = product.previewStyle || existing.previewStyle;
            existing.options = product.options && product.options.length ? product.options : existing.options;
            existing.notes = product.notes || existing.notes;
          } else {
            cartState.items.push(product);
          }
          saveCart();
          syncBadge();
          renderCart();
        },
        removeItem(id) {
          cartState.items = cartState.items.filter(item => item.id !== id);
          saveCart();
          syncBadge();
          renderCart();
        },
        changeQuantity(id, delta) {
          const item = cartState.items.find(entry => entry.id === id);
          if (!item) return;
          item.quantity = Math.max(0, item.quantity + delta);
          if (item.quantity === 0) {
            this.removeItem(id);
            return;
          }
          saveCart();
          syncBadge();
          renderCart();
        },
        open: openCart,
        close: closeCart
      };

      const buildImagePreviewStyle = src => {
        if (!src) return '';
        return `background-color: #ffffff; background-image: url("${src}"); background-size: cover; background-position: center; background-repeat: no-repeat;`;
      };

      const getCardPreviewStyle = card => {
        if (!card) return '';
        const media = card.querySelector('.tile-mauve, .product-media') || card.querySelector('div');
        const image = card.querySelector('img');
        if (image) {
          const src = image.getAttribute('src');
          if (src) {
            return buildImagePreviewStyle(src);
          }
        }
        if (!media) return '';
        const styledChild = media.querySelector('[style]');
        if (styledChild) {
          return styledChild.getAttribute('style') || '';
        }
        const background = media.getAttribute('style') || '';
        return background;
      };

      const getProductDetails = button => {
        const card = button.closest('.group, .product-card');
        if (!card) return null;
        const titleEl = card.querySelector('.tile-title, .product-title, [data-product-title]');
        const titleText = titleEl ? titleEl.textContent.trim() : 'Product';
        const cleanLabel = raw =>
          (raw || '')
            .replace(/^\s*View\s+/i, '')
            .replace(/\s*swatch\s*$/i, '')
            .replace(/\s+option\s*$/i, '')
            .trim();

        const priceCandidates = [
          titleEl?.nextElementSibling || null,
          card.querySelector('[data-price-value]'),
          card.querySelector('.price-line'),
          card.querySelector('.product-price'),
          card.querySelector('.tile-price'),
          card.querySelector('.text-sm.text-slate-700'),
          card.querySelector('[id*=\"ProductPrice\"]'),
          card.querySelector('.text-rose-600')
        ].filter(Boolean);

        let price = 0;
        for (const node of priceCandidates) {
          const priceText = node.textContent || '';
          const numeric = priceText.replace(/[^0-9.]/g, '');
          if (numeric) {
            price = Number(numeric);
            break;
          }
        }
        if (!price) {
          const attrPrice = card.getAttribute('data-price') || button.getAttribute('data-price');
          if (attrPrice) {
            const numeric = String(attrPrice).replace(/[^0-9.]/g, '');
            price = numeric ? Number(numeric) : 0;
          }
        }

        const accessoryOnly = card.dataset.accessoryOnly === 'true';
        const activeSwatch = card.querySelector('.swatch.is-active');
        const activeSwatchType = (activeSwatch?.dataset.swatchType || '').toLowerCase();
        const activeSwatchLabel =
          activeSwatch?.dataset.colorLabel ||
          activeSwatch?.getAttribute('aria-label') ||
          activeSwatch?.getAttribute('title') ||
          activeSwatch?.dataset.imageAlt ||
          '';
        const activeSwatchStyle = activeSwatch?.getAttribute('style') || '';
        const activeSwatchGlyph = (activeSwatch?.textContent || '').trim();
        let colorLabel = accessoryOnly ? '' : (card.dataset.selectedColor || '');
        if (colorLabel) {
          colorLabel = cleanLabel(colorLabel);
        }
        if (!colorLabel && !accessoryOnly) {
          if (activeSwatchType !== 'accessory' && activeSwatchLabel) {
            colorLabel = cleanLabel(activeSwatchLabel);
          }
        }
        if (!colorLabel && !accessoryOnly) {
          const activeImage = card.querySelector('.tile-mauve img, .product-media img, img');
          const alt = activeImage?.getAttribute('alt') || '';
          colorLabel = alt;
        }
        let colorStyle = accessoryOnly ? '' : (card.dataset.selectedColorStyle || '');
        if (!colorStyle && !accessoryOnly) {
          const swatchEl = card.querySelector('[data-image-target][data-image-src]:not([data-swatch-type="accessory"]), .swatch:not([data-swatch-type="accessory"])');
          if (swatchEl) {
            colorStyle = swatchEl.getAttribute('style') || '';
          }
        }
        const colorGlyph = accessoryOnly ? '' : (card.dataset.selectedColorGlyph || '');
        let accessoryLabel = card.dataset.selectedAccessory || '';
        if (accessoryLabel) {
          accessoryLabel = cleanLabel(accessoryLabel);
        }
        if (!accessoryLabel && activeSwatchType === 'accessory' && activeSwatchLabel) {
          accessoryLabel = cleanLabel(activeSwatchLabel);
        }
        let accessoryStyle = card.dataset.selectedAccessoryStyle || '';
        if (!accessoryStyle) {
          const accessorySwatch = card.querySelector('[data-swatch-type="accessory"]');
          if (accessorySwatch) {
            accessoryStyle = accessorySwatch.getAttribute('style') || '';
          }
        }
        const accessoryGlyph = card.dataset.selectedAccessoryGlyph || (activeSwatchType === 'accessory' ? activeSwatchGlyph : '');
        if (!accessoryStyle && activeSwatchType === 'accessory' && activeSwatchStyle) {
          accessoryStyle = activeSwatchStyle;
        }

        const options = [];
        if (colorLabel && !accessoryOnly) options.push({ label: 'Color', value: colorLabel, swatchStyle: colorStyle, swatchGlyph: colorGlyph });
        if (accessoryLabel) options.push({ label: 'Accessory', value: accessoryLabel, swatchStyle: accessoryStyle, swatchGlyph: accessoryGlyph });

        const idParts = [titleText, price];
        if (colorLabel && !accessoryOnly) idParts.push(`color:${colorLabel}`);
        if (accessoryLabel) idParts.push(`accessory:${accessoryLabel}`);
        const id = idParts.join('|');
        const previewStyle = getCardPreviewStyle(card);

        return { id, name: titleText, price, quantity: 1, previewStyle, options, accessoryOnly };
      };

      const FAVORITES_STORAGE_KEY = 'ldc:favorites';
      const favoritesDrawer = document.querySelector('[data-favorites-drawer]');
      const favoritesPanel = favoritesDrawer?.querySelector('[data-favorites-panel]');
      const favoritesOverlay = favoritesDrawer?.querySelector('[data-favorites-overlay]');
      const favoritesCloseBtn = favoritesDrawer?.querySelector('[data-favorites-close]');
      const favoritesItemsContainer = favoritesDrawer?.querySelector('[data-favorites-items]');
      const favoritesCTA = favoritesDrawer?.querySelector('[data-favorites-cta]');
      const favoritesOpeners = document.querySelectorAll('[data-favorites-open]');
      const favoritesBadge = document.querySelector('[data-favorites-count]');

      const loadFavoritesState = () => {
        if (!storage) return { items: [] };
        const raw = storage.getItem(FAVORITES_STORAGE_KEY);
        if (!raw) return { items: [] };
        try {
          const parsed = JSON.parse(raw);
          if (parsed && Array.isArray(parsed.items)) {
            return {
              items: parsed.items.map(item => ({
                id: String(item.id ?? ''),
                name: String(item.name ?? 'Item'),
                price: Number(item.price ?? 0),
                previewStyle: typeof item.previewStyle === 'string' ? item.previewStyle.trim() : '',
                accessoryOnly: Boolean(item.accessoryOnly) || /straw toppers/i.test(String(item.name ?? '')),
                options: Array.isArray(item.options)
                  ? item.options.map(opt => ({
                      label: String(opt?.label ?? '').trim(),
                      value: String(opt?.value ?? '').trim(),
                      swatchStyle: typeof opt?.swatchStyle === 'string' ? opt.swatchStyle.trim() : '',
                      swatchGlyph: typeof opt?.swatchGlyph === 'string' ? opt.swatchGlyph : ''
                    }))
                  : []
              }))
            };
          }
        } catch (error) {
          console.warn('Unable to parse saved favorites:', error);
        }
        return { items: [] };
      };

      let favoritesState = loadFavoritesState();
      const dedupeFavorites = () => {
        const map = new Map();
        favoritesState.items.forEach(item => {
          if (!map.has(item.id)) {
            map.set(item.id, item);
          }
        });
        favoritesState.items = Array.from(map.values());
      };
      dedupeFavorites();

      const saveFavorites = () => {
        if (storage) {
          storage.setItem(FAVORITES_STORAGE_KEY, JSON.stringify(favoritesState));
        }
      };
      const activateSwatchVisual = swatch => {
        if (!swatch) return;
        const group = swatch.closest('[data-swatch-track]') || swatch.closest('.swatch-slider') || swatch.closest('.group, .product-card');
        if (group) {
          group.querySelectorAll('.swatch.is-active').forEach(el => {
            if (el !== swatch) el.classList.remove('is-active');
          });
        }
        swatch.classList.add('is-active');
      };
      const ensureDefaultSwatchActive = () => {
        document.querySelectorAll('[data-swatch-track]').forEach(track => {
          const hasActive = track.querySelector('.swatch.is-active');
          if (!hasActive) {
            const first = track.querySelector('.swatch');
            if (first) first.classList.add('is-active');
          }
        });
      };
      const wireSwatchActiveFallback = () => {
        document.querySelectorAll('.swatch').forEach(swatch => {
          if (swatch.dataset.activeInit) return;
          swatch.dataset.activeInit = 'true';
          swatch.addEventListener('click', () => activateSwatchVisual(swatch));
          swatch.addEventListener('keydown', event => {
            if (event.key === 'Enter' || event.key === ' ') {
              event.preventDefault();
              activateSwatchVisual(swatch);
            }
          });
        });
      };

      const renderFavorites = () => {
        if (!favoritesItemsContainer) return;
        if (!favoritesState.items.length) {
          favoritesItemsContainer.innerHTML = '<div class="favorites-empty">No favorites yet.</div>';
          if (favoritesCTA) {
            favoritesCTA.setAttribute('disabled', 'true');
            favoritesCTA.textContent = 'Favorites (empty)';
          }
          return;
        }
        const itemsMarkup = favoritesState.items.map(item => {
          const fallbackPreview = 'background: linear-gradient(135deg, #fde1ff 0%, #f99ad9 100%);';
          const previewStyle = item.previewStyle && item.previewStyle.trim() ? item.previewStyle : fallbackPreview;
          const safePreviewStyle = previewStyle.replace(/"/g, '&quot;');
          const isAccessoryOnly = item.accessoryOnly || /straw toppers/i.test(item.name || '');
          const isPackageItem = /^(christmas diamond|flower premium|flower deluxe)$/i.test(String(item.name || item.title || '').trim());
          const options = Array.isArray(item.options)
            ? item.options.filter(opt => {
                if (!opt || !(opt.label || opt.value)) return false;
                if (isAccessoryOnly && (opt.label || '').toLowerCase() === 'color') return false;
                return true;
              })
            : [];
          const optionsMarkup = options.length
            ? `<div class="favorites-item-options">${options.map(opt => {
                const normalizedLabel = (opt.label || '').toLowerCase();
                const isColor = normalizedLabel === 'color';
                const isAccessory = normalizedLabel === 'accessory';
                const swatchGlyph = opt.swatchGlyph || '';
                const isTextSwatch = /[A-Za-z]/.test(swatchGlyph);
                const baseSwatchStyle = opt.swatchStyle && opt.swatchStyle.trim()
                  ? opt.swatchStyle.trim()
                  : (isAccessory ? 'background:#d8b4fe;' : 'background:#e2e8f0;');
                const swatchStyle = `${baseSwatchStyle}; width:1.25rem; height:1.25rem; border-radius:9999px;`;
                const swatch = (isColor || isAccessory)
                  ? `<span class="favorites-item-swatch${isTextSwatch ? ' is-text' : ''}" style="${swatchStyle.replace(/"/g, '&quot;')};">${swatchGlyph}</span>`
                  : '';
                if (isColor && isPackageItem) {
                  return `<span class="favorites-item-option">${swatch} <span class="value">${opt.value || ''}</span></span>`;
                }
                if (isColor) {
                  return `<span class="favorites-item-option"><span class="label">Color:</span>${swatch} <span class="value">${opt.value || ''}</span></span>`;
                }
                if (isAccessory) {
                  return `<span class="favorites-item-option"><span class="label">Accessory:</span>${swatch} <span class="value">${opt.value || ''}</span></span>`;
                }
                return `<span class="favorites-item-option"><span class="label">${opt.label}:</span> <span class="value">${opt.value || ''}</span></span>`;
              }).join('')}</div>`
            : '';
          return `
          <div class="favorites-item" data-favorite-item="${item.id}">
            <div class="favorites-item-main">
              <div class="favorites-item-preview" style="${safePreviewStyle}"></div>
              <div class="favorites-item-info">
                <div class="favorites-item-name">${item.name}</div>
                <div class="favorites-item-price">${formatCurrency(item.price)}</div>
                ${optionsMarkup}
              </div>
            </div>
            <div class="favorites-actions">
              <button type="button" class="favorites-add-cart" data-favorite-add-cart aria-label="Add ${item.name} to cart">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l1 7h12l1-4H6" /><circle cx="9" cy="19" r="1.25" /><circle cx="17" cy="19" r="1.25" /></svg>
              </button>
              <button type="button" class="favorites-remove-btn" data-favorite-remove aria-label="Remove ${item.name}"></button>
            </div>
          </div>`;
        }).join('');
        favoritesItemsContainer.innerHTML = itemsMarkup;
        if (favoritesCTA) {
          favoritesCTA.removeAttribute('disabled');
          favoritesCTA.textContent = 'Favorites';
        }
      };

      const favoritesHas = id => favoritesState.items.some(item => item.id === id);

      const syncFavoriteButtons = () => {
        document.querySelectorAll('.tile-action-favorite').forEach(btn => {
          const product = getProductDetails(btn);
          if (!product) return;
          const active = favoritesHas(product.id);
          btn.classList.toggle('is-active', active);
          btn.setAttribute('aria-pressed', active ? 'true' : 'false');
        });
        const hasFavorites = favoritesState.items.length > 0;
        favoritesOpeners.forEach(trigger => {
          trigger.classList.toggle('favorites-active', hasFavorites);
          trigger.setAttribute('aria-pressed', hasFavorites ? 'true' : 'false');
        });
      };

      const syncFavoritesBadge = () => {
        if (!favoritesBadge) return;
        const count = favoritesState.items.length;
        if (count > 0) {
          favoritesBadge.textContent = count;
          favoritesBadge.removeAttribute('hidden');
        } else {
          favoritesBadge.textContent = '';
          favoritesBadge.setAttribute('hidden', '');
        }
      };

      const updateFavoritesUI = () => {
        saveFavorites();
        renderFavorites();
        syncFavoriteButtons();
        syncFavoritesBadge();
      };

      const openFavorites = () => {
        if (!favoritesDrawer) return;
        if (typeof cartDrawer !== 'undefined' && cartDrawer) {
          cartDrawer.classList.remove('is-open');
        }
        document.body.classList.remove('cart-open');
        cartPanel?.setAttribute('aria-hidden', 'true');
        favoritesDrawer.classList.add('is-open');
        document.body.classList.add('favorites-open');
        favoritesPanel?.setAttribute('aria-hidden', 'false');
      };

      const closeFavorites = () => {
        if (!favoritesDrawer) return;
        favoritesDrawer.classList.remove('is-open');
        document.body.classList.remove('favorites-open');
        favoritesPanel?.setAttribute('aria-hidden', 'true');
      };

      favoritesOverlay?.addEventListener('click', closeFavorites);
      favoritesCloseBtn?.addEventListener('click', closeFavorites);
      document.addEventListener('keydown', event => {
        if (event.key === 'Escape' && favoritesDrawer?.classList.contains('is-open')) {
          closeFavorites();
        }
      });

      favoritesOpeners.forEach(trigger => {
        trigger.addEventListener('click', event => {
          event.preventDefault();
          openFavorites();
        });
      });
      favoritesCTA?.addEventListener('click', () => {
        if (!favoritesState.items.length) return;
        closeFavorites();
        window.location.href = 'favorites.html';
      });

      const normalizeFavoriteProduct = product => {
        const normalized = normalizeProduct(product);
        return normalized ? { ...normalized, quantity: 1 } : null;
      };

      const favoritesApi = {
        addProduct(rawProduct) {
          const product = normalizeFavoriteProduct(rawProduct);
          if (!product) return;
          if (favoritesHas(product.id)) {
            return;
          }
          favoritesState.items.push(product);
          updateFavoritesUI();
        },
        removeItem(id) {
          if (!id) return;
          favoritesState.items = favoritesState.items.filter(item => item.id !== id);
          updateFavoritesUI();
        },
        has: favoritesHas,
        all() {
          return favoritesState.items.slice();
        },
        clear() {
          favoritesState.items = [];
          updateFavoritesUI();
        },
        open: openFavorites,
        close: closeFavorites
      };

      updateFavoritesUI();
      window.ldcFavorites = favoritesApi;
      if (favoritesItemsContainer) {
        favoritesItemsContainer.addEventListener('click', event => {
          const addBtn = event.target.closest('[data-favorite-add-cart]');
          if (addBtn) {
            const row = addBtn.closest('[data-favorite-item]');
            const id = row?.getAttribute('data-favorite-item');
            const item = id ? favoritesState.items.find(it => it.id === id) : null;
            if (item) {
              cartApi.addProduct({ ...item, quantity: 1 });
              openCart();
            }
            return;
          }
          const removeBtn = event.target.closest('[data-favorite-remove]');
          if (!removeBtn) return;
          const row = removeBtn.closest('[data-favorite-item]');
          if (!row) return;
          const id = row.getAttribute('data-favorite-item');
          if (!id) return;
          favoritesApi.removeItem(id);
        });
      }



      const wireCartButtons = () => {
        document.querySelectorAll('[data-add-to-cart]').forEach(btn => {
          btn.addEventListener('click', () => {
            const product = getProductDetails(btn);
            cartApi.addProduct(product);
            btn.dispatchEvent(new CustomEvent('cart:button-click', { bubbles: true, detail: { product } }));
            openCart();
          });
        });
      };

      const wireFavoriteButtons = () => {
        document.querySelectorAll('.tile-action-favorite').forEach(btn => {
          btn.addEventListener('click', () => {
            const product = getProductDetails(btn);
            if (!product) return;
            const isActive = favoritesApi.has(product.id);
            if (isActive) {
              favoritesApi.removeItem(product.id);
            } else {
              favoritesApi.addProduct(product);
              favoritesApi.open();
            }
            syncFavoriteButtons();
          });
        });
        syncFavoriteButtons();
      };

      const wireProductSwatches = () => {
        document.querySelectorAll('[data-image-target][data-image-src]').forEach(swatch => {
          if (swatch.dataset.imageSwapInit) return;
          swatch.dataset.imageSwapInit = 'true';
          const activateSwap = () => {
            const targetId = swatch.dataset.imageTarget;
            const newSrc = swatch.dataset.imageSrc;
            if (!targetId || !newSrc) return;
            const targetImage = document.getElementById(targetId);
            if (!targetImage) return;
            targetImage.setAttribute('src', newSrc);
            if (swatch.dataset.imageAlt) {
              targetImage.setAttribute('alt', swatch.dataset.imageAlt);
            }
            const card = swatch.closest('.group, .product-card');
            const labelFromSwatch = swatch.dataset.colorLabel || swatch.getAttribute('aria-label') || swatch.dataset.imageAlt || '';
            if (card && labelFromSwatch) {
              const cleanedLabel = labelFromSwatch
                .replace(/^\s*View\s+/i, '')
                .replace(/\s+option\s*$/i, '')
                .trim();
              const styleVal = swatch.getAttribute('style') || '';
              const glyph = (swatch.textContent || '').trim();
              const type = (swatch.dataset.swatchType || '').toLowerCase();
              if (type === 'accessory') {
                card.dataset.selectedAccessory = cleanedLabel || labelFromSwatch;
                if (styleVal) card.dataset.selectedAccessoryStyle = styleVal;
                if (glyph) card.dataset.selectedAccessoryGlyph = glyph;
              } else {
                card.dataset.selectedColor = cleanedLabel || labelFromSwatch;
                if (styleVal) card.dataset.selectedColorStyle = styleVal;
                if (glyph) card.dataset.selectedColorGlyph = glyph;
              }
            }
            const priceTargetId = swatch.dataset.priceTarget;
            const priceValue = swatch.dataset.price;
            if (priceTargetId && priceValue) {
              const priceEl = document.getElementById(priceTargetId);
              if (priceEl) {
                priceEl.textContent = `$${priceValue}`;
              }
            }
            const limitedTargetId = swatch.dataset.limitedTarget;
            if (limitedTargetId) {
              const limitedEl = document.getElementById(limitedTargetId);
              if (limitedEl) {
                const showLimited = swatch.dataset.limited === 'true';
                limitedEl.style.display = showLimited ? 'inline-block' : 'none';
              }
            }
            activateSwatchVisual(swatch);
          };
          swatch.addEventListener('click', activateSwap);
          swatch.addEventListener('keydown', event => {
            if (event.key === 'Enter' || event.key === ' ') {
              event.preventDefault();
              activateSwap();
            }
          });
        });
        ensureDefaultSwatchActive();
      };

      const wireColorOnlySwatches = () => {
        document.querySelectorAll('.swatch').forEach(swatch => {
          if (swatch.dataset.colorOnlyInit) return;
          if (swatch.dataset.imageTarget) return;
          const label = swatch.dataset.colorLabel || swatch.getAttribute('aria-label') || swatch.getAttribute('title');
          if (!label) return;
          swatch.dataset.colorOnlyInit = 'true';
          const selectColor = () => {
            const card = swatch.closest('.group, .product-card');
            if (!card) return;
            const cleaned = label
              .replace(/^\s*View\s+/i, '')
              .replace(/\s*swatch\s*$/i, '')
              .replace(/\s+option\s*$/i, '')
              .trim();
            const styleVal = swatch.getAttribute('style') || '';
            const glyph = (swatch.textContent || '').trim();
            const type = (swatch.dataset.swatchType || '').toLowerCase();
            if (type === 'accessory') {
              card.dataset.selectedAccessory = cleaned || label;
              if (styleVal) {
                card.dataset.selectedAccessoryStyle = styleVal;
              }
              if (glyph) {
                card.dataset.selectedAccessoryGlyph = glyph;
              }
            } else {
              card.dataset.selectedColor = cleaned || label;
              if (styleVal) {
                card.dataset.selectedColorStyle = styleVal;
              }
              if (glyph) {
                card.dataset.selectedColorGlyph = glyph;
              }
            }
            activateSwatchVisual(swatch);
          };
          swatch.addEventListener('click', selectColor);
          swatch.addEventListener('keydown', event => {
            if (event.key === 'Enter' || event.key === ' ') {
              event.preventDefault();
              selectColor();
            }
          });
          const card = swatch.closest('.group, .product-card');
          if (card) {
            const type = (swatch.dataset.swatchType || '').toLowerCase();
            if (type === 'accessory' && !card.dataset.selectedAccessory) {
              selectColor();
            }
            if (type !== 'accessory' && !card.dataset.selectedColor) {
              selectColor();
            }
          }
        });
        ensureDefaultSwatchActive();
      };

      const DESIGN_SELECTION_KEY = 'ldcDesignSelection';
      const DESIGN_SELECTION_PENDING_KEY = 'ldcDesignSelectionPending';
      const DESIGN_SELECTION_PENDING_AT_KEY = 'ldcDesignSelectionPendingAt';
      try {
        localStorage.removeItem(DESIGN_SELECTION_PENDING_KEY);
        localStorage.removeItem(DESIGN_SELECTION_PENDING_AT_KEY);
      } catch {}
      const designFrame = document.querySelector('[data-design-frame]');
      const designImageWrap = designFrame?.querySelector('[data-design-image-wrap]');
      const designImage = designFrame?.querySelector('[data-design-image]');
      const designVideo = designFrame?.querySelector('[data-design-video]');
      const designBackButton = designFrame?.querySelector('[data-design-back]');
      const designVideoPrompt = designFrame?.querySelector('[data-design-video-prompt]');
      const designVideoPromptTitle = designFrame?.querySelector('[data-prompt-title]');
      const designVideoPromptBody = designFrame?.querySelector('[data-prompt-body]');
      const designVideoPromptCta = designFrame?.querySelector('[data-prompt-cta]');
      const designPriceValue = document.querySelector('[data-design-price] .design-price-value');
      const designAttachmentInput = document.getElementById('designUploadHome');
      let designScrollPending = false;
      const scrollDesignPreviewIntoView = (targetEl = designFrame) => {
        const target = targetEl || designFrame;
        if (!target || designScrollPending) return;
        designScrollPending = true;
        requestAnimationFrame(() => {
          designScrollPending = false;
          const rect = target.getBoundingClientRect();
          const targetTop = rect.top + window.pageYOffset - (window.innerHeight - rect.height) / 2;
          const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
          window.scrollTo({
            top: Math.max(0, targetTop),
            behavior: prefersReduced ? 'auto' : 'smooth'
          });
        });
      };
      const bindUploadLabels = () => {
        document.querySelectorAll('.support-upload-input').forEach(input => {
          if (input.dataset.uploadInit) return;
          input.dataset.uploadInit = 'true';
          const labelSpan = input.closest('.support-upload')?.querySelector('.support-upload-trigger span');
          if (!labelSpan) return;
          const defaultText = labelSpan.textContent.trim();
          labelSpan.dataset.defaultText = defaultText;
          input.addEventListener('change', () => {
            const file = input.files?.[0];
            labelSpan.textContent = file ? file.name : labelSpan.dataset.defaultText || defaultText;
          });
        });
      };
      const setDesignPreviewImage = (src, alt) => {
        if (!designImage || !designImageWrap) return;
        if (src) {
          designImage.setAttribute('src', src);
          designImage.setAttribute('alt', alt || 'Custom design preview');
          designImageWrap.classList.add('has-image');
          designFrame?.classList.add('has-image');
        } else {
          designImage.removeAttribute('src');
          designImage.setAttribute('alt', 'Design preview');
          designImageWrap.classList.remove('has-image');
          designFrame?.classList.remove('has-image');
        }
      };

      const readDesignAttachment = () => {
        return new Promise(resolve => {
          const file = designAttachmentInput?.files?.[0];
          if (!file) return resolve(null);
          const maxBytes = 5 * 1024 * 1024;
          const info = { name: file.name, type: file.type, size: file.size };
          if (file.size > maxBytes) return resolve({ ...info, dataUrl: '' });
          const reader = new FileReader();
          reader.onload = () => resolve({ ...info, dataUrl: typeof reader.result === 'string' ? reader.result : '' });
          reader.onerror = () => resolve({ ...info, dataUrl: '' });
          reader.readAsDataURL(file);
        });
      };
      const medusaBackend = document.body?.dataset?.medusaBackend || '';
      const medusaPublishableKey = document.body?.dataset?.medusaPublishableKey || '';
      const uploadDesignAttachment = async (attachment) => {
        if (!attachment?.dataUrl || !medusaBackend) return null;
        const response = await fetch(`${medusaBackend.replace(/\/$/, '')}/store/design-attachments`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            ...(medusaPublishableKey ? { 'x-publishable-api-key': medusaPublishableKey } : {})
          },
          mode: 'cors',
          credentials: 'omit',
          body: JSON.stringify({
            filename: attachment.name,
            content_type: attachment.type,
            data_url: attachment.dataUrl
          })
        });
        if (!response.ok) {
          const text = await response.text().catch(() => '');
          throw new Error(text || `Attachment upload failed (${response.status})`);
        }
        return response.json();
      };
      const designColorPreview = document.querySelector('[data-color-preview]');
      const designColorPreviewWrap = designColorPreview?.closest('.design-preview-tile');
      const designColorPreviewGlyph = designColorPreview?.querySelector('.design-preview-glyph');
      const designAccessoryPreview = document.querySelector('[data-accessory-preview]');
      const designAccessoryPreviewWrap = designAccessoryPreview?.closest('.design-preview-tile');
      const designAccessoryPreviewGlyph = designAccessoryPreview?.querySelector('.design-preview-glyph');
      const designColorPreviewClear = designColorPreviewWrap?.querySelector('[data-clear-preview-color]');
      const designAccessoryPreviewClear = designAccessoryPreviewWrap?.querySelector('[data-clear-preview-accessory]');
      const designImagePreviewClear = designFrame?.querySelector('[data-clear-preview-image]');
      let accessoryPrice = 0;
      let wrapPrice = 0;
      let selectedAccessoryLabel = '';
      let selectedAccessoryStyle = '';
      let selectedAccessoryGlyph = '';
      let selectedAccessoryImageSrc = '';
      let selectedAccessoryImageAlt = '';
      let selectedColorLabel = '';
      let selectedColorStyle = '';
      let selectedColorGlyph = '';
      let selectedWrapLabel = '';
      let selectedDesignName = '';
      let selectedDesignVariantId = '';
      let selectedDesignProductKey = '';
      let selectedDesignProductHandle = '';
      let selectedDesignProductId = '';
      const formatPrice = value => {
        const num = typeof value === 'number' && !Number.isNaN(value) ? value : 0;
        return `$${num.toFixed(2)}`;
      };
      const setDesignPrice = value => {
        if (!designPriceValue) return;
        designPriceValue.textContent = formatPrice(value);
      };
      const encodeDesignPayload = payload => {
        try {
          const json = JSON.stringify(payload || {});
          return encodeURIComponent(json);
        } catch (error) {
          console.warn('Unable to encode design payload', error);
          return '';
        }
      };
      const encodeCartState = state => {
        try {
          const json = JSON.stringify(state || cartState);
          return encodeURIComponent(json);
        } catch (error) {
          console.warn('Unable to encode cart payload', error);
          return '';
        }
      };
      const DESIGN_SESSION_KEY = 'ldc:design:last';
      const updateDesignTotal = () => {
        const base = typeof lastPrice?.amount === 'number' ? lastPrice.amount : 0;
        setDesignPrice(base + accessoryPrice + wrapPrice);
      };

      function updateColorPreview(style, label, glyph = '') {
        if (!designColorPreview) return;
        if (style) {
          designColorPreview.setAttribute('style', `${style};`);
          designColorPreview.setAttribute('aria-label', label ? `Selected color ${label}` : 'Selected color');
          designColorPreviewWrap?.classList.add('has-selection');
          if (designColorPreviewGlyph) {
            designColorPreviewGlyph.textContent = glyph || '';
          }
        } else {
          designColorPreview.removeAttribute('style');
          designColorPreview.setAttribute('aria-label', 'No color selected');
          designColorPreviewWrap?.classList.remove('has-selection');
          if (designColorPreviewGlyph) {
            designColorPreviewGlyph.textContent = '';
          }
        }
      }

      const buildAccessoryPreviewStyle = (baseStyle, imageSrc) => {
        const parts = [];
        if (baseStyle) parts.push(baseStyle.trim().replace(/;$/, ''));
        if (imageSrc) {
          parts.push(
            `background-image: url("${imageSrc}"); background-size: contain; background-position: center; background-repeat: no-repeat;`
          );
        }
        return parts.filter(Boolean).join('; ');
      };

      function updateAccessoryPreview(style, label, glyph = '', imageSrc = '', imageAlt = '') {
        if (!designAccessoryPreview) return;
        const resolvedImageSrc = typeof imageSrc === 'string' ? imageSrc : '';
        const resolvedImageAlt = typeof imageAlt === 'string' ? imageAlt : '';
        if (style || resolvedImageSrc) {
          const previewStyle = buildAccessoryPreviewStyle(style, resolvedImageSrc);
          if (previewStyle) {
            designAccessoryPreview.setAttribute('style', `${previewStyle};`);
          } else {
            designAccessoryPreview.removeAttribute('style');
          }
          const labelText = label || resolvedImageAlt;
          designAccessoryPreview.setAttribute('aria-label', labelText ? `Selected accessory ${labelText}` : 'Selected accessory');
          designAccessoryPreviewWrap?.classList.add('has-selection');
          if (designAccessoryPreviewGlyph) {
            designAccessoryPreviewGlyph.textContent = resolvedImageSrc ? '' : (glyph || '');
          }
        } else {
          designAccessoryPreview.removeAttribute('style');
          designAccessoryPreview.setAttribute('aria-label', 'No accessory selected');
          designAccessoryPreviewWrap?.classList.remove('has-selection');
          if (designAccessoryPreviewGlyph) {
            designAccessoryPreviewGlyph.textContent = '';
          }
        }
      }

      const designColorTrack = document.querySelector('[data-design-colors-source]');
      const normalizeSwatchLabel = raw => {
        if (!raw) return '';
        return raw
          .replace(/\s*swatch\b/i, '')
          .replace(/^view\s+/i, '')
          .replace(/\s+option\b/i, '')
          .replace(/\baccessory\b/gi, '')
          .replace(/\baccent\b/gi, '')
          .trim();
      };
      const sanitizeSwatchStyle = style => {
        if (!style) return '';
        return style
          .replace(/(^|;)\s*(width|height|min-width|max-width|min-height|max-height|flex)\s*:\s*[^;]+;?/gi, ';')
          .replace(/(^|;)\s*padding(?:-(?:left|right|top|bottom))?\s*:\s*[^;]+;?/gi, ';')
          .replace(/(^|;)\s*border-radius\s*:\s*[^;]+;?/gi, ';')
          .replace(/;{2,}/g, ';')
          .replace(/^\s*;\s*|\s*;\s*$/g, '')
          .trim();
      };
      const readSwatchData = swatch => {
        if (!swatch) return null;
        const rawLabel = swatch.getAttribute('aria-label') || swatch.getAttribute('title') || '';
        return {
          style: sanitizeSwatchStyle(swatch.getAttribute('style') || ''),
          label: normalizeSwatchLabel(rawLabel),
          glyph: (swatch.textContent || '').trim(),
          imageSrc: swatch.getAttribute('data-image-src') || '',
          imageAlt: swatch.getAttribute('data-image-alt') || ''
        };
      };
      const defaultDesignSwatches = designColorTrack
        ? Array.from(designColorTrack.querySelectorAll('.swatch'))
            .map(readSwatchData)
            .filter(Boolean)
        : [];
      let activeDesignSwatches = defaultDesignSwatches;
      const isDesignSwatchCandidate = swatch => {
        if (!swatch) return false;
        if (swatch.classList.contains('px-3') || swatch.classList.contains('py-1')) return false;
        const inSlider = swatch.closest('[data-swatch-track]') || swatch.closest('[data-swatch-slider]');
        const hasSizeClass = swatch.classList.contains('w-5') || swatch.classList.contains('h-5');
        const hasInlineSize = Boolean(swatch.style.width || swatch.style.height);
        return inSlider || hasSizeClass || hasInlineSize;
      };
      const extractCardSwatches = card => {
        if (!card) return [];
        return Array.from(card.querySelectorAll('.swatch'))
          .filter(isDesignSwatchCandidate)
          .map(readSwatchData)
          .filter(item => item && (item.style || item.glyph || item.imageSrc));
      };
      const buildDesignSwatch = data => {
        const swatch = document.createElement('span');
        swatch.className = 'swatch';
        if (data?.style) swatch.setAttribute('style', sanitizeSwatchStyle(data.style));
        if (data?.label) swatch.setAttribute('aria-label', data.label);
        if (data?.glyph) swatch.textContent = data.glyph;
        if (data?.imageSrc) swatch.setAttribute('data-image-src', data.imageSrc);
        if (data?.imageAlt) swatch.setAttribute('data-image-alt', data.imageAlt);
        return swatch;
      };
      const resetDesignColorSelection = () => {
        document.querySelectorAll('[data-selected-color]').forEach(colorTarget => {
          const swatchNode = colorTarget.querySelector('.design-selection-swatch');
          const labelNode = colorTarget.querySelector('.design-selection-label');
          if (swatchNode) {
            swatchNode.removeAttribute('style');
            swatchNode.textContent = '';
          }
          if (labelNode) {
            labelNode.textContent = 'Select a color';
          }
          colorTarget.classList.remove('has-selection');
        });
        selectedColorLabel = '';
        selectedColorStyle = '';
        selectedColorGlyph = '';
        updateColorPreview('', '');
        document
          .querySelectorAll('[data-design-colors-source] .swatch.is-active')
          .forEach(el => el.classList.remove('is-active'));
      };
      const resetDesignAccessorySelection = () => {
        document.querySelectorAll('[data-selected-accessory]').forEach(accessoryTarget => {
          const swatchNode = accessoryTarget.querySelector('.design-selection-swatch');
          const labelNode = accessoryTarget.querySelector('.design-selection-label');
          if (swatchNode) {
            swatchNode.removeAttribute('style');
            swatchNode.textContent = '';
          }
          if (labelNode) {
            labelNode.textContent = 'Select an accessory';
          }
          accessoryTarget.classList.remove('has-selection');
        });
        selectedAccessoryLabel = '';
        selectedAccessoryStyle = '';
        selectedAccessoryGlyph = '';
        selectedAccessoryImageSrc = '';
        selectedAccessoryImageAlt = '';
        accessoryPrice = 0;
        updateAccessoryPreview('', '');
        document
          .querySelectorAll('[data-design-accessories-source] .swatch.is-active')
          .forEach(el => el.classList.remove('is-active'));
      };
      const resetDesignWrapSelection = () => {
        document.querySelectorAll('[data-selected-wrap]').forEach(wrapTarget => {
          const swatchNode = wrapTarget.querySelector('.design-selection-swatch');
          const labelNode = wrapTarget.querySelector('.design-selection-label');
          if (swatchNode) {
            swatchNode.removeAttribute('style');
            swatchNode.textContent = '';
          }
          if (labelNode) {
            labelNode.textContent = 'Select a wrap template';
          }
          wrapTarget.classList.remove('has-selection');
        });
        selectedWrapLabel = '';
        wrapPrice = 0;
      };
      const resetDesignSelections = () => {
        resetDesignColorSelection();
        resetDesignAccessorySelection();
        resetDesignWrapSelection();
        updateDesignTotal();
      };
      const clearDesignImageSelection = () => {
        lastImageState = null;
        selectedDesignName = '';
        lastPrice = { amount: 0 };
        try {
          localStorage.removeItem(DESIGN_SELECTION_KEY);
          localStorage.removeItem(DESIGN_SELECTION_PENDING_KEY);
          localStorage.removeItem(DESIGN_SELECTION_PENDING_AT_KEY);
        } catch {}
        showImagePreview();
        updateDesignTotal();
      };
      const resetDesignSwatchSlider = () => {
        if (!designColorTrack) return;
        const slider = designColorTrack.closest('[data-swatch-slider]');
        if (slider) slider.dataset.sliderIndex = '0';
        designColorTrack.style.transform = 'translateX(0px)';
        window.dispatchEvent(new Event('resize'));
      };
      const setDesignColorSwatches = swatches => {
        if (!designColorTrack) return;
        const next = Array.isArray(swatches) && swatches.length ? swatches : defaultDesignSwatches;
        activeDesignSwatches = next;
        designColorTrack.innerHTML = '';
        next.forEach(item => designColorTrack.appendChild(buildDesignSwatch(item)));
        designColorTrack.querySelectorAll('.swatch.is-active').forEach(el => el.classList.remove('is-active'));
        resetDesignColorSelection();
        resetDesignSwatchSlider();
      };

      designColorPreviewClear?.addEventListener('click', event => {
        event.preventDefault();
        resetDesignColorSelection();
      });

      designAccessoryPreviewClear?.addEventListener('click', event => {
        event.preventDefault();
        resetDesignAccessorySelection();
        updateDesignTotal();
      });

      designImagePreviewClear?.addEventListener('click', event => {
        event.preventDefault();
        clearDesignImageSelection();
      });

      updateColorPreview('', '');
      updateAccessoryPreview('', '');
      let lastImageState = designImage && designImage.getAttribute('src')
        ? {
            src: designImage.getAttribute('src'),
            alt: designImage.getAttribute('alt') || 'Custom design preview'
          }
        : null;
      setDesignPreviewImage(lastImageState?.src, lastImageState?.alt);
      let lastPrice = { amount: 0 };
      updateDesignTotal();

      const rememberCurrentImage = () => {
        if (!designImage) return;
        const src = designImage.getAttribute('src');
        if (!src) return;
        lastImageState = {
          src,
          alt: designImage.getAttribute('alt') || 'Custom design preview'
        };
      };

      const showImagePreview = () => {
        if (!designFrame || !designImage) return;
        designFrame.classList.remove('is-video-active');
        designVideoPrompt?.setAttribute('hidden', 'true');
        designVideoPrompt?.setAttribute('aria-hidden', 'true');
        if (designVideo) {
          designVideo.pause?.();
          const sourceEl = designVideo.querySelector('source');
          if (sourceEl) {
            sourceEl.removeAttribute('src');
          }
          designVideo.load?.();
        }
        if (lastImageState?.src) {
          setDesignPreviewImage(lastImageState.src, lastImageState.alt);
        } else {
          setDesignPreviewImage('', '');
        }
        if (designBackButton) {
          designBackButton.hidden = true;
        }
      };

      const showVideoById = videoId => {
        if (!videoId || !designFrame || !designVideo) return;
        rememberCurrentImage();
        const sourceUrl = `https://customer-3ptq6xbmg2sfpv29.cloudflarestream.com/${videoId}/manifest/video.m3u8`;
        const sourceEl = designVideo.querySelector('source');
        if (sourceEl) {
          sourceEl.setAttribute('src', sourceUrl);
        }
        designVideoPrompt?.setAttribute('hidden', 'true');
        designVideoPrompt?.setAttribute('aria-hidden', 'true');
        designFrame.classList.add('is-video-active');
        if (designBackButton) {
          designBackButton.hidden = false;
        }
        designVideo.load?.();
        designVideo.play?.();
      };

      const showVideoPrompt = (title, body, ctaLabel, ctaHref) => {
        if (!designFrame || !designVideoPrompt) return;
        rememberCurrentImage();
        if (designVideo) {
          designVideo.pause?.();
          const sourceEl = designVideo.querySelector('source');
          if (sourceEl) {
            sourceEl.removeAttribute('src');
          }
          designVideo.load?.();
        }
        if (designVideoPromptTitle) {
          designVideoPromptTitle.textContent = title || 'Need a Special Character or Designer Wrap?';
        }
        if (designVideoPromptBody) {
          designVideoPromptBody.textContent = body || 'Share your character or designer theme with us and we will send next steps.';
        }
        if (designVideoPromptCta) {
          designVideoPromptCta.textContent = ctaLabel || 'Request Custom Wrap';
          designVideoPromptCta.setAttribute('href', ctaHref || 'mailto:lovettsdandc@gmail.com');
        }
        designVideoPrompt.removeAttribute('hidden');
        designVideoPrompt.setAttribute('aria-hidden', 'false');
        designFrame.classList.add('is-video-active');
        if (designBackButton) {
          designBackButton.hidden = false;
        }
      };

      designBackButton?.addEventListener('click', showImagePreview);

      const getStoredDesignSelection = () => {
        try {
          const storedValue = localStorage.getItem(DESIGN_SELECTION_KEY);
          if (!storedValue) return null;
          const parsed = JSON.parse(storedValue);
          if (parsed && typeof parsed === 'object' && parsed.src) {
            const swatches = Array.isArray(parsed.swatches)
              ? parsed.swatches.filter(item => item && (item.style || item.glyph || item.imageSrc))
              : [];
            return {
              src: parsed.src,
              alt: parsed.alt || 'Custom design preview',
              price: typeof parsed.price === 'number' ? parsed.price : undefined,
              name: typeof parsed.name === 'string' ? parsed.name : undefined,
              swatches: swatches.length ? swatches : undefined,
              productKey: parsed.productKey || '',
              productHandle: parsed.productHandle || '',
              productId: parsed.productId || '',
              variantId: parsed.variantId || ''
            };
          }
        } catch (error) {
          console.warn('Unable to read stored design selection', error);
        }
        return null;
      };

      const applyHomeDesignPreview = selection => {
        if (!designImage || !selection?.src) return;
        setDesignPreviewImage(selection.src, selection.alt);
        lastImageState = {
          src: selection.src,
          alt: selection.alt || 'Custom design preview'
        };
        if (selection.name) {
          selectedDesignName = selection.name;
        }
        if (selection.variantId) {
          selectedDesignVariantId = selection.variantId;
        }
        selectedDesignProductKey = selection.productKey || selectedDesignProductKey;
        selectedDesignProductHandle = selection.productHandle || selectedDesignProductHandle;
        selectedDesignProductId = selection.productId || selectedDesignProductId;
        if (typeof selection.price === 'number') {
          lastPrice = { amount: selection.price };
          accessoryPrice = 0;
          wrapPrice = 0;
          updateDesignTotal();
        } else {
          updateDesignTotal();
        }
      };

      const upgradeLegacySwatchesToSlider = () => {
        const svgPrev = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15 19-7-7 7-7"/></svg>';
        const svgNext = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"/></svg>';

        document.querySelectorAll('.flex.items-center.gap-2.flex-wrap:not([data-swatch-slider])').forEach(group => {
          if (group.hasAttribute('data-swatch-static')) return;
          const swatches = Array.from(group.querySelectorAll('.swatch'));
          if (!swatches.length) return;
          if (swatches.length <= 1) return; // keep single swatches static (no arrows)
          const slider = document.createElement('div');
          slider.className = 'flex items-center gap-1 swatch-slider';
          slider.setAttribute('data-swatch-slider', '');
          slider.setAttribute('data-visible', '4');

          const prev = document.createElement('button');
          prev.type = 'button';
          prev.className = 'w-8 h-8 inline-flex items-center justify-center';
          prev.style.cssText = 'background:transparent;border:none;box-shadow:none;padding:0;color:inherit;';
          prev.setAttribute('data-swatch-prev', '');
          prev.setAttribute('aria-label', 'Previous color');
          prev.innerHTML = svgPrev;

          const windowEl = document.createElement('div');
          windowEl.className = 'relative overflow-hidden';
          windowEl.setAttribute('data-swatch-window', '');

          const track = document.createElement('div');
          track.className = 'flex items-center gap-2 transition-transform duration-200';
          track.setAttribute('data-swatch-track', '');

          swatches.forEach(swatch => {
            swatch.style.flex = '0 0 auto';
            track.appendChild(swatch);
          });

          windowEl.appendChild(track);

          const next = document.createElement('button');
          next.type = 'button';
          next.className = 'w-8 h-8 inline-flex items-center justify-center';
          next.style.cssText = 'background:transparent;border:none;box-shadow:none;padding:0;color:inherit;';
          next.setAttribute('data-swatch-next', '');
          next.setAttribute('aria-label', 'Next color');
          next.innerHTML = svgNext;

          slider.appendChild(prev);
          slider.appendChild(windowEl);
          slider.appendChild(next);

          group.replaceWith(slider);
        });
      };

      const persistDesignSelection = selection => {
        if (!selection?.src) return;
        try {
          localStorage.setItem(DESIGN_SELECTION_KEY, JSON.stringify(selection));
          localStorage.setItem(DESIGN_SELECTION_PENDING_KEY, 'true');
          localStorage.setItem(DESIGN_SELECTION_PENDING_AT_KEY, String(Date.now()));
        } catch (error) {
          console.warn('Unable to save design selection', error);
        }
      };

      const applyStoredDesignSelection = () => {
        let stored = null;
        let selectedDesignProductKeyValue = null;
        try {
          const raw = localStorage.getItem(DESIGN_SELECTION_KEY);
          if (!raw) return;
          const parsed = JSON.parse(raw);
          if (!parsed || typeof parsed !== 'object') return;
          stored = parsed;
          selectedDesignProductKeyValue = parsed.productKey || parsed.product_key || null;
        } catch (error) {
          console.warn('Unable to load saved design selection', error);
          return;
        }

        if (!stored) return;
        if (stored.name) selectedDesignName = stored.name;
        if (selectedDesignProductKeyValue) selectedDesignProductKey = selectedDesignProductKeyValue;
        if (stored.productHandle) selectedDesignProductHandle = stored.productHandle;
        if (stored.productId) selectedDesignProductId = stored.productId;
        if (stored.variantId) selectedDesignVariantId = stored.variantId;
        if (typeof stored.price === 'number') {
          lastPrice = { amount: stored.price };
        }
      };

      const initSwatchSliders = () => {
        document.querySelectorAll('[data-swatch-slider]').forEach(slider => {
          if (slider.dataset.sliderInit) return;
          slider.dataset.sliderInit = 'true';
          const track = slider.querySelector('[data-swatch-track]');
          const windowEl = slider.querySelector('[data-swatch-window]');
          const prev = slider.querySelector('[data-swatch-prev]');
          const next = slider.querySelector('[data-swatch-next]');
          let index = Number.parseInt(slider.dataset.sliderIndex || '0', 10);
          if (!Number.isFinite(index)) index = 0;

          const getRequestedCount = () => {
            const desktopVisible = Number(slider.getAttribute('data-visible') || 4);
            const mobileVisible = Number(slider.getAttribute('data-visible-mobile') || desktopVisible);
            const isMobile = window.matchMedia('(max-width: 900px)').matches;
            return isMobile ? mobileVisible : desktopVisible;
          };
          const getVisibleCount = () => {
            const requested = getRequestedCount();
            const isDesignSlider = slider.classList.contains('design-swatch-slider');
            if (!isDesignSlider) return requested || 4;
            const total = track ? track.children.length : 0;
            return total ? Math.min(requested, total) : requested;
          };

          const setWindowWidth = () => {
            if (!windowEl || !track) return;
            const first = track.children[0];
            if (!first) return;
            const styles = getComputedStyle(track);
            const gap = parseFloat(styles.gap || styles.columnGap || '0');
            const swatchWidth = first.offsetWidth || first.getBoundingClientRect().width;
            const requestedCount = getRequestedCount();
            const visibleCount = getVisibleCount();
            const total = track.children.length;
            const isDesignSlider = slider.classList.contains('design-swatch-slider');
            const shouldCenter = isDesignSlider && total <= visibleCount;
            const widthCount = Math.max(1, shouldCenter ? requestedCount : visibleCount);
            const totalWidth = swatchWidth * widthCount + gap * (widthCount - 1);
            const windowStyles = getComputedStyle(windowEl);
            const paddingX =
              parseFloat(windowStyles.paddingLeft || '0') +
              parseFloat(windowStyles.paddingRight || '0');
            const isMobile = window.matchMedia('(max-width: 900px)').matches;
            const inset = isDesignSlider && isMobile ? 1 : 0;
            windowEl.style.width = `${totalWidth + paddingX - inset}px`;
            windowEl.style.maxWidth = '';
          };

          const update = () => {
            if (!track) return;
            const storedIndex = Number.parseInt(slider.dataset.sliderIndex || '', 10);
            if (!Number.isNaN(storedIndex)) {
              index = storedIndex;
            }
            const swatches = Array.from(track.children);
            const total = swatches.length;
            const visibleCount = getVisibleCount();
            const maxIndex = Math.max(0, total - visibleCount);
            const isDesignSlider = slider.classList.contains('design-swatch-slider');
            if (isDesignSlider) {
              if (maxIndex === 0) {
                slider.dataset.swatchAlign = 'center';
              } else {
                delete slider.dataset.swatchAlign;
              }
            } else {
              slider.classList.toggle('is-centered', maxIndex === 0);
            }
            if (maxIndex === 0) {
              index = 0;
            } else if (index < 0) {
              index = maxIndex;
            } else if (index > maxIndex) {
              index = 0;
            }
            slider.dataset.sliderIndex = String(index);
            const first = swatches[0];
            const gap = parseFloat(getComputedStyle(track).gap || getComputedStyle(track).columnGap || '0');
            const swatchWidth = first ? (first.offsetWidth || first.getBoundingClientRect().width) : 0;
            const offset = (swatchWidth + gap) * index;
            track.style.transform = `translateX(-${offset}px)`;
            const disablePrev = maxIndex === 0;
            const disableNext = maxIndex === 0;
            if (prev) {
              prev.classList.toggle('opacity-40', disablePrev);
              prev.classList.toggle('pointer-events-none', disablePrev);
              prev.setAttribute('aria-disabled', disablePrev ? 'true' : 'false');
            }
            if (next) {
              next.classList.toggle('opacity-40', disableNext);
              next.classList.toggle('pointer-events-none', disableNext);
              next.setAttribute('aria-disabled', disableNext ? 'true' : 'false');
            }
          };

          const step = direction => {
            index += direction;
            slider.dataset.sliderIndex = String(index);
            update();
          };

          prev?.addEventListener('click', event => {
            event.preventDefault();
            step(-1);
          });

          next?.addEventListener('click', event => {
            event.preventDefault();
            step(1);
          });

          window.addEventListener('resize', update);
          window.addEventListener('resize', setWindowWidth);
          setWindowWidth();
          update();
        });
      };

      let lastDesignButton = null;

      const resolveDesignSourceImage = (btn) => {
        const targetId = btn.getAttribute('data-design-source');
        if (targetId) {
          const direct = document.getElementById(targetId);
          if (direct) return direct;
        }
        const card = btn.closest('.product-card, .group, .group.relative');
        if (!card) return null;
        return (
          card.querySelector('[data-product-image]') ||
          card.querySelector('.tile-mauve img') ||
          card.querySelector('.product-media img') ||
          card.querySelector('img')
        );
      };

      const resolveDesignContext = (btn) => {
        const card = btn.closest('.product-card, .group, .group.relative');
        const fallbackButton =
          card?.querySelector('[data-product-key]') ||
          card?.querySelector('[data-add-to-cart]') ||
          null;
        const key =
          btn.dataset.productKey ||
          card?.dataset?.productKey ||
          fallbackButton?.dataset?.productKey ||
          '';
        let handle =
          btn.dataset.productHandle ||
          card?.dataset?.productHandle ||
          fallbackButton?.dataset?.productHandle ||
          '';
        const id =
          btn.dataset.productId ||
          card?.dataset?.productId ||
          fallbackButton?.dataset?.productId ||
          '';
        if (!handle && key) handle = key;
        return { card, key, handle, id };
      };

      const wireDesignButtons = () => {
        const extractPrice = card => {
          if (!card) return null;
          const priceEl =
            card.querySelector('.product-price') ||
            card.querySelector('.price-line') ||
            card.querySelector('.text-sm.text-slate-700');
          if (!priceEl) return null;
          const match = priceEl.textContent.replace(/[, ]/g, '').match(/(\d+(\.\d{1,2})?)/);
          if (!match) return null;
          return parseFloat(match[1]);
        };
        document.querySelectorAll('[data-design-source]').forEach(btn => {
          if (btn.dataset.designInit) return;
          btn.dataset.designInit = 'true';
          btn.addEventListener('click', async () => {
            lastDesignButton = btn;
            const sourceImage = resolveDesignSourceImage(btn);
            if (!sourceImage) return;
            const selection = {
              src: sourceImage.getAttribute('src'),
              alt: sourceImage.getAttribute('alt') || 'Custom design preview'
            };
            if (!selection.src) return;
            const { card, key, handle, id } = resolveDesignContext(btn);
            const price = extractPrice(card);
            const nameNode = card?.querySelector('.product-title, .tile-title');
            if (nameNode) {
              selection.name = nameNode.textContent.trim();
              selectedDesignName = selection.name;
            }
            if (key) selection.productKey = key;
            if (handle) selection.productHandle = handle;
            if (id) selection.productId = id;
            if (handle && !btn.dataset.productHandle) {
              btn.dataset.productHandle = handle;
            }
            if (id && !btn.dataset.productId) {
              btn.dataset.productId = id;
            }
            if (key && !btn.dataset.productKey) {
              btn.dataset.productKey = key;
            }
            if (window.LDCCommerce?.resolveVariantId) {
              try {
                const variantId = await window.LDCCommerce.resolveVariantId(btn);
                if (variantId) {
                  selection.variantId = variantId;
                  selectedDesignVariantId = variantId;
                }
              } catch (error) {
                console.warn('Unable to resolve variant for design selection', error);
              }
            }
            selectedDesignProductKey = selection.productKey || '';
            selectedDesignProductHandle = selection.productHandle || '';
            selectedDesignProductId = selection.productId || '';
            const swatches = extractCardSwatches(card);
            if (swatches.length) {
              selection.swatches = swatches;
            }
            if (typeof price === 'number') {
              selection.price = price;
              lastPrice = { amount: price };
            }
            setDesignColorSwatches(swatches);
            initDesignSelections();
            applyHomeDesignPreview(selection);
            showImagePreview();
            resetDesignSelections();
            persistDesignSelection(selection);
          });
        });
      };

      const initDesignSelections = () => {
        const colorTarget = document.querySelector('[data-selected-color]');
        const accessoryTarget = document.querySelector('[data-selected-accessory]');
        const wrapTarget = document.querySelector('[data-selected-wrap]');
        if (!colorTarget && !accessoryTarget && !wrapTarget) return;

        const cleanLabel = raw => {
          if (!raw) return raw;
          const stripped = raw
            .replace(/\s*swatch\b/i, '')
            .replace(/^view\s+/i, '')
            .replace(/\s+option\b/i, '')
            .replace(/\baccessory\b/gi, '')
            .replace(/\baccent\b/gi, '')
            .trim();
          if (!stripped) return stripped;
          return stripped.replace(/\b\w+/g, word => word.charAt(0).toUpperCase() + word.slice(1));
        };

        const applyToTarget = (target, swatch, placeholder) => {
          if (!target || !swatch) return;
          const style = swatch.getAttribute('style') || '';
          const text = (swatch.textContent || '').trim();
          const label = cleanLabel(swatch.getAttribute('aria-label') || placeholder);
          const swatchNode = target.querySelector('.design-selection-swatch');
          const labelNode = target.querySelector('.design-selection-label');
          if (swatchNode) {
            swatchNode.setAttribute('style', style);
            swatchNode.textContent = text;
          }
          if (labelNode) {
            labelNode.textContent = label;
          }
          target.classList.add('has-selection');
          activateSwatchVisual(swatch);
          if (target === accessoryTarget) {
            const priceAttr = swatch.getAttribute('data-price');
            const parsedPrice = priceAttr ? parseFloat(priceAttr) : 0;
            accessoryPrice = Number.isFinite(parsedPrice) ? parsedPrice : 0;
            selectedAccessoryLabel = label;
            selectedAccessoryStyle = style;
            selectedAccessoryGlyph = text;
            selectedAccessoryImageSrc = swatch.getAttribute('data-image-src') || '';
            selectedAccessoryImageAlt = swatch.getAttribute('data-image-alt') || '';
            updateAccessoryPreview(style, label, text, selectedAccessoryImageSrc, selectedAccessoryImageAlt);
            updateDesignTotal();
          } else if (target === colorTarget) {
            selectedColorLabel = label;
            selectedColorStyle = style;
            selectedColorGlyph = text;
            updateColorPreview(style, label, text);
            const imageSrc = swatch.getAttribute('data-image-src');
            if (imageSrc) {
              lastImageState = {
                src: imageSrc,
                alt: swatch.getAttribute('data-image-alt') || label || 'Custom design preview'
              };
              showImagePreview();
            }
          }
          const previewTarget =
            target === colorTarget
              ? designColorPreviewWrap
              : target === accessoryTarget
                ? designAccessoryPreviewWrap
                : designFrame;
          scrollDesignPreviewIntoView(previewTarget);
        };

        const clearTarget = (target, placeholder) => {
          if (!target) return;
          const swatchNode = target.querySelector('.design-selection-swatch');
          const labelNode = target.querySelector('.design-selection-label');
          if (swatchNode) {
            swatchNode.removeAttribute('style');
            swatchNode.textContent = '';
          }
          if (labelNode) {
            labelNode.textContent = placeholder;
          }
          target.classList.remove('has-selection');
          if (target === accessoryTarget) {
            accessoryPrice = 0;
            updateDesignTotal();
            selectedAccessoryStyle = '';
            selectedAccessoryGlyph = '';
            selectedAccessoryImageSrc = '';
            selectedAccessoryImageAlt = '';
            updateAccessoryPreview('', '');
          } else if (target === colorTarget) {
            selectedColorLabel = '';
            selectedColorStyle = '';
            selectedColorGlyph = '';
            updateColorPreview('', '');
          }
        };

        const bindSwatches = (selector, target, placeholder) => {
          if (!target) return;
          document.querySelectorAll(selector).forEach(swatch => {
            if (swatch.dataset.selectionInit) return;
            swatch.dataset.selectionInit = 'true';
            swatch.setAttribute('role', 'button');
            swatch.setAttribute('tabindex', '0');
            const activate = event => {
              if (event) event.preventDefault();
              applyToTarget(target, swatch, placeholder);
            };
            swatch.addEventListener('click', activate);
            swatch.addEventListener('keydown', event => {
              if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                activate(event);
              }
            });
          });
        };

        const applyWrapSelection = label => {
          if (!wrapTarget) return;
          const swatchNode = wrapTarget.querySelector('.design-selection-swatch');
          const labelNode = wrapTarget.querySelector('.design-selection-label');
          if (swatchNode) {
            swatchNode.removeAttribute('style');
            swatchNode.textContent = label ? label.charAt(0).toUpperCase() : '';
          }
          if (labelNode) {
            labelNode.textContent = label || 'Select a wrap template';
          }
          if (label) {
            wrapTarget.classList.add('has-selection');
            wrapPrice = 2.5;
            selectedWrapLabel = label;
          } else {
            wrapTarget.classList.remove('has-selection');
            wrapPrice = 0;
            selectedWrapLabel = '';
          }
          updateDesignTotal();
          scrollDesignPreviewIntoView();
        };

        const bindWrapOptions = () => {
          if (!wrapTarget) return;
          document.querySelectorAll('[data-wrap-option]').forEach(option => {
            if (option.dataset.wrapSelectionInit) return;
            option.dataset.wrapSelectionInit = 'true';
            const getLabel = () => {
              const span = option.querySelector('span');
              return span ? span.textContent.trim() : option.textContent.trim();
            };
            const activate = event => {
              if (event) event.preventDefault();
              applyWrapSelection(getLabel());
              const videoId = option.getAttribute('data-video-id');
              const promptTitle = option.getAttribute('data-video-prompt-title');
              const promptBody = option.getAttribute('data-video-prompt');
              const promptCtaLabel = option.getAttribute('data-video-prompt-cta-label');
              const promptCtaHref = option.getAttribute('data-video-prompt-cta-href');
              if (videoId) {
                showVideoById(videoId);
              } else if (promptTitle || promptBody || promptCtaHref) {
                showVideoPrompt(promptTitle, promptBody, promptCtaLabel, promptCtaHref);
              } else {
                showImagePreview();
              }
            };
            option.addEventListener('click', activate);
            option.addEventListener('keydown', event => {
              if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                activate(event);
              }
            });
          });
        };

        bindSwatches('[data-design-colors-source] .swatch', colorTarget, 'Color selected');
        bindSwatches('[data-design-accessories-source] .swatch', accessoryTarget, 'Accessory selected');
        bindWrapOptions();

        const bindClear = (buttonSelector, target, placeholder, onClear) => {
          const button = document.querySelector(buttonSelector);
          if (!button || button.dataset.designClearInit) return;
          button.dataset.designClearInit = 'true';
          button.addEventListener('click', () => {
            clearTarget(target, placeholder);
            if (typeof onClear === 'function') {
              onClear();
            }
          });
        };

        bindClear('[data-clear-color]', colorTarget, 'Select a color');
        bindClear('[data-clear-accessory]', accessoryTarget, 'Select an accessory');
        bindClear('[data-clear-wrap]', wrapTarget, 'Select a wrap template', () => {
          wrapPrice = 0;
          selectedWrapLabel = '';
          updateDesignTotal();
          showImagePreview();
        });
      };

      const moveBadgesToImages = () => {
        document.querySelectorAll('.group').forEach(card => {
          const media =
            card.querySelector('[class~="aspect-[4/5]"]') ||
            card.querySelector('[class*="aspect-[4/5]"]');
          if (!media) return;
          media.style.position = media.style.position || 'relative';
          media.querySelectorAll('[data-badge-stack]').forEach(el => el.remove());

          const badgeContainers = Array.from(
            card.querySelectorAll('.mt-1.flex.flex-col.gap-1.text-xs, .mt-1.text-xs.inline-flex, .mt-1.text-xs.inline-block')
          );
          const badges = [];

          badgeContainers.forEach(container => {
            const spans = container.matches('.mt-1.text-xs.inline-flex, .mt-1.text-xs.inline-block')
              ? [container]
              : Array.from(container.querySelectorAll('span'));
            spans.forEach(span => {
              if (span.textContent && span.textContent.trim().length) {
                badges.push(span);
              }
            });
          });

          if (!badges.length) return;

          const holder = document.createElement('div');
          holder.dataset.badgeStack = 'true';
          holder.className = 'badge-stack';

          badges.forEach(badge => {
            badge.style.margin = '0';
            badge.style.pointerEvents = 'none';
            badge.style.alignSelf = 'flex-end';
            holder.appendChild(badge);
          });

          media.appendChild(holder);

          // remove emptied badge containers
          badgeContainers.forEach(container => container.remove());
        });
      };

      const buildDesignProduct = async (idOverride, uploadedAttachment = null) => {
        const basePrice = typeof lastPrice?.amount === 'number' ? lastPrice.amount : 0;
        const totalPrice = basePrice + accessoryPrice + wrapPrice;
        const nameParts = [];
        if (selectedDesignName) nameParts.push(selectedDesignName);
        if (selectedColorLabel) nameParts.push(`Color: ${selectedColorLabel}`);
        if (selectedAccessoryLabel) nameParts.push(`Accessory: ${selectedAccessoryLabel}`);
        if (selectedWrapLabel) nameParts.push(`Wrap: ${selectedWrapLabel}`);
        const cartName = nameParts.length ? `Custom Design  ${nameParts.join('  ')}` : 'Custom Design';
        const previewSrc = lastImageState?.src || designImage?.getAttribute('src') || '';
        const previewStyle = buildImagePreviewStyle(previewSrc);
        const notesEl = document.getElementById('design-notes-home');
        const attachment = await readDesignAttachment();
        const attachmentUrl = uploadedAttachment?.url || '';
        return {
          id: idOverride || `design-${Date.now()}`,
          name: cartName,
          price: totalPrice,
          quantity: 1,
          previewStyle,
          options: [
            selectedColorLabel
              ? { label: 'Color', value: selectedColorLabel, swatchStyle: selectedColorStyle, swatchGlyph: selectedColorGlyph }
              : null,
            selectedAccessoryLabel
              ? {
                  label: 'Accessory',
                  value: selectedAccessoryLabel,
                  swatchStyle: selectedAccessoryStyle,
                  swatchGlyph: selectedAccessoryGlyph
                }
              : null,
            selectedWrapLabel ? { label: 'Wrap', value: selectedWrapLabel } : null,
            attachment?.name
              ? {
                  label: 'Attachment',
                  value: attachment.name,
                  attachmentData: attachmentUrl || attachment.dataUrl || ''
                }
              : null
          ].filter(Boolean),
          notes: notesEl ? notesEl.value.trim() : ''
        };
      };

      const buildDesignMetadata = async (variantIdOverride, uploadedAttachment = null, attachment = null) => {
        const previewSrc = lastImageState?.src || designImage?.getAttribute('src') || '';
        const previewAlt = lastImageState?.alt || designImage?.getAttribute('alt') || 'Custom design preview';
        const notesEl = document.getElementById('design-notes-home');
        const resolvedAttachment = attachment || (await readDesignAttachment());
        const basePrice = typeof lastPrice?.amount === 'number' ? lastPrice.amount : 0;
        const addonPrice = accessoryPrice + wrapPrice;
        const totalPrice = basePrice + addonPrice;
        let storedSelection = null;
        try {
          storedSelection = JSON.parse(localStorage.getItem(DESIGN_SELECTION_KEY) || 'null');
        } catch {}
        const metadata = {
          design_mode: 'custom',
          design_preview_url: previewSrc || undefined,
          preview_url: previewSrc || undefined,
          design_preview_alt: previewAlt || undefined,
          design_product_key: selectedDesignProductKey || storedSelection?.productKey || undefined,
          design_product_handle: selectedDesignProductHandle || storedSelection?.productHandle || undefined,
          design_product_id: selectedDesignProductId || storedSelection?.productId || undefined,
          design_variant_id: variantIdOverride || selectedDesignVariantId || storedSelection?.variantId || undefined,
          design_base_price: basePrice || undefined,
          design_addon_price: addonPrice || undefined,
          design_total_price: totalPrice || undefined,
          design_color_label: selectedColorLabel || undefined,
          design_color_style: selectedColorStyle || undefined,
          design_color_glyph: selectedColorGlyph || undefined,
          design_accessory_label: selectedAccessoryLabel || undefined,
          design_accessory_style: selectedAccessoryStyle || undefined,
          design_accessory_glyph: selectedAccessoryGlyph || undefined,
          design_wrap_label: selectedWrapLabel || undefined,
          design_notes: notesEl ? notesEl.value.trim() : undefined,
          design_attachment_name: resolvedAttachment?.name || undefined,
          design_attachment_url: uploadedAttachment?.url || undefined,
          design_attachment_key: uploadedAttachment?.key || undefined
        };
        return Object.fromEntries(
          Object.entries(metadata).filter(([, value]) => value !== undefined && value !== '')
        );
      };

      const addDesignToCart = (product) => {
        if (!product) return;
        try {
          if (cartApi?.addProduct) {
            cartApi.addProduct(product);
          } else if (storage) {
            // minimal fallback if cartApi unavailable
            const raw = storage.getItem(CART_STORAGE_KEY);
            let state = { items: [] };
            if (raw) {
              try {
                const parsed = JSON.parse(raw);
                if (parsed && Array.isArray(parsed.items)) state.items = parsed.items;
              } catch {}
            }
            state.items.push(product);
            storage.setItem(CART_STORAGE_KEY, JSON.stringify(state));
          }
        } catch (error) {
          console.warn('Design cart add failed', error);
        }
      };

      const syncDesignCart = async () => {
        const product = await buildDesignProduct('design-custom');
        const state = cartState && Array.isArray(cartState.items) ? cartState : { items: [] };
        const normalized = normalizeProduct(product);
        const filtered = state.items.filter(item => item?.id !== normalized.id);
        filtered.push(normalized);
        state.items = filtered;
        cartState = state;
        if (typeof saveCart === 'function') saveCart();
        else if (storage) {
          try {
            storage.setItem(CART_STORAGE_KEY, JSON.stringify(cartState));
          } catch {}
        }
        if (typeof syncBadge === 'function') syncBadge();
        if (typeof renderCart === 'function') renderCart();
        try {
          sessionStorage?.setItem(DESIGN_SESSION_KEY, JSON.stringify(normalized));
        } catch {}
        return normalized;
      };

      syncBadge();
      renderCart();
      wireCartButtons();
      wireFavoriteButtons();
      upgradeLegacySwatchesToSlider();
      bindUploadLabels();
      initSwatchSliders();
      wireProductSwatches();
      wireColorOnlySwatches();
      wireSwatchActiveFallback();
      wireDesignButtons();
      initDesignSelections();
      moveBadgesToImages();
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', applyStoredDesignSelection, { once: true });
      } else {
        applyStoredDesignSelection();
      }

      const submitDesign = async () => {
        const designId = `design-${Date.now()}`;
        const product = await buildDesignProduct(designId);
        const normalized = normalizeProduct(product);
        const commerce = window.LDCCommerce;
        const medusaEnabled = commerce?.enabled && (document.body?.dataset?.medusaEnabled === 'true' || window.LDC_MEDUSA_ENABLED === true);
        if (medusaEnabled) {
          let variantId = selectedDesignVariantId || (lastDesignButton && await commerce.resolveVariantId(lastDesignButton));
          if (!variantId) {
            try {
              const stored = JSON.parse(localStorage.getItem(DESIGN_SELECTION_KEY) || 'null');
              if (stored?.variantId) {
                variantId = stored.variantId;
                selectedDesignVariantId = stored.variantId;
                applyStoredDesignSelection();
              }
            } catch {}
          }
          if (!variantId) {
            alert('Select a product to design first (use the pencil icon on a product tile).');
            return;
          }
          const attachment = await readDesignAttachment();
          let uploadedAttachment = null;
          if (attachment?.dataUrl) {
            uploadedAttachment = await uploadDesignAttachment(attachment);
          } else if (attachment?.name) {
            alert('Attachment is too large. Please upload a file under 5MB.');
          }
          const metadata = await buildDesignMetadata(variantId, uploadedAttachment, attachment);
          try {
            await commerce.addLineItem(variantId, 1, metadata);
          } catch (error) {
            console.warn('Design submit failed to add to Medusa cart', error);
            throw error;
          }
          await commerce.syncBadges();
          window.location.href = 'checkout.html';
          return;
        }
        // Update local cart via API if available
        if (cartApi && typeof cartApi.addProduct === 'function') {
          cartApi.addProduct(normalized);
        }
        // Ensure cart state exists and contains the design
        cartState = cartState && Array.isArray(cartState.items) ? cartState : { items: [] };
        const idx = cartState.items.findIndex(item => item?.id === normalized.id);
        if (idx >= 0) cartState.items[idx] = normalized;
        else cartState.items.push(normalized);

        // Persist cart
        if (typeof saveCart === 'function') {
          saveCart();
        } else if (storage) {
          try {
            storage.setItem(CART_STORAGE_KEY, JSON.stringify(cartState));
          } catch {}
        }
        if (typeof syncBadge === 'function') syncBadge();
        if (typeof renderCart === 'function') renderCart();
        try {
          sessionStorage?.setItem(DESIGN_SESSION_KEY, JSON.stringify(normalized));
        } catch {}

        // Also persist checkout cart in storage
        if (storage) {
          try {
            storage.setItem(CART_STORAGE_KEY, JSON.stringify(cartState));
          } catch {}
        }

        window.location.href = 'checkout.html';
      };

      const designSubmitBtn = document.querySelector('[data-design-submit]');
      if (designSubmitBtn) {
        designSubmitBtn.addEventListener('click', async event => {
          event.preventDefault();
        try {
          await submitDesign();
        } catch (error) {
          console.warn('Design submit failed to add to cart', error);
          try {
            localStorage.setItem('ldc:design:last_error', JSON.stringify({
              time: new Date().toISOString(),
              message: error?.message || String(error)
            }));
          } catch {}
          const fallbackHref = designSubmitBtn.getAttribute('href') || 'checkout.html';
          window.location.href = fallbackHref;
        }
      });
    }
      window.addEventListener('load', moveBadgesToImages);
      document.addEventListener('DOMContentLoaded', moveBadgesToImages);
      window.addEventListener('resize', moveBadgesToImages);
      window.addEventListener('ldc:products:rendered', () => {
        wireDesignButtons();
      });

      window.ldcCart = cartApi;

      document.addEventListener('cart:add', event => {
        const detail = event?.detail;
        if (detail?.product) {
          cartApi.addProduct(detail.product);
        } else {
          cartApi.add(detail?.amount ?? 1);
        }
      });

      document.addEventListener('cart:remove', event => {
        const detail = event?.detail;
        if (detail?.id) {
          cartApi.removeItem(detail.id);
        } else {
          cartApi.remove(detail?.amount ?? 1);
        }
      });

      document.addEventListener('cart:set', event => {
        const detail = event?.detail;
        if (Array.isArray(detail?.items)) {
          cartState.items = detail.items.map(normalizeProduct).filter(Boolean);
          saveCart();
          syncBadge();
          renderCart();
        } else if (detail?.amount != null) {
          cartApi.set(detail.amount);
        }
      });

      // Safety net: rebind homepage design swatches so the selection bubbles always update.
      (() => {
        const colorTarget = document.querySelector('[data-selected-color]');
        const accessoryTarget = document.querySelector('[data-selected-accessory]');
        if (!colorTarget && !accessoryTarget) return;

        const applySelection = (target, swatch, placeholder) => {
          if (!target || !swatch) return;
          const swatchNode = target.querySelector('.design-selection-swatch');
          const labelNode = target.querySelector('.design-selection-label');
          const rawLabel = swatch.getAttribute('aria-label') || placeholder;
          const cleanedLabel = normalizeSwatchLabel(rawLabel) || rawLabel;
          const label = cleanedLabel
            ? cleanedLabel.replace(/\b\w+/g, word => word.charAt(0).toUpperCase() + word.slice(1))
            : cleanedLabel;
          const style = swatch.getAttribute('style') || '';
          const glyph = (swatch.textContent || '').trim();
          if (swatchNode) {
            swatchNode.setAttribute('style', style);
            swatchNode.textContent = glyph;
          }
          if (labelNode) {
            labelNode.textContent = label;
          }
          target.classList.add('has-selection');
          activateSwatchVisual(swatch);
          if (target === accessoryTarget && typeof updateDesignTotal === 'function') {
            const priceAttr = swatch.getAttribute('data-price');
            const parsedPrice = priceAttr ? parseFloat(priceAttr) : 0;
            accessoryPrice = Number.isFinite(parsedPrice) ? parsedPrice : 0;
            selectedAccessoryLabel = label;
            selectedAccessoryStyle = style;
            selectedAccessoryGlyph = glyph;
            selectedAccessoryImageSrc = swatch.getAttribute('data-image-src') || '';
            selectedAccessoryImageAlt = swatch.getAttribute('data-image-alt') || '';
            updateAccessoryPreview(style, label, glyph, selectedAccessoryImageSrc, selectedAccessoryImageAlt);
            updateDesignTotal();
          } else if (target === colorTarget) {
            selectedColorLabel = label;
            selectedColorStyle = style;
            selectedColorGlyph = glyph;
            updateColorPreview(style, label, glyph);
            const imageSrc = swatch.getAttribute('data-image-src');
            if (imageSrc) {
              lastImageState = {
                src: imageSrc,
                alt: swatch.getAttribute('data-image-alt') || label || 'Custom design preview'
              };
              showImagePreview();
            }
          }
          const previewTarget =
            target === colorTarget
              ? designColorPreviewWrap
              : target === accessoryTarget
                ? designAccessoryPreviewWrap
                : designFrame;
          scrollDesignPreviewIntoView(previewTarget);
        };

        const bind = (selector, target, placeholder) => {
          if (!target) return;
          document.querySelectorAll(selector).forEach(swatch => {
            if (swatch.dataset.homeSelectionInit) return;
            swatch.dataset.homeSelectionInit = 'true';
            swatch.addEventListener('click', event => {
              event.preventDefault();
              applySelection(target, swatch, placeholder);
            });
            swatch.addEventListener('keydown', event => {
              if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                applySelection(target, swatch, placeholder);
              }
            });
          });
        };

        bind('[data-design-colors-source] .swatch', colorTarget, 'Color selected');
        bind('[data-design-accessories-source] .swatch', accessoryTarget, 'Accessory selected');
      })();
    </script>
    <script>
      (() => {
        const notes = document.getElementById('design-notes-home');
        if (!notes) return;
        const autosize = () => {
          notes.style.height = 'auto';
          notes.style.height = `${notes.scrollHeight}px`;
        };
        notes.addEventListener('input', autosize);
        autosize();
      })();
    </script>
    <script>
      (() => {
        const designSection = document.getElementById('section-customization');
        if (!designSection) return;
        if (designSection.dataset.designBubbleInit) return;
        designSection.dataset.designBubbleInit = 'true';

        const colorTarget = designSection.querySelector('[data-selected-color]');
        const accessoryTarget = designSection.querySelector('[data-selected-accessory]');
        if (!colorTarget && !accessoryTarget) return;

        const applySelection = (target, swatch, placeholder) => {
          if (!target || !swatch) return;
          const swatchNode = target.querySelector('.design-selection-swatch');
          const labelNode = target.querySelector('.design-selection-label');
          const rawLabel = swatch.getAttribute('aria-label') || placeholder;
          const cleanedLabel = normalizeSwatchLabel(rawLabel) || rawLabel;
          const label = cleanedLabel
            ? cleanedLabel.replace(/\b\w+/g, word => word.charAt(0).toUpperCase() + word.slice(1))
            : cleanedLabel;
          const style = swatch.getAttribute('style') || '';
          const glyph = (swatch.textContent || '').trim();
          if (swatchNode) {
            swatchNode.setAttribute('style', style);
            swatchNode.textContent = glyph;
          }
          if (labelNode) {
            labelNode.textContent = label;
          }
          target.classList.add('has-selection');
          if (target === accessoryTarget) {
            const priceAttr = swatch.getAttribute('data-price');
            const parsedPrice = priceAttr ? parseFloat(priceAttr) : 0;
            accessoryPrice = Number.isFinite(parsedPrice) ? parsedPrice : 0;
            selectedAccessoryLabel = label;
            selectedAccessoryStyle = style;
            selectedAccessoryGlyph = glyph;
            selectedAccessoryImageSrc = swatch.getAttribute('data-image-src') || '';
            selectedAccessoryImageAlt = swatch.getAttribute('data-image-alt') || '';
            updateAccessoryPreview(style, label, glyph, selectedAccessoryImageSrc, selectedAccessoryImageAlt);
            if (typeof updateDesignTotal === 'function') updateDesignTotal();
          } else if (target === colorTarget) {
            selectedColorLabel = label;
            selectedColorStyle = style;
            selectedColorGlyph = glyph;
            updateColorPreview(style, label, glyph);
            const imageSrc = swatch.getAttribute('data-image-src');
          if (imageSrc) {
            lastImageState = {
              src: imageSrc,
              alt: swatch.getAttribute('data-image-alt') || label || 'Custom design preview'
            };
            showImagePreview();
          }
        }
        const previewTarget =
          target === colorTarget
            ? designColorPreviewWrap
            : target === accessoryTarget
              ? designAccessoryPreviewWrap
              : designFrame;
        scrollDesignPreviewIntoView(previewTarget);
      };

        const clearTarget = (target, placeholder) => {
          if (!target) return;
          const swatchNode = target.querySelector('.design-selection-swatch');
          const labelNode = target.querySelector('.design-selection-label');
          if (swatchNode) {
            swatchNode.removeAttribute('style');
            swatchNode.textContent = '';
          }
          if (labelNode) {
            labelNode.textContent = placeholder;
          }
          target.classList.remove('has-selection');
          if (target === accessoryTarget && typeof updateDesignTotal === 'function') {
            accessoryPrice = 0;
            updateDesignTotal();
            selectedAccessoryStyle = '';
            selectedAccessoryGlyph = '';
            selectedAccessoryImageSrc = '';
            selectedAccessoryImageAlt = '';
            updateAccessoryPreview('', '');
          } else if (target === colorTarget) {
            selectedColorLabel = '';
            selectedColorStyle = '';
            selectedColorGlyph = '';
            updateColorPreview('', '');
          }
        };

        const handleSwatch = (event, target, placeholder, scopeAttr) => {
          if (!target) return;
          const swatch = event.target.closest('.swatch');
          if (!swatch) return;
          const scope = swatch.closest(`[${scopeAttr}]`);
          if (!scope || !designSection.contains(scope)) return;
          event.preventDefault();
          applySelection(target, swatch, placeholder);
        };

        designSection.addEventListener('click', event => {
          handleSwatch(event, colorTarget, 'Color selected', 'data-design-colors-source');
          handleSwatch(event, accessoryTarget, 'Accessory selected', 'data-design-accessories-source');
        });

        designSection.addEventListener('keydown', event => {
          if (event.key !== 'Enter' && event.key !== ' ') return;
          handleSwatch(event, colorTarget, 'Color selected', 'data-design-colors-source');
          handleSwatch(event, accessoryTarget, 'Accessory selected', 'data-design-accessories-source');
        });

        const bindClear = (selector, target, placeholder) => {
          if (!target) return;
          const button = designSection.querySelector(selector);
          if (!button || button.dataset.designBubbleClearInit) return;
          button.dataset.designBubbleClearInit = 'true';
          button.addEventListener('click', event => {
            event.preventDefault();
            clearTarget(target, placeholder);
          });
        };

        bindClear('[data-clear-color]', colorTarget, 'Select a color');
        bindClear('[data-clear-accessory]', accessoryTarget, 'Select an accessory');
      })();

      (() => {
        const carouselSelectors = [
          '.tumbler-carousel',
          '.cups-carousel',
          '.accessories-carousel',
          '.popular-categories-carousel',
          '[data-instagram-grid]'
        ];

        const removeClones = container => {
          container.querySelectorAll('[data-loop-clone="true"]').forEach(clone => clone.remove());
          delete container.dataset.loopInit;
        };

        const cleanupCarousels = () => {
          document.querySelectorAll(carouselSelectors.join(',')).forEach(removeClones);
        };

        cleanupCarousels();
        window.addEventListener('resize', cleanupCarousels);
      })();

      (() => {
        const cue = document.querySelector('#section-2 .swipe-cue');
        const section = document.getElementById('section-2');
        if (!cue || !section) return;
        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

        const trigger = () => {
          cue.classList.remove('is-active');
          void cue.offsetWidth;
          cue.classList.add('is-active');
        };

        if ('IntersectionObserver' in window) {
          const observer = new IntersectionObserver(
            entries => {
              if (entries.some(entry => entry.isIntersecting)) {
                trigger();
              }
            },
            { threshold: 0.2 }
          );
          observer.observe(section);
        } else {
          const onScroll = () => {
            const rect = section.getBoundingClientRect();
            if (rect.top < window.innerHeight * 0.8) {
              window.removeEventListener('scroll', onScroll);
              trigger();
            }
          };
          window.addEventListener('scroll', onScroll, { passive: true });
          onScroll();
        }
      })();
    </script>
    <script src="assets/hls.min.js" defer></script>
    <script src="commerce.js" defer></script>
    <!-- Redeploy trigger: storefront metadata sync -->
  
    <script>
      /* HLS_INIT_AUTOPLAY */
      (function () {
        function initVideo(video) {
          try {
            video.muted = true;
            video.setAttribute('muted', '');
            video.setAttribute('playsinline', '');
            video.autoplay = true;
            video.loop = true;
            video.controls = false;
          } catch (e) {}

          const src = video.getAttribute('data-hls-src');
          if (!src) return;

          const canNative = video.canPlayType && video.canPlayType('application/vnd.apple.mpegurl');
          if (canNative) {
            video.src = src;
            const play = () => video.play().catch(() => {});
            video.addEventListener('loadedmetadata', play, { once: true });
            video.addEventListener('canplay', play, { once: true });
            return;
          }

          if (window.Hls && window.Hls.isSupported()) {
            const hls = new window.Hls({
              enableWorker: true,
              lowLatencyMode: true,
            });
            hls.loadSource(src);
            hls.attachMedia(video);
            hls.on(window.Hls.Events.MANIFEST_PARSED, function () {
              video.play().catch(() => {});
            });
          }
        }

        function boot() {
          document.querySelectorAll('video[data-hls-src]').forEach(initVideo);
        }

        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', boot, { once: true });
        } else {
          boot();
        }
      })();
    </script>

</body>
</html>
